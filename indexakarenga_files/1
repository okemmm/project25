/*! For license information please see _bundle.js.LICENSE.txt */
!function(){var t={7907:function(t,e,n){var r,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}i=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,o=void 0,i=void 0,u=function(t,e){h[r]=t;h[r+1]=e;2===(r+=2)&&(i?i(y):g())},s="undefined"!=typeof window?window:void 0,l=s||{},c=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(y,1)}}var h=new Array(1e3);function y(){for(var t=0;t<r;t+=2){(0,h[t])(h[t+1]);h[t]=void 0;h[t+1]=void 0}r=0}var g=void 0;g=f?function(){return process.nextTick(y)}:c?function(){var t=0,e=new c(y),n=document.createTextNode("");e.observe(n,{characterData:!0});return function(){n.data=t=++t%2}}():p?function(){var t=new MessageChannel;t.port1.onmessage=y;return function(){return t.port2.postMessage(0)}}():void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(y)}:d()}catch(t){return d()}}():d();function v(t,e){var n=this,r=new this.constructor(w);void 0===r[b]&&I(r);var o=n._state;if(o){var i=arguments[o-1];u((function(){return j(o,r,i,n._result)}))}else A(n,r,t,e);return r}function m(t){if(t&&"object"===a(t)&&t.constructor===this)return t;var e=new this(w);O(e,t);return e}var b=Math.random().toString(36).substring(2);function w(){}var S=void 0,k=1,T=2;function C(e,n,r){n.constructor===e.constructor&&r===v&&n.constructor.resolve===m?function(t,e){e._state===k?P(t,e._result):e._state===T?_(t,e._result):A(e,void 0,(function(e){return O(t,e)}),(function(e){return _(t,e)}))}(e,n):void 0===r?P(e,n):t(r)?function(t,e,n){u((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){if(!r){r=!0;e!==n?O(t,n):P(t,n)}}),(function(e){if(!r){r=!0;_(t,e)}}),t._label);if(!r&&o){r=!0;_(t,o)}}),t)}(e,n,r):P(e,n)}function O(t,e){if(t===e)_(t,new TypeError("You cannot resolve a promise with itself"));else if(o=a(r=e),null===r||"object"!==o&&"function"!==o)P(t,e);else{var n=void 0;try{n=e.then}catch(e){_(t,e);return}C(t,e,n)}var r,o}function E(t){t._onerror&&t._onerror(t._result);x(t)}function P(t,e){if(t._state===S){t._result=e;t._state=k;0!==t._subscribers.length&&u(x,t)}}function _(t,e){if(t._state===S){t._state=T;t._result=e;u(E,t)}}function A(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null;o[i]=e;o[i+k]=n;o[i+T]=r;0===i&&t._state&&u(x,t)}function x(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3){r=e[a];o=e[a+n];r?j(n,r,o,i):o(i)}t._subscribers.length=0}}function j(e,n,r,o){var i=t(r),a=void 0,u=void 0,s=!0;if(i){try{a=r(o)}catch(t){s=!1;u=t}if(n===a){_(n,new TypeError("A promises callback cannot return that same promise."));return}}else a=o;n._state!==S||(i&&s?O(n,a):!1===s?_(n,u):e===k?P(n,a):e===T&&_(n,a))}var L=0;function I(t){t[b]=L++;t._state=void 0;t._result=void 0;t._subscribers=[]}var D=function(){function t(t,n){this._instanceConstructor=t;this.promise=new t(w);this.promise[b]||I(this.promise);if(e(n)){this.length=n.length;this._remaining=n.length;this._result=new Array(this.length);if(0===this.length)P(this.promise,this._result);else{this.length=this.length||0;this._enumerate(n);0===this._remaining&&P(this.promise,this._result)}}else _(this.promise,new Error("Array Methods must be provided an Array"))}t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)};t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===m){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(t){a=!0;i=t}if(o===v&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof o){this._remaining--;this._result[e]=t}else if(n===N){var u=new n(w);a?_(u,i):C(u,t,o);this._willSettleAt(u,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)};t.prototype._settledAt=function(t,e,n){var r=this.promise;if(r._state===S){this._remaining--;t===T?_(r,n):this._result[e]=n}0===this._remaining&&P(r,this._result)};t.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,(function(t){return n._settledAt(k,e,t)}),(function(t){return n._settledAt(T,e,t)}))};return t}(),N=function(){function e(t){this[b]=L++;this._result=this._state=void 0;this._subscribers=[];if(w!==t){"function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}();this instanceof e?function(t,e){try{e((function(e){O(t,e)}),(function(e){_(t,e)}))}catch(e){_(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}()}}e.prototype["catch"]=function(t){return this.then(null,t)};e.prototype["finally"]=function(e){var n=this,r=n.constructor;return t(e)?n.then((function(t){return r.resolve(e()).then((function(){return t}))}),(function(t){return r.resolve(e()).then((function(){throw t}))})):n.then(e,e)};return e}();N.prototype.then=v;N.all=function(t){return new D(this,t).promise};N.race=function(t){var n=this;return e(t)?new n((function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))};N.resolve=m;N.reject=function(t){var e=new this(w);_(e,t);return e};N._setScheduler=function(t){i=t};N._setAsap=function(t){u=t};N._asap=u;N.polyfill=function(){var t=void 0;if(void 0!==n.g)t=n.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=N};N.Promise=N;return N},"object"===a(e)?t.exports=i():void 0!==(o="function"==typeof(r=i)?r.call(e,n,e,t):r)&&(t.exports=o)},121:function(t){t.exports=function(){var t,e=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);i||n.addEventListener(o,t=function(){n.removeEventListener(o,t);i=1;for(;t=e.shift();)t()});return function(t){i?setTimeout(t,0):e.push(t)}}()},4987:function(t){function e(t,e,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=e.get(i);if(void 0===a){a=t.call(this,r);e.set(i,a)}return a}function n(t,e,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=e.get(o);if(void 0===i){i=t.apply(this,r);e.set(o,i)}return i}function r(t,e,n,r,o){return n.bind(e,t,r,o)}function o(t,o){return r(t,this,1===t.length?e:n,o.cache.create(),o.serializer)}function i(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(t){return t in this.cache};a.prototype.get=function(t){return this.cache[t]};a.prototype.set=function(t,e){this.cache[t]=e};var u={create:function(){return new a}};t.exports=function(t,e){var n=e&&e.cache?e.cache:u,r=e&&e.serializer?e.serializer:i;return(e&&e.strategy?e.strategy:o)(t,{cache:n,serializer:r})};t.exports.strategies={variadic:function(t,e){return r(t,this,n,e.cache.create(),e.serializer)},monadic:function(t,n){return r(t,this,e,n.cache.create(),n.serializer)}}},9839:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4826),o=["apos","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","quot","amp","lt","gt","OElig","oelig","Scaron","scaron","Yuml","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","permil","lsaquo","rsaquo","euro","fnof","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","bull","hellip","prime","Prime","oline","frasl","weierp","image","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams"],i=[39,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,34,38,60,62,338,339,352,353,376,710,732,8194,8195,8201,8204,8205,8206,8207,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8240,8249,8250,8364,402,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,977,978,982,8226,8230,8242,8243,8254,8260,8472,8465,8476,8482,8501,8592,8593,8594,8595,8596,8629,8656,8657,8658,8659,8660,8704,8706,8707,8709,8711,8712,8713,8715,8719,8721,8722,8727,8730,8733,8734,8736,8743,8744,8745,8746,8747,8756,8764,8773,8776,8800,8801,8804,8805,8834,8835,8836,8838,8839,8853,8855,8869,8901,8968,8969,8970,8971,9001,9002,9674,9824,9827,9829,9830],a={},u={};!function(){for(var t=0,e=o.length;t<e;){var n=o[t],r=i[t];a[n]=String.fromCharCode(r);u[r]=n;t++}}();var s=function(){function t(){}t.prototype.decode=function(t){return t&&t.length?t.replace(/&(#?[\w\d]+);?/g,(function(t,e){var n;if("#"===e.charAt(0)){var o="x"===e.charAt(1).toLowerCase()?parseInt(e.substr(2),16):parseInt(e.substr(1));(!isNaN(o)||o>=-32768)&&(n=o<=65535?String.fromCharCode(o):r.fromCodePoint(o))}else n=a[e];return n||t})):""};t.decode=function(e){return(new t).decode(e)};t.prototype.encode=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",r=0;r<e;){var o=u[t.charCodeAt(r)];n+=o?"&"+o+";":t.charAt(r);r++}return n};t.encode=function(e){return(new t).encode(e)};t.prototype.encodeNonUTF=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o),a=u[i];if(a)n+="&"+a+";";else if(i<32||i>126)if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+i+";";else n+=t.charAt(o);o++}return n};t.encodeNonUTF=function(e){return(new t).encodeNonUTF(e)};t.prototype.encodeNonASCII=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o);if(i<=255)n+=t[o++];else{if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+i+";";o++}}return n};t.encodeNonASCII=function(e){return(new t).encodeNonASCII(e)};return t}();e.Html4Entities=s},4490:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4826),o=[["Aacute",[193]],["aacute",[225]],["Abreve",[258]],["abreve",[259]],["ac",[8766]],["acd",[8767]],["acE",[8766,819]],["Acirc",[194]],["acirc",[226]],["acute",[180]],["Acy",[1040]],["acy",[1072]],["AElig",[198]],["aelig",[230]],["af",[8289]],["Afr",[120068]],["afr",[120094]],["Agrave",[192]],["agrave",[224]],["alefsym",[8501]],["aleph",[8501]],["Alpha",[913]],["alpha",[945]],["Amacr",[256]],["amacr",[257]],["amalg",[10815]],["amp",[38]],["AMP",[38]],["andand",[10837]],["And",[10835]],["and",[8743]],["andd",[10844]],["andslope",[10840]],["andv",[10842]],["ang",[8736]],["ange",[10660]],["angle",[8736]],["angmsdaa",[10664]],["angmsdab",[10665]],["angmsdac",[10666]],["angmsdad",[10667]],["angmsdae",[10668]],["angmsdaf",[10669]],["angmsdag",[10670]],["angmsdah",[10671]],["angmsd",[8737]],["angrt",[8735]],["angrtvb",[8894]],["angrtvbd",[10653]],["angsph",[8738]],["angst",[197]],["angzarr",[9084]],["Aogon",[260]],["aogon",[261]],["Aopf",[120120]],["aopf",[120146]],["apacir",[10863]],["ap",[8776]],["apE",[10864]],["ape",[8778]],["apid",[8779]],["apos",[39]],["ApplyFunction",[8289]],["approx",[8776]],["approxeq",[8778]],["Aring",[197]],["aring",[229]],["Ascr",[119964]],["ascr",[119990]],["Assign",[8788]],["ast",[42]],["asymp",[8776]],["asympeq",[8781]],["Atilde",[195]],["atilde",[227]],["Auml",[196]],["auml",[228]],["awconint",[8755]],["awint",[10769]],["backcong",[8780]],["backepsilon",[1014]],["backprime",[8245]],["backsim",[8765]],["backsimeq",[8909]],["Backslash",[8726]],["Barv",[10983]],["barvee",[8893]],["barwed",[8965]],["Barwed",[8966]],["barwedge",[8965]],["bbrk",[9141]],["bbrktbrk",[9142]],["bcong",[8780]],["Bcy",[1041]],["bcy",[1073]],["bdquo",[8222]],["becaus",[8757]],["because",[8757]],["Because",[8757]],["bemptyv",[10672]],["bepsi",[1014]],["bernou",[8492]],["Bernoullis",[8492]],["Beta",[914]],["beta",[946]],["beth",[8502]],["between",[8812]],["Bfr",[120069]],["bfr",[120095]],["bigcap",[8898]],["bigcirc",[9711]],["bigcup",[8899]],["bigodot",[10752]],["bigoplus",[10753]],["bigotimes",[10754]],["bigsqcup",[10758]],["bigstar",[9733]],["bigtriangledown",[9661]],["bigtriangleup",[9651]],["biguplus",[10756]],["bigvee",[8897]],["bigwedge",[8896]],["bkarow",[10509]],["blacklozenge",[10731]],["blacksquare",[9642]],["blacktriangle",[9652]],["blacktriangledown",[9662]],["blacktriangleleft",[9666]],["blacktriangleright",[9656]],["blank",[9251]],["blk12",[9618]],["blk14",[9617]],["blk34",[9619]],["block",[9608]],["bne",[61,8421]],["bnequiv",[8801,8421]],["bNot",[10989]],["bnot",[8976]],["Bopf",[120121]],["bopf",[120147]],["bot",[8869]],["bottom",[8869]],["bowtie",[8904]],["boxbox",[10697]],["boxdl",[9488]],["boxdL",[9557]],["boxDl",[9558]],["boxDL",[9559]],["boxdr",[9484]],["boxdR",[9554]],["boxDr",[9555]],["boxDR",[9556]],["boxh",[9472]],["boxH",[9552]],["boxhd",[9516]],["boxHd",[9572]],["boxhD",[9573]],["boxHD",[9574]],["boxhu",[9524]],["boxHu",[9575]],["boxhU",[9576]],["boxHU",[9577]],["boxminus",[8863]],["boxplus",[8862]],["boxtimes",[8864]],["boxul",[9496]],["boxuL",[9563]],["boxUl",[9564]],["boxUL",[9565]],["boxur",[9492]],["boxuR",[9560]],["boxUr",[9561]],["boxUR",[9562]],["boxv",[9474]],["boxV",[9553]],["boxvh",[9532]],["boxvH",[9578]],["boxVh",[9579]],["boxVH",[9580]],["boxvl",[9508]],["boxvL",[9569]],["boxVl",[9570]],["boxVL",[9571]],["boxvr",[9500]],["boxvR",[9566]],["boxVr",[9567]],["boxVR",[9568]],["bprime",[8245]],["breve",[728]],["Breve",[728]],["brvbar",[166]],["bscr",[119991]],["Bscr",[8492]],["bsemi",[8271]],["bsim",[8765]],["bsime",[8909]],["bsolb",[10693]],["bsol",[92]],["bsolhsub",[10184]],["bull",[8226]],["bullet",[8226]],["bump",[8782]],["bumpE",[10926]],["bumpe",[8783]],["Bumpeq",[8782]],["bumpeq",[8783]],["Cacute",[262]],["cacute",[263]],["capand",[10820]],["capbrcup",[10825]],["capcap",[10827]],["cap",[8745]],["Cap",[8914]],["capcup",[10823]],["capdot",[10816]],["CapitalDifferentialD",[8517]],["caps",[8745,65024]],["caret",[8257]],["caron",[711]],["Cayleys",[8493]],["ccaps",[10829]],["Ccaron",[268]],["ccaron",[269]],["Ccedil",[199]],["ccedil",[231]],["Ccirc",[264]],["ccirc",[265]],["Cconint",[8752]],["ccups",[10828]],["ccupssm",[10832]],["Cdot",[266]],["cdot",[267]],["cedil",[184]],["Cedilla",[184]],["cemptyv",[10674]],["cent",[162]],["centerdot",[183]],["CenterDot",[183]],["cfr",[120096]],["Cfr",[8493]],["CHcy",[1063]],["chcy",[1095]],["check",[10003]],["checkmark",[10003]],["Chi",[935]],["chi",[967]],["circ",[710]],["circeq",[8791]],["circlearrowleft",[8634]],["circlearrowright",[8635]],["circledast",[8859]],["circledcirc",[8858]],["circleddash",[8861]],["CircleDot",[8857]],["circledR",[174]],["circledS",[9416]],["CircleMinus",[8854]],["CirclePlus",[8853]],["CircleTimes",[8855]],["cir",[9675]],["cirE",[10691]],["cire",[8791]],["cirfnint",[10768]],["cirmid",[10991]],["cirscir",[10690]],["ClockwiseContourIntegral",[8754]],["clubs",[9827]],["clubsuit",[9827]],["colon",[58]],["Colon",[8759]],["Colone",[10868]],["colone",[8788]],["coloneq",[8788]],["comma",[44]],["commat",[64]],["comp",[8705]],["compfn",[8728]],["complement",[8705]],["complexes",[8450]],["cong",[8773]],["congdot",[10861]],["Congruent",[8801]],["conint",[8750]],["Conint",[8751]],["ContourIntegral",[8750]],["copf",[120148]],["Copf",[8450]],["coprod",[8720]],["Coproduct",[8720]],["copy",[169]],["COPY",[169]],["copysr",[8471]],["CounterClockwiseContourIntegral",[8755]],["crarr",[8629]],["cross",[10007]],["Cross",[10799]],["Cscr",[119966]],["cscr",[119992]],["csub",[10959]],["csube",[10961]],["csup",[10960]],["csupe",[10962]],["ctdot",[8943]],["cudarrl",[10552]],["cudarrr",[10549]],["cuepr",[8926]],["cuesc",[8927]],["cularr",[8630]],["cularrp",[10557]],["cupbrcap",[10824]],["cupcap",[10822]],["CupCap",[8781]],["cup",[8746]],["Cup",[8915]],["cupcup",[10826]],["cupdot",[8845]],["cupor",[10821]],["cups",[8746,65024]],["curarr",[8631]],["curarrm",[10556]],["curlyeqprec",[8926]],["curlyeqsucc",[8927]],["curlyvee",[8910]],["curlywedge",[8911]],["curren",[164]],["curvearrowleft",[8630]],["curvearrowright",[8631]],["cuvee",[8910]],["cuwed",[8911]],["cwconint",[8754]],["cwint",[8753]],["cylcty",[9005]],["dagger",[8224]],["Dagger",[8225]],["daleth",[8504]],["darr",[8595]],["Darr",[8609]],["dArr",[8659]],["dash",[8208]],["Dashv",[10980]],["dashv",[8867]],["dbkarow",[10511]],["dblac",[733]],["Dcaron",[270]],["dcaron",[271]],["Dcy",[1044]],["dcy",[1076]],["ddagger",[8225]],["ddarr",[8650]],["DD",[8517]],["dd",[8518]],["DDotrahd",[10513]],["ddotseq",[10871]],["deg",[176]],["Del",[8711]],["Delta",[916]],["delta",[948]],["demptyv",[10673]],["dfisht",[10623]],["Dfr",[120071]],["dfr",[120097]],["dHar",[10597]],["dharl",[8643]],["dharr",[8642]],["DiacriticalAcute",[180]],["DiacriticalDot",[729]],["DiacriticalDoubleAcute",[733]],["DiacriticalGrave",[96]],["DiacriticalTilde",[732]],["diam",[8900]],["diamond",[8900]],["Diamond",[8900]],["diamondsuit",[9830]],["diams",[9830]],["die",[168]],["DifferentialD",[8518]],["digamma",[989]],["disin",[8946]],["div",[247]],["divide",[247]],["divideontimes",[8903]],["divonx",[8903]],["DJcy",[1026]],["djcy",[1106]],["dlcorn",[8990]],["dlcrop",[8973]],["dollar",[36]],["Dopf",[120123]],["dopf",[120149]],["Dot",[168]],["dot",[729]],["DotDot",[8412]],["doteq",[8784]],["doteqdot",[8785]],["DotEqual",[8784]],["dotminus",[8760]],["dotplus",[8724]],["dotsquare",[8865]],["doublebarwedge",[8966]],["DoubleContourIntegral",[8751]],["DoubleDot",[168]],["DoubleDownArrow",[8659]],["DoubleLeftArrow",[8656]],["DoubleLeftRightArrow",[8660]],["DoubleLeftTee",[10980]],["DoubleLongLeftArrow",[10232]],["DoubleLongLeftRightArrow",[10234]],["DoubleLongRightArrow",[10233]],["DoubleRightArrow",[8658]],["DoubleRightTee",[8872]],["DoubleUpArrow",[8657]],["DoubleUpDownArrow",[8661]],["DoubleVerticalBar",[8741]],["DownArrowBar",[10515]],["downarrow",[8595]],["DownArrow",[8595]],["Downarrow",[8659]],["DownArrowUpArrow",[8693]],["DownBreve",[785]],["downdownarrows",[8650]],["downharpoonleft",[8643]],["downharpoonright",[8642]],["DownLeftRightVector",[10576]],["DownLeftTeeVector",[10590]],["DownLeftVectorBar",[10582]],["DownLeftVector",[8637]],["DownRightTeeVector",[10591]],["DownRightVectorBar",[10583]],["DownRightVector",[8641]],["DownTeeArrow",[8615]],["DownTee",[8868]],["drbkarow",[10512]],["drcorn",[8991]],["drcrop",[8972]],["Dscr",[119967]],["dscr",[119993]],["DScy",[1029]],["dscy",[1109]],["dsol",[10742]],["Dstrok",[272]],["dstrok",[273]],["dtdot",[8945]],["dtri",[9663]],["dtrif",[9662]],["duarr",[8693]],["duhar",[10607]],["dwangle",[10662]],["DZcy",[1039]],["dzcy",[1119]],["dzigrarr",[10239]],["Eacute",[201]],["eacute",[233]],["easter",[10862]],["Ecaron",[282]],["ecaron",[283]],["Ecirc",[202]],["ecirc",[234]],["ecir",[8790]],["ecolon",[8789]],["Ecy",[1069]],["ecy",[1101]],["eDDot",[10871]],["Edot",[278]],["edot",[279]],["eDot",[8785]],["ee",[8519]],["efDot",[8786]],["Efr",[120072]],["efr",[120098]],["eg",[10906]],["Egrave",[200]],["egrave",[232]],["egs",[10902]],["egsdot",[10904]],["el",[10905]],["Element",[8712]],["elinters",[9191]],["ell",[8467]],["els",[10901]],["elsdot",[10903]],["Emacr",[274]],["emacr",[275]],["empty",[8709]],["emptyset",[8709]],["EmptySmallSquare",[9723]],["emptyv",[8709]],["EmptyVerySmallSquare",[9643]],["emsp13",[8196]],["emsp14",[8197]],["emsp",[8195]],["ENG",[330]],["eng",[331]],["ensp",[8194]],["Eogon",[280]],["eogon",[281]],["Eopf",[120124]],["eopf",[120150]],["epar",[8917]],["eparsl",[10723]],["eplus",[10865]],["epsi",[949]],["Epsilon",[917]],["epsilon",[949]],["epsiv",[1013]],["eqcirc",[8790]],["eqcolon",[8789]],["eqsim",[8770]],["eqslantgtr",[10902]],["eqslantless",[10901]],["Equal",[10869]],["equals",[61]],["EqualTilde",[8770]],["equest",[8799]],["Equilibrium",[8652]],["equiv",[8801]],["equivDD",[10872]],["eqvparsl",[10725]],["erarr",[10609]],["erDot",[8787]],["escr",[8495]],["Escr",[8496]],["esdot",[8784]],["Esim",[10867]],["esim",[8770]],["Eta",[919]],["eta",[951]],["ETH",[208]],["eth",[240]],["Euml",[203]],["euml",[235]],["euro",[8364]],["excl",[33]],["exist",[8707]],["Exists",[8707]],["expectation",[8496]],["exponentiale",[8519]],["ExponentialE",[8519]],["fallingdotseq",[8786]],["Fcy",[1060]],["fcy",[1092]],["female",[9792]],["ffilig",[64259]],["fflig",[64256]],["ffllig",[64260]],["Ffr",[120073]],["ffr",[120099]],["filig",[64257]],["FilledSmallSquare",[9724]],["FilledVerySmallSquare",[9642]],["fjlig",[102,106]],["flat",[9837]],["fllig",[64258]],["fltns",[9649]],["fnof",[402]],["Fopf",[120125]],["fopf",[120151]],["forall",[8704]],["ForAll",[8704]],["fork",[8916]],["forkv",[10969]],["Fouriertrf",[8497]],["fpartint",[10765]],["frac12",[189]],["frac13",[8531]],["frac14",[188]],["frac15",[8533]],["frac16",[8537]],["frac18",[8539]],["frac23",[8532]],["frac25",[8534]],["frac34",[190]],["frac35",[8535]],["frac38",[8540]],["frac45",[8536]],["frac56",[8538]],["frac58",[8541]],["frac78",[8542]],["frasl",[8260]],["frown",[8994]],["fscr",[119995]],["Fscr",[8497]],["gacute",[501]],["Gamma",[915]],["gamma",[947]],["Gammad",[988]],["gammad",[989]],["gap",[10886]],["Gbreve",[286]],["gbreve",[287]],["Gcedil",[290]],["Gcirc",[284]],["gcirc",[285]],["Gcy",[1043]],["gcy",[1075]],["Gdot",[288]],["gdot",[289]],["ge",[8805]],["gE",[8807]],["gEl",[10892]],["gel",[8923]],["geq",[8805]],["geqq",[8807]],["geqslant",[10878]],["gescc",[10921]],["ges",[10878]],["gesdot",[10880]],["gesdoto",[10882]],["gesdotol",[10884]],["gesl",[8923,65024]],["gesles",[10900]],["Gfr",[120074]],["gfr",[120100]],["gg",[8811]],["Gg",[8921]],["ggg",[8921]],["gimel",[8503]],["GJcy",[1027]],["gjcy",[1107]],["gla",[10917]],["gl",[8823]],["glE",[10898]],["glj",[10916]],["gnap",[10890]],["gnapprox",[10890]],["gne",[10888]],["gnE",[8809]],["gneq",[10888]],["gneqq",[8809]],["gnsim",[8935]],["Gopf",[120126]],["gopf",[120152]],["grave",[96]],["GreaterEqual",[8805]],["GreaterEqualLess",[8923]],["GreaterFullEqual",[8807]],["GreaterGreater",[10914]],["GreaterLess",[8823]],["GreaterSlantEqual",[10878]],["GreaterTilde",[8819]],["Gscr",[119970]],["gscr",[8458]],["gsim",[8819]],["gsime",[10894]],["gsiml",[10896]],["gtcc",[10919]],["gtcir",[10874]],["gt",[62]],["GT",[62]],["Gt",[8811]],["gtdot",[8919]],["gtlPar",[10645]],["gtquest",[10876]],["gtrapprox",[10886]],["gtrarr",[10616]],["gtrdot",[8919]],["gtreqless",[8923]],["gtreqqless",[10892]],["gtrless",[8823]],["gtrsim",[8819]],["gvertneqq",[8809,65024]],["gvnE",[8809,65024]],["Hacek",[711]],["hairsp",[8202]],["half",[189]],["hamilt",[8459]],["HARDcy",[1066]],["hardcy",[1098]],["harrcir",[10568]],["harr",[8596]],["hArr",[8660]],["harrw",[8621]],["Hat",[94]],["hbar",[8463]],["Hcirc",[292]],["hcirc",[293]],["hearts",[9829]],["heartsuit",[9829]],["hellip",[8230]],["hercon",[8889]],["hfr",[120101]],["Hfr",[8460]],["HilbertSpace",[8459]],["hksearow",[10533]],["hkswarow",[10534]],["hoarr",[8703]],["homtht",[8763]],["hookleftarrow",[8617]],["hookrightarrow",[8618]],["hopf",[120153]],["Hopf",[8461]],["horbar",[8213]],["HorizontalLine",[9472]],["hscr",[119997]],["Hscr",[8459]],["hslash",[8463]],["Hstrok",[294]],["hstrok",[295]],["HumpDownHump",[8782]],["HumpEqual",[8783]],["hybull",[8259]],["hyphen",[8208]],["Iacute",[205]],["iacute",[237]],["ic",[8291]],["Icirc",[206]],["icirc",[238]],["Icy",[1048]],["icy",[1080]],["Idot",[304]],["IEcy",[1045]],["iecy",[1077]],["iexcl",[161]],["iff",[8660]],["ifr",[120102]],["Ifr",[8465]],["Igrave",[204]],["igrave",[236]],["ii",[8520]],["iiiint",[10764]],["iiint",[8749]],["iinfin",[10716]],["iiota",[8489]],["IJlig",[306]],["ijlig",[307]],["Imacr",[298]],["imacr",[299]],["image",[8465]],["ImaginaryI",[8520]],["imagline",[8464]],["imagpart",[8465]],["imath",[305]],["Im",[8465]],["imof",[8887]],["imped",[437]],["Implies",[8658]],["incare",[8453]],["in",[8712]],["infin",[8734]],["infintie",[10717]],["inodot",[305]],["intcal",[8890]],["int",[8747]],["Int",[8748]],["integers",[8484]],["Integral",[8747]],["intercal",[8890]],["Intersection",[8898]],["intlarhk",[10775]],["intprod",[10812]],["InvisibleComma",[8291]],["InvisibleTimes",[8290]],["IOcy",[1025]],["iocy",[1105]],["Iogon",[302]],["iogon",[303]],["Iopf",[120128]],["iopf",[120154]],["Iota",[921]],["iota",[953]],["iprod",[10812]],["iquest",[191]],["iscr",[119998]],["Iscr",[8464]],["isin",[8712]],["isindot",[8949]],["isinE",[8953]],["isins",[8948]],["isinsv",[8947]],["isinv",[8712]],["it",[8290]],["Itilde",[296]],["itilde",[297]],["Iukcy",[1030]],["iukcy",[1110]],["Iuml",[207]],["iuml",[239]],["Jcirc",[308]],["jcirc",[309]],["Jcy",[1049]],["jcy",[1081]],["Jfr",[120077]],["jfr",[120103]],["jmath",[567]],["Jopf",[120129]],["jopf",[120155]],["Jscr",[119973]],["jscr",[119999]],["Jsercy",[1032]],["jsercy",[1112]],["Jukcy",[1028]],["jukcy",[1108]],["Kappa",[922]],["kappa",[954]],["kappav",[1008]],["Kcedil",[310]],["kcedil",[311]],["Kcy",[1050]],["kcy",[1082]],["Kfr",[120078]],["kfr",[120104]],["kgreen",[312]],["KHcy",[1061]],["khcy",[1093]],["KJcy",[1036]],["kjcy",[1116]],["Kopf",[120130]],["kopf",[120156]],["Kscr",[119974]],["kscr",[12e4]],["lAarr",[8666]],["Lacute",[313]],["lacute",[314]],["laemptyv",[10676]],["lagran",[8466]],["Lambda",[923]],["lambda",[955]],["lang",[10216]],["Lang",[10218]],["langd",[10641]],["langle",[10216]],["lap",[10885]],["Laplacetrf",[8466]],["laquo",[171]],["larrb",[8676]],["larrbfs",[10527]],["larr",[8592]],["Larr",[8606]],["lArr",[8656]],["larrfs",[10525]],["larrhk",[8617]],["larrlp",[8619]],["larrpl",[10553]],["larrsim",[10611]],["larrtl",[8610]],["latail",[10521]],["lAtail",[10523]],["lat",[10923]],["late",[10925]],["lates",[10925,65024]],["lbarr",[10508]],["lBarr",[10510]],["lbbrk",[10098]],["lbrace",[123]],["lbrack",[91]],["lbrke",[10635]],["lbrksld",[10639]],["lbrkslu",[10637]],["Lcaron",[317]],["lcaron",[318]],["Lcedil",[315]],["lcedil",[316]],["lceil",[8968]],["lcub",[123]],["Lcy",[1051]],["lcy",[1083]],["ldca",[10550]],["ldquo",[8220]],["ldquor",[8222]],["ldrdhar",[10599]],["ldrushar",[10571]],["ldsh",[8626]],["le",[8804]],["lE",[8806]],["LeftAngleBracket",[10216]],["LeftArrowBar",[8676]],["leftarrow",[8592]],["LeftArrow",[8592]],["Leftarrow",[8656]],["LeftArrowRightArrow",[8646]],["leftarrowtail",[8610]],["LeftCeiling",[8968]],["LeftDoubleBracket",[10214]],["LeftDownTeeVector",[10593]],["LeftDownVectorBar",[10585]],["LeftDownVector",[8643]],["LeftFloor",[8970]],["leftharpoondown",[8637]],["leftharpoonup",[8636]],["leftleftarrows",[8647]],["leftrightarrow",[8596]],["LeftRightArrow",[8596]],["Leftrightarrow",[8660]],["leftrightarrows",[8646]],["leftrightharpoons",[8651]],["leftrightsquigarrow",[8621]],["LeftRightVector",[10574]],["LeftTeeArrow",[8612]],["LeftTee",[8867]],["LeftTeeVector",[10586]],["leftthreetimes",[8907]],["LeftTriangleBar",[10703]],["LeftTriangle",[8882]],["LeftTriangleEqual",[8884]],["LeftUpDownVector",[10577]],["LeftUpTeeVector",[10592]],["LeftUpVectorBar",[10584]],["LeftUpVector",[8639]],["LeftVectorBar",[10578]],["LeftVector",[8636]],["lEg",[10891]],["leg",[8922]],["leq",[8804]],["leqq",[8806]],["leqslant",[10877]],["lescc",[10920]],["les",[10877]],["lesdot",[10879]],["lesdoto",[10881]],["lesdotor",[10883]],["lesg",[8922,65024]],["lesges",[10899]],["lessapprox",[10885]],["lessdot",[8918]],["lesseqgtr",[8922]],["lesseqqgtr",[10891]],["LessEqualGreater",[8922]],["LessFullEqual",[8806]],["LessGreater",[8822]],["lessgtr",[8822]],["LessLess",[10913]],["lesssim",[8818]],["LessSlantEqual",[10877]],["LessTilde",[8818]],["lfisht",[10620]],["lfloor",[8970]],["Lfr",[120079]],["lfr",[120105]],["lg",[8822]],["lgE",[10897]],["lHar",[10594]],["lhard",[8637]],["lharu",[8636]],["lharul",[10602]],["lhblk",[9604]],["LJcy",[1033]],["ljcy",[1113]],["llarr",[8647]],["ll",[8810]],["Ll",[8920]],["llcorner",[8990]],["Lleftarrow",[8666]],["llhard",[10603]],["lltri",[9722]],["Lmidot",[319]],["lmidot",[320]],["lmoustache",[9136]],["lmoust",[9136]],["lnap",[10889]],["lnapprox",[10889]],["lne",[10887]],["lnE",[8808]],["lneq",[10887]],["lneqq",[8808]],["lnsim",[8934]],["loang",[10220]],["loarr",[8701]],["lobrk",[10214]],["longleftarrow",[10229]],["LongLeftArrow",[10229]],["Longleftarrow",[10232]],["longleftrightarrow",[10231]],["LongLeftRightArrow",[10231]],["Longleftrightarrow",[10234]],["longmapsto",[10236]],["longrightarrow",[10230]],["LongRightArrow",[10230]],["Longrightarrow",[10233]],["looparrowleft",[8619]],["looparrowright",[8620]],["lopar",[10629]],["Lopf",[120131]],["lopf",[120157]],["loplus",[10797]],["lotimes",[10804]],["lowast",[8727]],["lowbar",[95]],["LowerLeftArrow",[8601]],["LowerRightArrow",[8600]],["loz",[9674]],["lozenge",[9674]],["lozf",[10731]],["lpar",[40]],["lparlt",[10643]],["lrarr",[8646]],["lrcorner",[8991]],["lrhar",[8651]],["lrhard",[10605]],["lrm",[8206]],["lrtri",[8895]],["lsaquo",[8249]],["lscr",[120001]],["Lscr",[8466]],["lsh",[8624]],["Lsh",[8624]],["lsim",[8818]],["lsime",[10893]],["lsimg",[10895]],["lsqb",[91]],["lsquo",[8216]],["lsquor",[8218]],["Lstrok",[321]],["lstrok",[322]],["ltcc",[10918]],["ltcir",[10873]],["lt",[60]],["LT",[60]],["Lt",[8810]],["ltdot",[8918]],["lthree",[8907]],["ltimes",[8905]],["ltlarr",[10614]],["ltquest",[10875]],["ltri",[9667]],["ltrie",[8884]],["ltrif",[9666]],["ltrPar",[10646]],["lurdshar",[10570]],["luruhar",[10598]],["lvertneqq",[8808,65024]],["lvnE",[8808,65024]],["macr",[175]],["male",[9794]],["malt",[10016]],["maltese",[10016]],["Map",[10501]],["map",[8614]],["mapsto",[8614]],["mapstodown",[8615]],["mapstoleft",[8612]],["mapstoup",[8613]],["marker",[9646]],["mcomma",[10793]],["Mcy",[1052]],["mcy",[1084]],["mdash",[8212]],["mDDot",[8762]],["measuredangle",[8737]],["MediumSpace",[8287]],["Mellintrf",[8499]],["Mfr",[120080]],["mfr",[120106]],["mho",[8487]],["micro",[181]],["midast",[42]],["midcir",[10992]],["mid",[8739]],["middot",[183]],["minusb",[8863]],["minus",[8722]],["minusd",[8760]],["minusdu",[10794]],["MinusPlus",[8723]],["mlcp",[10971]],["mldr",[8230]],["mnplus",[8723]],["models",[8871]],["Mopf",[120132]],["mopf",[120158]],["mp",[8723]],["mscr",[120002]],["Mscr",[8499]],["mstpos",[8766]],["Mu",[924]],["mu",[956]],["multimap",[8888]],["mumap",[8888]],["nabla",[8711]],["Nacute",[323]],["nacute",[324]],["nang",[8736,8402]],["nap",[8777]],["napE",[10864,824]],["napid",[8779,824]],["napos",[329]],["napprox",[8777]],["natural",[9838]],["naturals",[8469]],["natur",[9838]],["nbsp",[160]],["nbump",[8782,824]],["nbumpe",[8783,824]],["ncap",[10819]],["Ncaron",[327]],["ncaron",[328]],["Ncedil",[325]],["ncedil",[326]],["ncong",[8775]],["ncongdot",[10861,824]],["ncup",[10818]],["Ncy",[1053]],["ncy",[1085]],["ndash",[8211]],["nearhk",[10532]],["nearr",[8599]],["neArr",[8663]],["nearrow",[8599]],["ne",[8800]],["nedot",[8784,824]],["NegativeMediumSpace",[8203]],["NegativeThickSpace",[8203]],["NegativeThinSpace",[8203]],["NegativeVeryThinSpace",[8203]],["nequiv",[8802]],["nesear",[10536]],["nesim",[8770,824]],["NestedGreaterGreater",[8811]],["NestedLessLess",[8810]],["nexist",[8708]],["nexists",[8708]],["Nfr",[120081]],["nfr",[120107]],["ngE",[8807,824]],["nge",[8817]],["ngeq",[8817]],["ngeqq",[8807,824]],["ngeqslant",[10878,824]],["nges",[10878,824]],["nGg",[8921,824]],["ngsim",[8821]],["nGt",[8811,8402]],["ngt",[8815]],["ngtr",[8815]],["nGtv",[8811,824]],["nharr",[8622]],["nhArr",[8654]],["nhpar",[10994]],["ni",[8715]],["nis",[8956]],["nisd",[8954]],["niv",[8715]],["NJcy",[1034]],["njcy",[1114]],["nlarr",[8602]],["nlArr",[8653]],["nldr",[8229]],["nlE",[8806,824]],["nle",[8816]],["nleftarrow",[8602]],["nLeftarrow",[8653]],["nleftrightarrow",[8622]],["nLeftrightarrow",[8654]],["nleq",[8816]],["nleqq",[8806,824]],["nleqslant",[10877,824]],["nles",[10877,824]],["nless",[8814]],["nLl",[8920,824]],["nlsim",[8820]],["nLt",[8810,8402]],["nlt",[8814]],["nltri",[8938]],["nltrie",[8940]],["nLtv",[8810,824]],["nmid",[8740]],["NoBreak",[8288]],["NonBreakingSpace",[160]],["nopf",[120159]],["Nopf",[8469]],["Not",[10988]],["not",[172]],["NotCongruent",[8802]],["NotCupCap",[8813]],["NotDoubleVerticalBar",[8742]],["NotElement",[8713]],["NotEqual",[8800]],["NotEqualTilde",[8770,824]],["NotExists",[8708]],["NotGreater",[8815]],["NotGreaterEqual",[8817]],["NotGreaterFullEqual",[8807,824]],["NotGreaterGreater",[8811,824]],["NotGreaterLess",[8825]],["NotGreaterSlantEqual",[10878,824]],["NotGreaterTilde",[8821]],["NotHumpDownHump",[8782,824]],["NotHumpEqual",[8783,824]],["notin",[8713]],["notindot",[8949,824]],["notinE",[8953,824]],["notinva",[8713]],["notinvb",[8951]],["notinvc",[8950]],["NotLeftTriangleBar",[10703,824]],["NotLeftTriangle",[8938]],["NotLeftTriangleEqual",[8940]],["NotLess",[8814]],["NotLessEqual",[8816]],["NotLessGreater",[8824]],["NotLessLess",[8810,824]],["NotLessSlantEqual",[10877,824]],["NotLessTilde",[8820]],["NotNestedGreaterGreater",[10914,824]],["NotNestedLessLess",[10913,824]],["notni",[8716]],["notniva",[8716]],["notnivb",[8958]],["notnivc",[8957]],["NotPrecedes",[8832]],["NotPrecedesEqual",[10927,824]],["NotPrecedesSlantEqual",[8928]],["NotReverseElement",[8716]],["NotRightTriangleBar",[10704,824]],["NotRightTriangle",[8939]],["NotRightTriangleEqual",[8941]],["NotSquareSubset",[8847,824]],["NotSquareSubsetEqual",[8930]],["NotSquareSuperset",[8848,824]],["NotSquareSupersetEqual",[8931]],["NotSubset",[8834,8402]],["NotSubsetEqual",[8840]],["NotSucceeds",[8833]],["NotSucceedsEqual",[10928,824]],["NotSucceedsSlantEqual",[8929]],["NotSucceedsTilde",[8831,824]],["NotSuperset",[8835,8402]],["NotSupersetEqual",[8841]],["NotTilde",[8769]],["NotTildeEqual",[8772]],["NotTildeFullEqual",[8775]],["NotTildeTilde",[8777]],["NotVerticalBar",[8740]],["nparallel",[8742]],["npar",[8742]],["nparsl",[11005,8421]],["npart",[8706,824]],["npolint",[10772]],["npr",[8832]],["nprcue",[8928]],["nprec",[8832]],["npreceq",[10927,824]],["npre",[10927,824]],["nrarrc",[10547,824]],["nrarr",[8603]],["nrArr",[8655]],["nrarrw",[8605,824]],["nrightarrow",[8603]],["nRightarrow",[8655]],["nrtri",[8939]],["nrtrie",[8941]],["nsc",[8833]],["nsccue",[8929]],["nsce",[10928,824]],["Nscr",[119977]],["nscr",[120003]],["nshortmid",[8740]],["nshortparallel",[8742]],["nsim",[8769]],["nsime",[8772]],["nsimeq",[8772]],["nsmid",[8740]],["nspar",[8742]],["nsqsube",[8930]],["nsqsupe",[8931]],["nsub",[8836]],["nsubE",[10949,824]],["nsube",[8840]],["nsubset",[8834,8402]],["nsubseteq",[8840]],["nsubseteqq",[10949,824]],["nsucc",[8833]],["nsucceq",[10928,824]],["nsup",[8837]],["nsupE",[10950,824]],["nsupe",[8841]],["nsupset",[8835,8402]],["nsupseteq",[8841]],["nsupseteqq",[10950,824]],["ntgl",[8825]],["Ntilde",[209]],["ntilde",[241]],["ntlg",[8824]],["ntriangleleft",[8938]],["ntrianglelefteq",[8940]],["ntriangleright",[8939]],["ntrianglerighteq",[8941]],["Nu",[925]],["nu",[957]],["num",[35]],["numero",[8470]],["numsp",[8199]],["nvap",[8781,8402]],["nvdash",[8876]],["nvDash",[8877]],["nVdash",[8878]],["nVDash",[8879]],["nvge",[8805,8402]],["nvgt",[62,8402]],["nvHarr",[10500]],["nvinfin",[10718]],["nvlArr",[10498]],["nvle",[8804,8402]],["nvlt",[60,8402]],["nvltrie",[8884,8402]],["nvrArr",[10499]],["nvrtrie",[8885,8402]],["nvsim",[8764,8402]],["nwarhk",[10531]],["nwarr",[8598]],["nwArr",[8662]],["nwarrow",[8598]],["nwnear",[10535]],["Oacute",[211]],["oacute",[243]],["oast",[8859]],["Ocirc",[212]],["ocirc",[244]],["ocir",[8858]],["Ocy",[1054]],["ocy",[1086]],["odash",[8861]],["Odblac",[336]],["odblac",[337]],["odiv",[10808]],["odot",[8857]],["odsold",[10684]],["OElig",[338]],["oelig",[339]],["ofcir",[10687]],["Ofr",[120082]],["ofr",[120108]],["ogon",[731]],["Ograve",[210]],["ograve",[242]],["ogt",[10689]],["ohbar",[10677]],["ohm",[937]],["oint",[8750]],["olarr",[8634]],["olcir",[10686]],["olcross",[10683]],["oline",[8254]],["olt",[10688]],["Omacr",[332]],["omacr",[333]],["Omega",[937]],["omega",[969]],["Omicron",[927]],["omicron",[959]],["omid",[10678]],["ominus",[8854]],["Oopf",[120134]],["oopf",[120160]],["opar",[10679]],["OpenCurlyDoubleQuote",[8220]],["OpenCurlyQuote",[8216]],["operp",[10681]],["oplus",[8853]],["orarr",[8635]],["Or",[10836]],["or",[8744]],["ord",[10845]],["order",[8500]],["orderof",[8500]],["ordf",[170]],["ordm",[186]],["origof",[8886]],["oror",[10838]],["orslope",[10839]],["orv",[10843]],["oS",[9416]],["Oscr",[119978]],["oscr",[8500]],["Oslash",[216]],["oslash",[248]],["osol",[8856]],["Otilde",[213]],["otilde",[245]],["otimesas",[10806]],["Otimes",[10807]],["otimes",[8855]],["Ouml",[214]],["ouml",[246]],["ovbar",[9021]],["OverBar",[8254]],["OverBrace",[9182]],["OverBracket",[9140]],["OverParenthesis",[9180]],["para",[182]],["parallel",[8741]],["par",[8741]],["parsim",[10995]],["parsl",[11005]],["part",[8706]],["PartialD",[8706]],["Pcy",[1055]],["pcy",[1087]],["percnt",[37]],["period",[46]],["permil",[8240]],["perp",[8869]],["pertenk",[8241]],["Pfr",[120083]],["pfr",[120109]],["Phi",[934]],["phi",[966]],["phiv",[981]],["phmmat",[8499]],["phone",[9742]],["Pi",[928]],["pi",[960]],["pitchfork",[8916]],["piv",[982]],["planck",[8463]],["planckh",[8462]],["plankv",[8463]],["plusacir",[10787]],["plusb",[8862]],["pluscir",[10786]],["plus",[43]],["plusdo",[8724]],["plusdu",[10789]],["pluse",[10866]],["PlusMinus",[177]],["plusmn",[177]],["plussim",[10790]],["plustwo",[10791]],["pm",[177]],["Poincareplane",[8460]],["pointint",[10773]],["popf",[120161]],["Popf",[8473]],["pound",[163]],["prap",[10935]],["Pr",[10939]],["pr",[8826]],["prcue",[8828]],["precapprox",[10935]],["prec",[8826]],["preccurlyeq",[8828]],["Precedes",[8826]],["PrecedesEqual",[10927]],["PrecedesSlantEqual",[8828]],["PrecedesTilde",[8830]],["preceq",[10927]],["precnapprox",[10937]],["precneqq",[10933]],["precnsim",[8936]],["pre",[10927]],["prE",[10931]],["precsim",[8830]],["prime",[8242]],["Prime",[8243]],["primes",[8473]],["prnap",[10937]],["prnE",[10933]],["prnsim",[8936]],["prod",[8719]],["Product",[8719]],["profalar",[9006]],["profline",[8978]],["profsurf",[8979]],["prop",[8733]],["Proportional",[8733]],["Proportion",[8759]],["propto",[8733]],["prsim",[8830]],["prurel",[8880]],["Pscr",[119979]],["pscr",[120005]],["Psi",[936]],["psi",[968]],["puncsp",[8200]],["Qfr",[120084]],["qfr",[120110]],["qint",[10764]],["qopf",[120162]],["Qopf",[8474]],["qprime",[8279]],["Qscr",[119980]],["qscr",[120006]],["quaternions",[8461]],["quatint",[10774]],["quest",[63]],["questeq",[8799]],["quot",[34]],["QUOT",[34]],["rAarr",[8667]],["race",[8765,817]],["Racute",[340]],["racute",[341]],["radic",[8730]],["raemptyv",[10675]],["rang",[10217]],["Rang",[10219]],["rangd",[10642]],["range",[10661]],["rangle",[10217]],["raquo",[187]],["rarrap",[10613]],["rarrb",[8677]],["rarrbfs",[10528]],["rarrc",[10547]],["rarr",[8594]],["Rarr",[8608]],["rArr",[8658]],["rarrfs",[10526]],["rarrhk",[8618]],["rarrlp",[8620]],["rarrpl",[10565]],["rarrsim",[10612]],["Rarrtl",[10518]],["rarrtl",[8611]],["rarrw",[8605]],["ratail",[10522]],["rAtail",[10524]],["ratio",[8758]],["rationals",[8474]],["rbarr",[10509]],["rBarr",[10511]],["RBarr",[10512]],["rbbrk",[10099]],["rbrace",[125]],["rbrack",[93]],["rbrke",[10636]],["rbrksld",[10638]],["rbrkslu",[10640]],["Rcaron",[344]],["rcaron",[345]],["Rcedil",[342]],["rcedil",[343]],["rceil",[8969]],["rcub",[125]],["Rcy",[1056]],["rcy",[1088]],["rdca",[10551]],["rdldhar",[10601]],["rdquo",[8221]],["rdquor",[8221]],["CloseCurlyDoubleQuote",[8221]],["rdsh",[8627]],["real",[8476]],["realine",[8475]],["realpart",[8476]],["reals",[8477]],["Re",[8476]],["rect",[9645]],["reg",[174]],["REG",[174]],["ReverseElement",[8715]],["ReverseEquilibrium",[8651]],["ReverseUpEquilibrium",[10607]],["rfisht",[10621]],["rfloor",[8971]],["rfr",[120111]],["Rfr",[8476]],["rHar",[10596]],["rhard",[8641]],["rharu",[8640]],["rharul",[10604]],["Rho",[929]],["rho",[961]],["rhov",[1009]],["RightAngleBracket",[10217]],["RightArrowBar",[8677]],["rightarrow",[8594]],["RightArrow",[8594]],["Rightarrow",[8658]],["RightArrowLeftArrow",[8644]],["rightarrowtail",[8611]],["RightCeiling",[8969]],["RightDoubleBracket",[10215]],["RightDownTeeVector",[10589]],["RightDownVectorBar",[10581]],["RightDownVector",[8642]],["RightFloor",[8971]],["rightharpoondown",[8641]],["rightharpoonup",[8640]],["rightleftarrows",[8644]],["rightleftharpoons",[8652]],["rightrightarrows",[8649]],["rightsquigarrow",[8605]],["RightTeeArrow",[8614]],["RightTee",[8866]],["RightTeeVector",[10587]],["rightthreetimes",[8908]],["RightTriangleBar",[10704]],["RightTriangle",[8883]],["RightTriangleEqual",[8885]],["RightUpDownVector",[10575]],["RightUpTeeVector",[10588]],["RightUpVectorBar",[10580]],["RightUpVector",[8638]],["RightVectorBar",[10579]],["RightVector",[8640]],["ring",[730]],["risingdotseq",[8787]],["rlarr",[8644]],["rlhar",[8652]],["rlm",[8207]],["rmoustache",[9137]],["rmoust",[9137]],["rnmid",[10990]],["roang",[10221]],["roarr",[8702]],["robrk",[10215]],["ropar",[10630]],["ropf",[120163]],["Ropf",[8477]],["roplus",[10798]],["rotimes",[10805]],["RoundImplies",[10608]],["rpar",[41]],["rpargt",[10644]],["rppolint",[10770]],["rrarr",[8649]],["Rrightarrow",[8667]],["rsaquo",[8250]],["rscr",[120007]],["Rscr",[8475]],["rsh",[8625]],["Rsh",[8625]],["rsqb",[93]],["rsquo",[8217]],["rsquor",[8217]],["CloseCurlyQuote",[8217]],["rthree",[8908]],["rtimes",[8906]],["rtri",[9657]],["rtrie",[8885]],["rtrif",[9656]],["rtriltri",[10702]],["RuleDelayed",[10740]],["ruluhar",[10600]],["rx",[8478]],["Sacute",[346]],["sacute",[347]],["sbquo",[8218]],["scap",[10936]],["Scaron",[352]],["scaron",[353]],["Sc",[10940]],["sc",[8827]],["sccue",[8829]],["sce",[10928]],["scE",[10932]],["Scedil",[350]],["scedil",[351]],["Scirc",[348]],["scirc",[349]],["scnap",[10938]],["scnE",[10934]],["scnsim",[8937]],["scpolint",[10771]],["scsim",[8831]],["Scy",[1057]],["scy",[1089]],["sdotb",[8865]],["sdot",[8901]],["sdote",[10854]],["searhk",[10533]],["searr",[8600]],["seArr",[8664]],["searrow",[8600]],["sect",[167]],["semi",[59]],["seswar",[10537]],["setminus",[8726]],["setmn",[8726]],["sext",[10038]],["Sfr",[120086]],["sfr",[120112]],["sfrown",[8994]],["sharp",[9839]],["SHCHcy",[1065]],["shchcy",[1097]],["SHcy",[1064]],["shcy",[1096]],["ShortDownArrow",[8595]],["ShortLeftArrow",[8592]],["shortmid",[8739]],["shortparallel",[8741]],["ShortRightArrow",[8594]],["ShortUpArrow",[8593]],["shy",[173]],["Sigma",[931]],["sigma",[963]],["sigmaf",[962]],["sigmav",[962]],["sim",[8764]],["simdot",[10858]],["sime",[8771]],["simeq",[8771]],["simg",[10910]],["simgE",[10912]],["siml",[10909]],["simlE",[10911]],["simne",[8774]],["simplus",[10788]],["simrarr",[10610]],["slarr",[8592]],["SmallCircle",[8728]],["smallsetminus",[8726]],["smashp",[10803]],["smeparsl",[10724]],["smid",[8739]],["smile",[8995]],["smt",[10922]],["smte",[10924]],["smtes",[10924,65024]],["SOFTcy",[1068]],["softcy",[1100]],["solbar",[9023]],["solb",[10692]],["sol",[47]],["Sopf",[120138]],["sopf",[120164]],["spades",[9824]],["spadesuit",[9824]],["spar",[8741]],["sqcap",[8851]],["sqcaps",[8851,65024]],["sqcup",[8852]],["sqcups",[8852,65024]],["Sqrt",[8730]],["sqsub",[8847]],["sqsube",[8849]],["sqsubset",[8847]],["sqsubseteq",[8849]],["sqsup",[8848]],["sqsupe",[8850]],["sqsupset",[8848]],["sqsupseteq",[8850]],["square",[9633]],["Square",[9633]],["SquareIntersection",[8851]],["SquareSubset",[8847]],["SquareSubsetEqual",[8849]],["SquareSuperset",[8848]],["SquareSupersetEqual",[8850]],["SquareUnion",[8852]],["squarf",[9642]],["squ",[9633]],["squf",[9642]],["srarr",[8594]],["Sscr",[119982]],["sscr",[120008]],["ssetmn",[8726]],["ssmile",[8995]],["sstarf",[8902]],["Star",[8902]],["star",[9734]],["starf",[9733]],["straightepsilon",[1013]],["straightphi",[981]],["strns",[175]],["sub",[8834]],["Sub",[8912]],["subdot",[10941]],["subE",[10949]],["sube",[8838]],["subedot",[10947]],["submult",[10945]],["subnE",[10955]],["subne",[8842]],["subplus",[10943]],["subrarr",[10617]],["subset",[8834]],["Subset",[8912]],["subseteq",[8838]],["subseteqq",[10949]],["SubsetEqual",[8838]],["subsetneq",[8842]],["subsetneqq",[10955]],["subsim",[10951]],["subsub",[10965]],["subsup",[10963]],["succapprox",[10936]],["succ",[8827]],["succcurlyeq",[8829]],["Succeeds",[8827]],["SucceedsEqual",[10928]],["SucceedsSlantEqual",[8829]],["SucceedsTilde",[8831]],["succeq",[10928]],["succnapprox",[10938]],["succneqq",[10934]],["succnsim",[8937]],["succsim",[8831]],["SuchThat",[8715]],["sum",[8721]],["Sum",[8721]],["sung",[9834]],["sup1",[185]],["sup2",[178]],["sup3",[179]],["sup",[8835]],["Sup",[8913]],["supdot",[10942]],["supdsub",[10968]],["supE",[10950]],["supe",[8839]],["supedot",[10948]],["Superset",[8835]],["SupersetEqual",[8839]],["suphsol",[10185]],["suphsub",[10967]],["suplarr",[10619]],["supmult",[10946]],["supnE",[10956]],["supne",[8843]],["supplus",[10944]],["supset",[8835]],["Supset",[8913]],["supseteq",[8839]],["supseteqq",[10950]],["supsetneq",[8843]],["supsetneqq",[10956]],["supsim",[10952]],["supsub",[10964]],["supsup",[10966]],["swarhk",[10534]],["swarr",[8601]],["swArr",[8665]],["swarrow",[8601]],["swnwar",[10538]],["szlig",[223]],["Tab",[9]],["target",[8982]],["Tau",[932]],["tau",[964]],["tbrk",[9140]],["Tcaron",[356]],["tcaron",[357]],["Tcedil",[354]],["tcedil",[355]],["Tcy",[1058]],["tcy",[1090]],["tdot",[8411]],["telrec",[8981]],["Tfr",[120087]],["tfr",[120113]],["there4",[8756]],["therefore",[8756]],["Therefore",[8756]],["Theta",[920]],["theta",[952]],["thetasym",[977]],["thetav",[977]],["thickapprox",[8776]],["thicksim",[8764]],["ThickSpace",[8287,8202]],["ThinSpace",[8201]],["thinsp",[8201]],["thkap",[8776]],["thksim",[8764]],["THORN",[222]],["thorn",[254]],["tilde",[732]],["Tilde",[8764]],["TildeEqual",[8771]],["TildeFullEqual",[8773]],["TildeTilde",[8776]],["timesbar",[10801]],["timesb",[8864]],["times",[215]],["timesd",[10800]],["tint",[8749]],["toea",[10536]],["topbot",[9014]],["topcir",[10993]],["top",[8868]],["Topf",[120139]],["topf",[120165]],["topfork",[10970]],["tosa",[10537]],["tprime",[8244]],["trade",[8482]],["TRADE",[8482]],["triangle",[9653]],["triangledown",[9663]],["triangleleft",[9667]],["trianglelefteq",[8884]],["triangleq",[8796]],["triangleright",[9657]],["trianglerighteq",[8885]],["tridot",[9708]],["trie",[8796]],["triminus",[10810]],["TripleDot",[8411]],["triplus",[10809]],["trisb",[10701]],["tritime",[10811]],["trpezium",[9186]],["Tscr",[119983]],["tscr",[120009]],["TScy",[1062]],["tscy",[1094]],["TSHcy",[1035]],["tshcy",[1115]],["Tstrok",[358]],["tstrok",[359]],["twixt",[8812]],["twoheadleftarrow",[8606]],["twoheadrightarrow",[8608]],["Uacute",[218]],["uacute",[250]],["uarr",[8593]],["Uarr",[8607]],["uArr",[8657]],["Uarrocir",[10569]],["Ubrcy",[1038]],["ubrcy",[1118]],["Ubreve",[364]],["ubreve",[365]],["Ucirc",[219]],["ucirc",[251]],["Ucy",[1059]],["ucy",[1091]],["udarr",[8645]],["Udblac",[368]],["udblac",[369]],["udhar",[10606]],["ufisht",[10622]],["Ufr",[120088]],["ufr",[120114]],["Ugrave",[217]],["ugrave",[249]],["uHar",[10595]],["uharl",[8639]],["uharr",[8638]],["uhblk",[9600]],["ulcorn",[8988]],["ulcorner",[8988]],["ulcrop",[8975]],["ultri",[9720]],["Umacr",[362]],["umacr",[363]],["uml",[168]],["UnderBar",[95]],["UnderBrace",[9183]],["UnderBracket",[9141]],["UnderParenthesis",[9181]],["Union",[8899]],["UnionPlus",[8846]],["Uogon",[370]],["uogon",[371]],["Uopf",[120140]],["uopf",[120166]],["UpArrowBar",[10514]],["uparrow",[8593]],["UpArrow",[8593]],["Uparrow",[8657]],["UpArrowDownArrow",[8645]],["updownarrow",[8597]],["UpDownArrow",[8597]],["Updownarrow",[8661]],["UpEquilibrium",[10606]],["upharpoonleft",[8639]],["upharpoonright",[8638]],["uplus",[8846]],["UpperLeftArrow",[8598]],["UpperRightArrow",[8599]],["upsi",[965]],["Upsi",[978]],["upsih",[978]],["Upsilon",[933]],["upsilon",[965]],["UpTeeArrow",[8613]],["UpTee",[8869]],["upuparrows",[8648]],["urcorn",[8989]],["urcorner",[8989]],["urcrop",[8974]],["Uring",[366]],["uring",[367]],["urtri",[9721]],["Uscr",[119984]],["uscr",[120010]],["utdot",[8944]],["Utilde",[360]],["utilde",[361]],["utri",[9653]],["utrif",[9652]],["uuarr",[8648]],["Uuml",[220]],["uuml",[252]],["uwangle",[10663]],["vangrt",[10652]],["varepsilon",[1013]],["varkappa",[1008]],["varnothing",[8709]],["varphi",[981]],["varpi",[982]],["varpropto",[8733]],["varr",[8597]],["vArr",[8661]],["varrho",[1009]],["varsigma",[962]],["varsubsetneq",[8842,65024]],["varsubsetneqq",[10955,65024]],["varsupsetneq",[8843,65024]],["varsupsetneqq",[10956,65024]],["vartheta",[977]],["vartriangleleft",[8882]],["vartriangleright",[8883]],["vBar",[10984]],["Vbar",[10987]],["vBarv",[10985]],["Vcy",[1042]],["vcy",[1074]],["vdash",[8866]],["vDash",[8872]],["Vdash",[8873]],["VDash",[8875]],["Vdashl",[10982]],["veebar",[8891]],["vee",[8744]],["Vee",[8897]],["veeeq",[8794]],["vellip",[8942]],["verbar",[124]],["Verbar",[8214]],["vert",[124]],["Vert",[8214]],["VerticalBar",[8739]],["VerticalLine",[124]],["VerticalSeparator",[10072]],["VerticalTilde",[8768]],["VeryThinSpace",[8202]],["Vfr",[120089]],["vfr",[120115]],["vltri",[8882]],["vnsub",[8834,8402]],["vnsup",[8835,8402]],["Vopf",[120141]],["vopf",[120167]],["vprop",[8733]],["vrtri",[8883]],["Vscr",[119985]],["vscr",[120011]],["vsubnE",[10955,65024]],["vsubne",[8842,65024]],["vsupnE",[10956,65024]],["vsupne",[8843,65024]],["Vvdash",[8874]],["vzigzag",[10650]],["Wcirc",[372]],["wcirc",[373]],["wedbar",[10847]],["wedge",[8743]],["Wedge",[8896]],["wedgeq",[8793]],["weierp",[8472]],["Wfr",[120090]],["wfr",[120116]],["Wopf",[120142]],["wopf",[120168]],["wp",[8472]],["wr",[8768]],["wreath",[8768]],["Wscr",[119986]],["wscr",[120012]],["xcap",[8898]],["xcirc",[9711]],["xcup",[8899]],["xdtri",[9661]],["Xfr",[120091]],["xfr",[120117]],["xharr",[10231]],["xhArr",[10234]],["Xi",[926]],["xi",[958]],["xlarr",[10229]],["xlArr",[10232]],["xmap",[10236]],["xnis",[8955]],["xodot",[10752]],["Xopf",[120143]],["xopf",[120169]],["xoplus",[10753]],["xotime",[10754]],["xrarr",[10230]],["xrArr",[10233]],["Xscr",[119987]],["xscr",[120013]],["xsqcup",[10758]],["xuplus",[10756]],["xutri",[9651]],["xvee",[8897]],["xwedge",[8896]],["Yacute",[221]],["yacute",[253]],["YAcy",[1071]],["yacy",[1103]],["Ycirc",[374]],["ycirc",[375]],["Ycy",[1067]],["ycy",[1099]],["yen",[165]],["Yfr",[120092]],["yfr",[120118]],["YIcy",[1031]],["yicy",[1111]],["Yopf",[120144]],["yopf",[120170]],["Yscr",[119988]],["yscr",[120014]],["YUcy",[1070]],["yucy",[1102]],["yuml",[255]],["Yuml",[376]],["Zacute",[377]],["zacute",[378]],["Zcaron",[381]],["zcaron",[382]],["Zcy",[1047]],["zcy",[1079]],["Zdot",[379]],["zdot",[380]],["zeetrf",[8488]],["ZeroWidthSpace",[8203]],["Zeta",[918]],["zeta",[950]],["zfr",[120119]],["Zfr",[8488]],["ZHcy",[1046]],["zhcy",[1078]],["zigrarr",[8669]],["zopf",[120171]],["Zopf",[8484]],["Zscr",[119989]],["zscr",[120015]],["zwj",[8205]],["zwnj",[8204]]],i=[["NewLine",[10]]],a={},u={};!function(t,e){var n=o.length;for(;n--;){var r=o[n],a=r[0],u=r[1],s=u[0],l=u[1],c=s<32||s>126||62===s||60===s||38===s||34===s||39===s,f=void 0;c&&(f=e[s]=e[s]||{});if(l){t[a]=String.fromCharCode(s)+String.fromCharCode(l);c&&(f[l]=a)}else{t[a]=String.fromCharCode(s);c&&(f[""]=a)}}n=i.length;for(;n--;){var p=i[n],d=(a=p[0],p[1]);s=d[0],l=d[1];t[a]=String.fromCharCode(s)+(l?String.fromCharCode(l):"")}}(a,u);var s=function(){function t(){}t.prototype.decode=function(t){return t&&t.length?t.replace(/&(#?[\w\d]+);?/g,(function(t,e){var n;if("#"===e.charAt(0)){var o="x"===e.charAt(1)?parseInt(e.substr(2).toLowerCase(),16):parseInt(e.substr(1));(!isNaN(o)||o>=-32768)&&(n=o<=65535?String.fromCharCode(o):r.fromCodePoint(o))}else n=a[e];return n||t})):""};t.decode=function(e){return(new t).decode(e)};t.prototype.encode=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",r=0;r<e;){var o=u[t.charCodeAt(r)];if(o){var i=o[t.charCodeAt(r+1)];i?r++:i=o[""];if(i){n+="&"+i+";";r++;continue}}n+=t.charAt(r);r++}return n};t.encode=function(e){return(new t).encode(e)};t.prototype.encodeNonUTF=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o),a=u[i];if(a){var s=a[t.charCodeAt(o+1)];s?o++:s=a[""];if(s){n+="&"+s+";";o++;continue}}if(i<32||i>126)if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+i+";";else n+=t.charAt(o);o++}return n};t.encodeNonUTF=function(e){return(new t).encodeNonUTF(e)};t.prototype.encodeNonASCII=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o);if(i<=255)n+=t[o++];else if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o+=2}else{n+="&#"+i+";";o++}}return n};t.encodeNonASCII=function(e){return(new t).encodeNonASCII(e)};return t}();e.Html5Entities=s},2376:function(t,e,n){"use strict";0;n(8721).XmlEntities;n(9839).Html4Entities;var r=n(4490);r.Html5Entities;e.sK=r.Html5Entities},4826:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.fromCodePoint=String.fromCodePoint||function(t){return String.fromCharCode(Math.floor((t-65536)/1024)+55296,(t-65536)%1024+56320)};e.getCodePoint=String.prototype.codePointAt?function(t,e){return t.codePointAt(e)}:function(t,e){return 1024*(t.charCodeAt(e)-55296)+t.charCodeAt(e+1)-56320+65536};e.highSurrogateFrom=55296;e.highSurrogateTo=56319},8721:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4826),o={"&lt":"<","&gt":">","&quot":'"',"&apos":"'","&amp":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},i={60:"lt",62:"gt",34:"quot",39:"apos",38:"amp"},a={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"},u=function(){function t(){}t.prototype.encode=function(t){return t&&t.length?t.replace(/[<>"'&]/g,(function(t){return a[t]})):""};t.encode=function(e){return(new t).encode(e)};t.prototype.decode=function(t){return t&&t.length?t.replace(/&#?[0-9a-zA-Z]+;?/g,(function(t){if("#"===t.charAt(1)){var e="x"===t.charAt(2).toLowerCase()?parseInt(t.substr(3),16):parseInt(t.substr(2));return!isNaN(e)||e>=-32768?e<=65535?String.fromCharCode(e):r.fromCodePoint(e):""}return o[t]||t})):""};t.decode=function(e){return(new t).decode(e)};t.prototype.encodeNonUTF=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var a=t.charCodeAt(o),u=i[a];if(u){n+="&"+u+";";o++}else{if(a<32||a>126)if(a>=r.highSurrogateFrom&&a<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+a+";";else n+=t.charAt(o);o++}}return n};t.encodeNonUTF=function(e){return(new t).encodeNonUTF(e)};t.prototype.encodeNonASCII=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o);if(i<=255)n+=t[o++];else{if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+i+";";o++}}return n};t.encodeNonASCII=function(e){return(new t).encodeNonASCII(e)};return t}();e.XmlEntities=u},1549:function(t,e,n){var r=n(2032),o=n(3862),i=n(6721),a=n(2749),u=n(5749);function s(t){var e=-1,n=null==t?0:t.length;this.clear();for(;++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r;s.prototype["delete"]=o;s.prototype.get=i;s.prototype.has=a;s.prototype.set=u;t.exports=s},79:function(t,e,n){var r=n(3702),o=n(80),i=n(4739),a=n(8655),u=n(1175);function s(t){var e=-1,n=null==t?0:t.length;this.clear();for(;++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r;s.prototype["delete"]=o;s.prototype.get=i;s.prototype.has=a;s.prototype.set=u;t.exports=s},8223:function(t,e,n){var r=n(6110)(n(9325),"Map");t.exports=r},3661:function(t,e,n){var r=n(3040),o=n(7670),i=n(289),a=n(4509),u=n(2949);function s(t){var e=-1,n=null==t?0:t.length;this.clear();for(;++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r;s.prototype["delete"]=o;s.prototype.get=i;s.prototype.has=a;s.prototype.set=u;t.exports=s},7217:function(t,e,n){var r=n(79),o=n(1420),i=n(938),a=n(3605),u=n(9817),s=n(945);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=o;l.prototype["delete"]=i;l.prototype.get=a;l.prototype.has=u;l.prototype.set=s;t.exports=l},1873:function(t,e,n){var r=n(9325).Symbol;t.exports=r},7828:function(t,e,n){var r=n(9325).Uint8Array;t.exports=r},1033:function(t){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},695:function(t,e,n){var r=n(8096),o=n(2428),i=n(6449),a=n(3656),u=n(361),s=n(7167),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),c=!n&&o(t),f=!n&&!c&&a(t),p=!n&&!c&&!f&&s(t),d=n||c||f||p,h=d?r(t.length,String):[],y=h.length;for(var g in t)!e&&!l.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,y))||h.push(g);return h}},4932:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},7805:function(t,e,n){var r=n(3360),o=n(5288);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},6547:function(t,e,n){var r=n(3360),o=n(5288),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},6025:function(t,e,n){var r=n(5288);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},3360:function(t,e,n){var r=n(3243);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},9344:function(t,e,n){var r=n(3805),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;t.prototype=void 0;return n}}();t.exports=i},6649:function(t,e,n){var r=n(3221)();t.exports=r},2552:function(t,e,n){var r=n(1873),o=n(659),i=n(9350),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},7534:function(t,e,n){var r=n(2552),o=n(346);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},5083:function(t,e,n){var r=n(1882),o=n(7296),i=n(3805),a=n(7473),u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,p=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:u).test(a(t))}},4901:function(t,e,n){var r=n(2552),o=n(294),i=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0;a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},2903:function(t,e,n){var r=n(3805),o=n(5527),i=n(181),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},5250:function(t,e,n){var r=n(7217),o=n(7805),i=n(6649),a=n(2824),u=n(3805),s=n(7241),l=n(4974);t.exports=function t(e,n,c,f,p){e!==n&&i(n,(function(i,s){p||(p=new r);if(u(i))a(e,n,s,c,t,f,p);else{var d=f?f(l(e,s),i,s+"",e,n,p):void 0;void 0===d&&(d=i);o(e,s,d)}}),s)}},2824:function(t,e,n){var r=n(7805),o=n(3290),i=n(1961),a=n(3007),u=n(5529),s=n(2428),l=n(6449),c=n(3693),f=n(3656),p=n(1882),d=n(3805),h=n(1331),y=n(7167),g=n(4974),v=n(9884);t.exports=function(t,e,n,m,b,w,S){var k=g(t,n),T=g(e,n),C=S.get(T);if(C)r(t,n,C);else{var O=w?w(k,T,n+"",t,e,S):void 0,E=void 0===O;if(E){var P=l(T),_=!P&&f(T),A=!P&&!_&&y(T);O=T;if(P||_||A)if(l(k))O=k;else if(c(k))O=a(k);else if(_){E=!1;O=o(T,!0)}else if(A){E=!1;O=i(T,!0)}else O=[];else if(h(T)||s(T)){O=k;s(k)?O=v(k):d(k)&&!p(k)||(O=u(T))}else E=!1}if(E){S.set(T,O);b(O,T,m,w,S);S["delete"](T)}r(t,n,O)}}},9302:function(t,e,n){var r=n(3488),o=n(6757),i=n(2865);t.exports=function(t,e){return i(o(t,e,r),t+"")}},9570:function(t,e,n){var r=n(7334),o=n(3243),i=n(3488),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},8096:function(t){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},7556:function(t,e,n){var r=n(1873),o=n(4932),i=n(6449),a=n(4394),u=r?r.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},4128:function(t,e,n){var r=n(1800),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},7301:function(t){t.exports=function(t){return function(e){return t(e)}}},9653:function(t,e,n){var r=n(7828);t.exports=function(t){var e=new t.constructor(t.byteLength);new r(e).set(new r(t));return e}},3290:function(t,e,n){t=n.nmd(t);var r=n(9325),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);t.copy(r);return r}},1961:function(t,e,n){var r=n(9653);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},3007:function(t){t.exports=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}},1791:function(t,e,n){var r=n(6547),o=n(3360);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var l=e[u],c=i?i(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]);a?o(n,l,c):r(n,l,c)}return n}},5481:function(t,e,n){var r=n(9325)["__core-js_shared__"];t.exports=r},999:function(t,e,n){var r=n(9302),o=n(6800);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;a=t.length>3&&"function"==typeof a?(i--,a):void 0;if(u&&o(n[0],n[1],u)){a=i<3?void 0:a;i=1}e=Object(e);for(;++r<i;){var s=n[r];s&&t(e,s,r,a)}return e}))}},3221:function(t){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}},3243:function(t,e,n){var r=n(6110),o=function(){try{var t=r(Object,"defineProperty");t({},"",{});return t}catch(t){}}();t.exports=o},4840:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},2651:function(t,e,n){var r=n(4218);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},6110:function(t,e,n){var r=n(5083),o=n(392);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},8879:function(t,e,n){var r=n(4335)(Object.getPrototypeOf,Object);t.exports=r},659:function(t,e,n){var r=n(1873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);r&&(e?t[u]=n:delete t[u]);return o}},392:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},2032:function(t,e,n){var r=n(1042);t.exports=function(){this.__data__=r?r(null):{};this.size=0}},3862:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}},6721:function(t,e,n){var r=n(1042),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},2749:function(t,e,n){var r=n(1042),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},5749:function(t,e,n){var r=n(1042);t.exports=function(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=r&&void 0===e?"__lodash_hash_undefined__":e;return this}},5529:function(t,e,n){var r=n(9344),o=n(8879),i=n(5527);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},361:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6800:function(t,e,n){var r=n(5288),o=n(4894),i=n(361),a=n(3805);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?o(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},4218:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},7296:function(t,e,n){var r,o=n(5481),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},5527:function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},3702:function(t){t.exports=function(){this.__data__=[];this.size=0}},80:function(t,e,n){var r=n(6025),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;n==e.length-1?e.pop():o.call(e,n,1);--this.size;return!0}},4739:function(t,e,n){var r=n(6025);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},8655:function(t,e,n){var r=n(6025);t.exports=function(t){return r(this.__data__,t)>-1}},1175:function(t,e,n){var r=n(6025);t.exports=function(t,e){var n=this.__data__,o=r(n,t);if(o<0){++this.size;n.push([t,e])}else n[o][1]=e;return this}},3040:function(t,e,n){var r=n(1549),o=n(79),i=n(8223);t.exports=function(){this.size=0;this.__data__={hash:new r,map:new(i||o),string:new r}}},7670:function(t,e,n){var r=n(2651);t.exports=function(t){var e=r(this,t)["delete"](t);this.size-=e?1:0;return e}},289:function(t,e,n){var r=n(2651);t.exports=function(t){return r(this,t).get(t)}},4509:function(t,e,n){var r=n(2651);t.exports=function(t){return r(this,t).has(t)}},2949:function(t,e,n){var r=n(2651);t.exports=function(t,e){var n=r(this,t),o=n.size;n.set(t,e);this.size+=n.size==o?0:1;return this}},1042:function(t,e,n){var r=n(6110)(Object,"create");t.exports=r},181:function(t){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},6009:function(t,e,n){t=n.nmd(t);var r=n(4840),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},9350:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},4335:function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},6757:function(t,e,n){var r=n(1033),o=Math.max;t.exports=function(t,e,n){e=o(void 0===e?t.length-1:e,0);return function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=i[a];l[e]=n(s);return r(t,this,l)}}},9325:function(t,e,n){var r=n(4840),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},4974:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},2865:function(t,e,n){var r=n(9570),o=n(1811)(r);t.exports=o},1811:function(t){var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);r=o;if(i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},1420:function(t,e,n){var r=n(79);t.exports=function(){this.__data__=new r;this.size=0}},938:function(t){t.exports=function(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}},3605:function(t){t.exports=function(t){return this.__data__.get(t)}},9817:function(t){t.exports=function(t){return this.__data__.has(t)}},945:function(t,e,n){var r=n(79),o=n(8223),i=n(3661);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199){a.push([t,e]);this.size=++n.size;return this}n=this.__data__=new i(a)}n.set(t,e);this.size=n.size;return this}},7473:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},1800:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},7334:function(t){t.exports=function(t){return function(){return t}}},8221:function(t,e,n){var r=n(3805),o=n(124),i=n(9374),a=Math.max,u=Math.min;t.exports=function(t,e,n){var s,l,c,f,p,d,h=0,y=!1,g=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");e=i(e)||0;if(r(n)){y=!!n.leading;c=(g="maxWait"in n)?a(i(n.maxWait)||0,e):c;v="trailing"in n?!!n.trailing:v}function m(e){var n=s,r=l;s=l=void 0;h=e;return f=t.apply(r,n)}function b(t){var n=t-d;return void 0===d||n>=e||n<0||g&&t-h>=c}function w(){var t=o();if(b(t))return S(t);p=setTimeout(w,function(t){var n=e-(t-d);return g?u(n,c-(t-h)):n}(t))}function S(t){p=void 0;if(v&&s)return m(t);s=l=void 0;return f}function k(){var t=o(),n=b(t);s=arguments;l=this;d=t;if(n){if(void 0===p)return function(t){h=t;p=setTimeout(w,e);return y?m(t):f}(d);if(g){clearTimeout(p);p=setTimeout(w,e);return m(d)}}void 0===p&&(p=setTimeout(w,e));return f}k.cancel=function(){void 0!==p&&clearTimeout(p);h=0;s=d=l=p=void 0};k.flush=function(){return void 0===p?f:S(o())};return k}},5288:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},680:function(t,e,n){var r=n(3222),o=/[\\^$.*+?()[\]{}|]/g,i=RegExp(o.source);t.exports=function(t){return(t=r(t))&&i.test(t)?t.replace(o,"\\$&"):t}},3488:function(t){t.exports=function(t){return t}},2428:function(t,e,n){var r=n(7534),o=n(346),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},6449:function(t){var e=Array.isArray;t.exports=e},4894:function(t,e,n){var r=n(1882),o=n(294);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},3693:function(t,e,n){var r=n(4894),o=n(346);t.exports=function(t){return o(t)&&r(t)}},3656:function(t,e,n){t=n.nmd(t);var r=n(9325),o=n(9935),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s},1882:function(t,e,n){var r=n(2552),o=n(3805);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},294:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},3805:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},346:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},1331:function(t,e,n){var r=n(2552),o=n(8879),i=n(346),a=Function.prototype,u=Object.prototype,s=a.toString,l=u.hasOwnProperty,c=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},4394:function(t,e,n){var r=n(2552),o=n(346);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},7167:function(t,e,n){var r=n(4901),o=n(7301),i=n(6009),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},7241:function(t,e,n){var r=n(695),o=n(2903),i=n(4894);t.exports=function(t){return i(t)?r(t,!0):o(t)}},5364:function(t,e,n){var r=n(5250),o=n(999)((function(t,e,n){r(t,e,n)}));t.exports=o},124:function(t,e,n){var r=n(9325);t.exports=function(){return r.Date.now()}},9935:function(t){t.exports=function(){return!1}},9374:function(t,e,n){var r=n(4128),o=n(3805),i=n(4394),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||s.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9884:function(t,e,n){var r=n(1791),o=n(7241);t.exports=function(t){return r(t,o(t))}},3222:function(t,e,n){var r=n(7556);t.exports=function(t){return null==t?"":r(t)}},9466:function(t,e){var n,r,o;r=[],void 0!==(o="function"==typeof(n=function(){return function(t){function e(t){return" "===t||"\t"===t||"\n"===t||"\f"===t||"\r"===t}function n(e){var n,r=e.exec(t.substring(y));if(r){n=r[0];y+=n.length;return n}}for(var r,o,i,a,u,s=t.length,l=/^[ \t\n\r\u000c]+/,c=/^[, \t\n\r\u000c]+/,f=/^[^ \t\n\r\u000c]+/,p=/[,]+$/,d=/^\d+$/,h=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,y=0,g=[];;){n(c);if(y>=s)return g;r=n(f);o=[];if(","===r.slice(-1)){r=r.replace(p,"");m()}else v()}function v(){n(l);i="";a="in descriptor";for(;;){u=t.charAt(y);if("in descriptor"===a)if(e(u)){if(i){o.push(i);i="";a="after descriptor"}}else{if(","===u){y+=1;i&&o.push(i);m();return}if("("===u){i+=u;a="in parens"}else{if(""===u){i&&o.push(i);m();return}i+=u}}else if("in parens"===a)if(")"===u){i+=u;a="in descriptor"}else{if(""===u){o.push(i);m();return}i+=u}else if("after descriptor"===a)if(e(u));else{if(""===u){m();return}a="in descriptor";y-=1}y+=1}}function m(){var e,n,i,a,u,s,l,c,f,p=!1,y={};for(a=0;a<o.length;a++){s=(u=o[a])[u.length-1];l=u.substring(0,u.length-1);c=parseInt(l,10);f=parseFloat(l);if(d.test(l)&&"w"===s){(e||n)&&(p=!0);0===c?p=!0:e=c}else if(h.test(l)&&"x"===s){(e||n||i)&&(p=!0);f<0?p=!0:n=f}else if(d.test(l)&&"h"===s){(i||n)&&(p=!0);0===c?p=!0:i=c}else p=!0}if(p)console&&console.log&&console.log("Invalid srcset descriptor found in '"+t+"' at '"+u+"'.");else{y.url=r;e&&(y.w=e);n&&(y.d=n);i&&(y.h=i);g.push(y)}}}})?n.apply(e,r):n)&&(t.exports=o)},9655:function(t,e,n){t=n.nmd(t);var r;!function(){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self!==o||o;var i,a=2147483647,u=36,s=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function h(t){throw new RangeError(f[t])}function y(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function g(t,e){var n=t.split("@"),r="";if(n.length>1){r=n[0]+"@";t=n[1]}return r+y((t=t.replace(c,".")).split("."),e).join(".")}function v(t){for(var e,n,r=[],o=0,i=t.length;o<i;)if((e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i)if(56320==(64512&(n=t.charCodeAt(o++))))r.push(((1023&e)<<10)+(1023&n)+65536);else{r.push(e);o--}else r.push(e);return r}function m(t){return y(t,(function(t){var e="";if(t>65535){e+=d((t-=65536)>>>10&1023|55296);t=56320|1023&t}return e+=d(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function w(t,e,n){var r=0;t=n?p(t/700):t>>1;t+=p(t/e);for(;t>455;r+=u)t=p(t/35);return p(r+36*t/(t+38))}function S(t){var e,n,r,o,i,s,l,c,f,d,y,g=[],v=t.length,b=0,S=128,k=72;(n=t.lastIndexOf("-"))<0&&(n=0);for(r=0;r<n;++r){t.charCodeAt(r)>=128&&h("not-basic");g.push(t.charCodeAt(r))}for(o=n>0?n+1:0;o<v;){for(i=b,s=1,l=u;;l+=u){o>=v&&h("invalid-input");((c=(y=t.charCodeAt(o++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:u)>=u||c>p((a-b)/s))&&h("overflow");b+=c*s;if(c<(f=l<=k?1:l>=k+26?26:l-k))break;s>p(a/(d=u-f))&&h("overflow");s*=d}k=w(b-i,e=g.length+1,0==i);p(b/e)>a-S&&h("overflow");S+=p(b/e);b%=e;g.splice(b++,0,S)}return m(g)}function k(t){var e,n,r,o,i,s,l,c,f,y,g,m,S,k,T,C=[];m=(t=v(t)).length;e=128;n=0;i=72;for(s=0;s<m;++s)(g=t[s])<128&&C.push(d(g));r=o=C.length;o&&C.push("-");for(;r<m;){for(l=a,s=0;s<m;++s)(g=t[s])>=e&&g<l&&(l=g);l-e>p((a-n)/(S=r+1))&&h("overflow");n+=(l-e)*S;e=l;for(s=0;s<m;++s){(g=t[s])<e&&++n>a&&h("overflow");if(g==e){for(c=n,f=u;!(c<(y=f<=i?1:f>=i+26?26:f-i));f+=u){T=c-y;k=u-y;C.push(d(b(y+T%k,0)));c=p(T/k)}C.push(d(b(c,0)));i=w(n,S,r==o);n=0;++r}}++n;++e}return C.join("")}i={version:"1.4.1",ucs2:{decode:v,encode:m},decode:S,encode:k,toASCII:function(t){return g(t,(function(t){return l.test(t)?"xn--"+k(t):t}))},toUnicode:function(t){return g(t,(function(t){return s.test(t)?S(t.slice(4).toLowerCase()):t}))}};void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)}()},3992:function(t,e){"use strict";var n=Object.prototype.hasOwnProperty;function r(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function o(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){var r,i,a=[];"string"!=typeof(e=e||"")&&(e="?");for(i in t)if(n.call(t,i)){(r=t[i])||null!=r&&!isNaN(r)||(r="");i=o(i);r=o(r);if(null===i||null===r)continue;a.push(i+"="+r)}return a.length?e+a.join("&"):""};e.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,o={};e=n.exec(t);){var i=r(e[1]),a=r(e[2]);null===i||null===a||i in o||(o[i]=a)}return o}},2063:function(t){"use strict";t.exports=function(t,e){e=e.split(":")[0];if(!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},1160:function(t,e,n){"use strict";var r=n(2063),o=n(3992),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,u=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function f(t){return(t||"").toString().replace(i,"")}var p=[["#","hash"],["?","query"],function(t,e){return y(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function h(t){var e,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(t=t||r);if("blob:"===t.protocol)o=new v(unescape(t.pathname),{});else if("string"===i){o=new v(t,{});for(e in d)delete o[e]}else if("object"===i){for(e in t)e in d||(o[e]=t[e]);void 0===o.slashes&&(o.slashes=u.test(t.href))}return o}function y(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function g(t,e){t=(t=f(t)).replace(a,"");e=e||{};var n,r=l.exec(t),o=r[1]?r[1].toLowerCase():"",i=!!r[2],u=!!r[3],s=0;if(i)if(u){n=r[2]+r[3]+r[4];s=r[2].length+r[3].length}else{n=r[2]+r[4];s=r[2].length}else if(u){n=r[3]+r[4];s=r[3].length}else n=r[4];"file:"===o?s>=2&&(n=n.slice(2)):y(o)?n=r[4]:o?i&&(n=n.slice(2)):s>=2&&y(e.protocol)&&(n=r[4]);return{protocol:o,slashes:i||y(o),slashesCount:s,rest:n}}function v(t,e,n){t=(t=f(t)).replace(a,"");if(!(this instanceof v))return new v(t,e,n);var i,u,s,l,d,m,b=p.slice(),w=typeof e,S=this,k=0;if("object"!==w&&"string"!==w){n=e;e=null}n&&"function"!=typeof n&&(n=o.parse);i=!(u=g(t||"",e=h(e))).protocol&&!u.slashes;S.slashes=u.slashes||i&&e.slashes;S.protocol=u.protocol||e.protocol||"";t=u.rest;("file:"===u.protocol&&(2!==u.slashesCount||c.test(t))||!u.slashes&&(u.protocol||u.slashesCount<2||!y(S.protocol)))&&(b[3]=[/(.*)/,"pathname"]);for(;k<b.length;k++)if("function"!=typeof(l=b[k])){s=l[0];m=l[1];if(s!=s)S[m]=t;else if("string"==typeof s){if(~(d="@"===s?t.lastIndexOf(s):t.indexOf(s)))if("number"==typeof l[2]){S[m]=t.slice(0,d);t=t.slice(d+l[2])}else{S[m]=t.slice(d);t=t.slice(0,d)}}else if(d=s.exec(t)){S[m]=d[1];t=t.slice(0,d.index)}S[m]=S[m]||i&&l[3]&&e[m]||"";l[4]&&(S[m]=S[m].toLowerCase())}else t=l(t,S);n&&(S.query=n(S.query));i&&e.slashes&&"/"!==S.pathname.charAt(0)&&(""!==S.pathname||""!==e.pathname)&&(S.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)if("."===n[r])n.splice(r,1);else if(".."===n[r]){n.splice(r,1);a++}else if(a){0===r&&(i=!0);n.splice(r,1);a--}i&&n.unshift("");"."!==o&&".."!==o||n.push("");return n.join("/")}(S.pathname,e.pathname));"/"!==S.pathname.charAt(0)&&y(S.protocol)&&(S.pathname="/"+S.pathname);if(!r(S.port,S.protocol)){S.host=S.hostname;S.port=""}S.username=S.password="";if(S.auth){if(~(d=S.auth.indexOf(":"))){S.username=S.auth.slice(0,d);S.username=encodeURIComponent(decodeURIComponent(S.username));S.password=S.auth.slice(d+1);S.password=encodeURIComponent(decodeURIComponent(S.password))}else S.username=encodeURIComponent(decodeURIComponent(S.auth));S.auth=S.password?S.username+":"+S.password:S.username}S.origin="file:"!==S.protocol&&y(S.protocol)&&S.host?S.protocol+"//"+S.host:"null";S.href=S.toString()}v.prototype={set:function(t,e,n){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e));i[t]=e;break;case"port":i[t]=e;if(r(e,i.protocol))e&&(i.host=i.hostname+":"+e);else{i.host=i.hostname;i[t]=""}break;case"hostname":i[t]=e;i.port&&(e+=":"+i.port);i.host=e;break;case"host":i[t]=e;if(s.test(e)){e=e.split(":");i.port=e.pop();i.hostname=e.join(":")}else{i.hostname=e;i.port=""}break;case"protocol":i.protocol=e.toLowerCase();i.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";i[t]=e.charAt(0)!==a?a+e:e}else i[t]=e;break;case"username":case"password":i[t]=encodeURIComponent(e);break;case"auth":var u=e.indexOf(":");if(~u){i.username=e.slice(0,u);i.username=encodeURIComponent(decodeURIComponent(i.username));i.password=e.slice(u+1);i.password=encodeURIComponent(decodeURIComponent(i.password))}else i.username=encodeURIComponent(decodeURIComponent(e))}for(var l=0;l<p.length;l++){var c=p[l];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}i.auth=i.password?i.username+":"+i.password:i.username;i.origin="file:"!==i.protocol&&y(i.protocol)&&i.host?i.protocol+"//"+i.host:"null";i.href=i.toString();return i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var a=i+(n.protocol&&n.slashes||y(n.protocol)?"//":"");if(n.username){a+=n.username;n.password&&(a+=":"+n.password);a+="@"}else if(n.password){a+=":"+n.password;a+="@"}else"file:"!==n.protocol&&y(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@");(":"===r[r.length-1]||s.test(n.hostname)&&!n.port)&&(r+=":");a+=r+n.pathname;(e="object"==typeof n.query?t(n.query):n.query)&&(a+="?"!==e.charAt(0)?"?"+e:e);n.hash&&(a+=n.hash);return a}};v.extractProtocol=g;v.location=h;v.trimLeft=f;v.qs=o;t.exports=v}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};t[r].call(i.exports,i,i.exports,n);i.loaded=!0;return i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};n.d(e,{a:e});return e};n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})};n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.nmd=function(t){t.paths=[];t.children||(t.children=[]);return t};!function(){"use strict";var t=n(7907),e=/^\s*$/,r="";function o(t,e){return"string"==typeof t&&"string"==typeof e&&t.substr(0,e.length)===e}function i(t,e,n){if(null==e)return!1;(void 0===n||n>t.length)&&(n=t.length);return t.substring(n-e.length,n)===e}function a(t){return"string"==typeof t&&e.test(t)}function u(t){return r+t+r}var s=!("".trim&&1===r.trim().length),l=function(t){return s?t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):t.trim()};function c(t,e,n){for(var r=t,o=t.replace(e,n);o!==r;)o=(r=o).replace(e,n);return r}function f(t,e){for(var n=0,r=t.length-1;r>=0&&t[r]==e;r--)n++;return n>0?t.slice(0,t.length-n):t}var p={DEBUG_LOGGING:!1,CI_TEST:void 0,BUILD_ID:"1731",BUILD_HASH:"066ffdc660",BUILD_TIME:"2024-12-17T07:22:24.358Z",CDN_URL:"https://data.wovn.io",STAGING_CDN_URLS:["https://data.staging1-wovn.com","https://data.staging2-wovn.com","https://data.staging3-wovn.com","https://data.staging4-wovn.com","https://data.staging5-wovn.com","https://data.staging6-wovn.com","https://data.staging7-wovn.com","https://data.staging8-wovn.com","https://data.staging9-wovn.com","https://data.staging10-wovn.com"],FASTLY_IMAGE_PREFIX:"https://data.wovn.io/",HOTJAR_ID:"3144801",API_REQUEST_CACHE_KEY:"f7289996"},d=n(9655),h=n.n(d),y="^([a-z-A-Z]+://|//)",g="^([a-z-A-Z]+):",v={PROTOCOL:new RegExp(g),PROTOCOL_WITHOUT_SLASHES:new RegExp("".concat(g,"[^/]")),DOMAIN_AND_PORT:new RegExp("".concat(y,"(.[^/]+)/?")),ABSOLUTE_URL:new RegExp(y,"i"),ABSOLUTE_PATH:/^\//,IMAGE_FILE:/^(https?:\/\/)?.*(\.(jpe|jpe?g|bmp|gif|png|btif|tiff?|psd|djvu?|xif|wbmp|webp|p(n|b|g|p)m|rgb|tga|x(b|p)m|xwd|pic|ico|fh(c|4|5|7)?|xif|f(bs|px|st)))(?=([\?#&].*$|$))/i,AUDIO_FILE:/^(https?:\/\/)?.*(\.(mp(3|2)|m(p?2|3|p?4|pg)a|midi?|kar|rmi|web(m|a)|aif(f?|c)|w(ma|av|ax)|m(ka|3u)|sil|s3m|og(a|g)|uvv?a))(?=([\?#&].*$|$))/i,VIDEO_FILE:/^(https?:\/\/)?.*(\.(m(x|4)u|fl(i|v)|3g(p|2)|jp(gv|g?m)|mp(4v?|g4|e?g)|m(1|2)v|ogv|m(ov|ng)|qt|uvv?(h|m|p|s|v)|dvb|mk(v|3d|s)|f4v|as(x|f)|w(m(v|x)|vx)))(?=([\?#&].*$|$))/i,DOC_FILE:/^(https?:\/\/)?.*(\.((g|7)?zip|7z|tar|gz|rar|ez|aw|atom(cat|svc)?|(cc)?xa?ml|cdmi(a|c|d|o|q)?|epub|g(ml|px|xf)|jar|js|ser|class|json(ml)?|do(c|t)(m|x)?|xls(m|x)?|xps|pp(a|tx?|s)m?|potm?|sldm|mp(p|t)|bin|dms|lrf|mar|so|dist|distz|m?pkg|bpk|dump|rtf|tfi|pdf|pgp|apk|o(t|d)(b|c|ft?|g|h|i|p|s|t)))(?=([\?#&].*$|$))/i};function m(t){return t.replace(/[\#\?].*/,"")}function b(t,e){var n=t.match(v.PROTOCOL);return n&&n[1]?n[1].toLowerCase():function(t){return t.protocol.substr(0,t.protocol.length-1)}(e)}function w(t,e){var n=e?e+":":"";return t.replace(v.PROTOCOL,n)}function S(t){var e=m(C(t)).replace(/^[^\/]*/,"").toLowerCase();return""!==e?e:null}function k(t){var e=C(t),n=S(t),r=T(e);return r?(null!==n?n:"")+r:n}function T(t){var e=t.match(/^[^?]*(\?[^#]*)/);return e&&e[1]?e[1]:null}function C(t){return t.replace(/^([a-zA-Z]+:)?\/\//,"")}function O(t){if(!t)return!1;var e=m(t);return v.IMAGE_FILE.test(e)||v.AUDIO_FILE.test(e)||v.VIDEO_FILE.test(e)||v.DOC_FILE.test(e)}var E=function(t){var e=document.createElement("a");e.href=t;""!=e.host&&""!=e.protocol||(e.href=e.href+"");var n=e.pathname;"/"!==n[0]&&o(e.protocol,"http")&&(n="/"+n);var r=_(e.hostname),i=e.href.replace("".concat(e.protocol,"//").concat(e.hostname),"".concat(e.protocol,"//").concat(r));return{hash:e.hash,href:i,host:_(e.host),hostname:r,search:e.search,pathname:n,origin:_(e.origin),port:e.port,username:e.username,password:e.password,protocol:e.protocol,toString:function(){return P(this)}}},P=function(t){return"".concat(t.protocol,"//").concat(t.host).concat(t.pathname).concat(t.search).concat(t.hash)};function _(t){return null!=t?h().toASCII(t):t}function A(t){return v.ABSOLUTE_URL.test(t)}function x(t){return v.ABSOLUTE_PATH.test(t)}function j(t,e){var n=b(t,e);return"http"===n||"https"===n}function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return D(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function R(t){var e=function(t,e){if("object"!=L(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==L(e)?e:e+""}var U,V=function(){return t=function t(e,n,r,o,i,a,u,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.environment=e;this.wovnHost=n;this.eeHost=r;this.jHost=o;this.cdnOriginHost=i;this.cdnCacheHost=a;this.apiHost=u;this.isVersioned=s},(e=[{key:"isProduction",value:function(){return"production"===this.environment}},{key:"isStaging",value:function(){return o(this.environment,"staging")}},{key:"isDevelopment",value:function(){return"development"===this.environment||"creeped-development"===this.environment}},{key:"isTest",value:function(){return"test"===this.environment||"auto-integration-test"===this.environment}},{key:"isProductionLike",value:function(){return this.isProduction()||this.isStaging()}}])&&N(t.prototype,e),n&&N(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function H(t){var e,n=t.getAttribute("wovn-src-override")||t.src,r=E(n),i=function(t){var e=function(t){return o(t.href,p.CDN_URL)?{name:"production",topLevelHost:"wovn.io"}:function(t){var e,n=1,r=I(p.STAGING_CDN_URLS);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(o(t.href,i))return{name:"staging".concat(n),topLevelHost:"staging".concat(n,"-wovn.com")};n++}}catch(t){r.e(t)}finally{r.f()}return null}(t)}(t);if(e)return e;var n=function(t){return function(t){var e=!1;"dev-wovn.io"===location.hostname&&"60080"===location.port&&(e=!0);!t&&/^(test|dev)-wovn.io/.test(location.hostname)&&(e=!0);return e?location.hostname+":"+location.port:null}(t)||function(t){if(t){var e=t.hostname.replace(/^.*\.([^.]+\.[^.]+)/,"$1");return t.port&&"80"!==t.port&&"443"!==t.port?e+":"+t.port:e}return null}(t)||"wovn.io"}(t);if(o(n,"dev-wovn.io"))return/:60080$/.test(n)?{name:"auto-integration-test",topLevelHost:n}:t&&/(^|[?&])creep=true($|&)/.test(t.search)?{name:"creeped-development",topLevelHost:n}:{name:"development",topLevelHost:n};if(o(n,"test-wovn.io"))return{name:"test",topLevelHost:n};if(/^staging\d+-wovn\.com/.test(n)){return{name:n.split("-")[0],topLevelHost:n}}return{name:"production",topLevelHost:n}}(r),a=i.name,u=i.topLevelHost,s=u,l="https://";switch(a){case"development":case"test":case"auto-integration-test":e=(l=r.protocol+"//")+"cdn."+u;break;case"creeped-development":e=(l=r.protocol+"//")+"cdn."+(s="wovn.io");break;case"production":e=p.CDN_URL;break;default:if(o(a,"staging")){var c=parseInt(a.match(/^staging(\d+)/)[1]);e=p.STAGING_CDN_URLS[c-1]}else e=l+"wovn.io"}var f=l+s,d=l+"ee."+s,h=l+"j."+u,y=l+"cdn."+s,g=l+"api."+s,v=(r.origin===e||r.origin===y)&&/\/widget\/.{5,6}/.test(r.pathname);p.CI_TEST&&console.log("WovnContext: ",n,a,s);return new V(a,f+"/",d+"/",h+"/",y+"/",e+"/",g+"/",v)}function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F(r.key),r)}}function F(t){var e=function(t,e){if("object"!=M(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=M(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==M(e)?e:e+""}var W,q=window.navigator.userAgent,z=window.navigator.vendor,G=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.isSafariCache=null;this.isIECache=null;this.isEdgeCache=null},(e=[{key:"setVendor",value:function(t){z=t}},{key:"setAgentString",value:function(t){q=t}},{key:"isSafari",value:function(){this.isSafariCache=null==this.isSafariCache?/Apple/.test(z):this.isSafariCache;return this.isSafariCache}},{key:"isIE",value:function(){if(null!=this.isIECache)return this.isIECache;var t=q.toLowerCase();this.isIECache=!(-1===t.indexOf("msie")&&-1===t.indexOf("trident"));return this.isIECache}},{key:"isEdge",value:function(){if(null!=this.isEdgeCache)return this.isEdgeCache;this.isEdgeCache=!!q.match(/Edge/);return this.isEdgeCache}},{key:"isCrawler",value:function(){return new RegExp("googlebot|slurp|y!j|yahooseeker|bingbot|msnbot|baiduspider|yandex|yeti|naverbot|duckduckbot|360spider|^sogou|dbot","i").test(q)}},{key:"isPrerender",value:function(){return!!q.match(/Prerender/)}},{key:"isGooglePageSpeedInsights",value:function(){return!!q.match(/Google Page Speed Insights|Google\-InspectionTool/)}},{key:"isWovnCrawler",value:function(){return new RegExp("WovnCrawler|Wovn","i").test(q)}},{key:"isBotRequiringDefaultLang",value:function(){return this.isWovnCrawler()||this.isDataHighlighter()||this.isGooglePageSpeedInsights()||this.isPrerender()||!!q.match(/YextBot/)}},{key:"isMobile",value:function(){return!!(q.match(/android/i)&&q.match(/mobile/i)||q.match(/iphone/i)||q.match(/ipod/i)||q.match(/phone/i)||(q.match(/blackberry/i)||q.match(/bb10/i)||q.match(/rim/i))&&!q.match(/tablet/i)||(q.match(/\(mobile;/i)||q.match(/\(tablet;/i)||q.match(/; rv:/i))&&q.match(/mobile/i)||q.match(/meego/i))}},{key:"mutatesTextNodeData",value:function(){if(void 0!==U)return U;var t=document.createElement("p");t.innerHTML="0\n1";return U="0\n1"!==t.firstChild["data"]}},{key:"canStoreObjectInNode",value:function(){return!this.isEdge()&&!this.isIE()}},{key:"isDataHighlighter",value:function(){return!!q.match(/Google PP Default/)}}])&&B(t.prototype,e),n&&B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),J=new G,$=n(121),K=n.n($),X=function(t,e){if(!('["a"]'===JSON.stringify(["a"]))){if(void 0!==window["Prototype"])return Object["toJSON"](t);if(void 0!==window["MooTools"]&&void 0!==JSON["encode"])return JSON["encode"](t)}return JSON.stringify(t,null,e)},Z=function(t){t[t["UNSENT"]=0]="UNSENT";t[t["OPENED"]=1]="OPENED";t[t["HEADERS_RECEIVED"]=2]="HEADERS_RECEIVED";t[t["LOADING"]=3]="LOADING";t[t["DONE"]=4]="DONE";return t}({}),Y=n(2376);function Q(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return tt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function et(t){return et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},et(t)}function nt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rt(r.key),r)}}function rt(t){var e=function(t,e){if("object"!=et(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==et(e)?e:e+""}var ot=[],it=[],at=new Y.sK;var ut=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"pageIsWidgetPreview",value:function(){return/fake_page\/blank/.test(window.location.pathname)&&/wovn\.(io|com)/.test(window.location.hostname)}},{key:"getMetaElement",value:function(t,e){e||(e={});for(var n=document.getElementsByTagName("meta"),r=0;r<n.length;++r)if(n[r].getAttribute("name")===t){var o=!0;for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==n[r].getAttribute(i)){o=!1;break}if(o)return n[r]}return null}},{key:"canStyleChange",value:function(t){if(!(function(){void 0===W&&(W=!!window.getComputedStyle);return W}()&&t.style&&t.style.getPropertyPriority&&t.style.getPropertyValue&&t.style.setProperty))return!1;var e=t.nodeName;return"META"!==e&&"IMG"!==e&&"#text"!==e&&"#comment"!==e}},{key:"getReadyState",value:function(){return document.readyState}},{key:"onLoadingComplete",value:function(t){var e=this;"complete"===this.getReadyState()?t():it.push(setTimeout((function(){e.onLoadingComplete(t)}),100))}},{key:"onDomReady",value:function(t){K()(t)}},{key:"sendRequest",value:function(t,e,n,r,o){var i;if(window.XDomainRequest){(i=new window.XDomainRequest).onload=function(){r(i.responseText,null)};i.onerror=function(){o()};i.ontimeout=function(){o()}}else(i=new XMLHttpRequest).onreadystatechange=function(){if(i.readyState===Z.DONE)if(200===this.status||304===this.status){for(var t={},e=i.getAllResponseHeaders().split("\r\n"),n=0;n<e.length;n++)if(""!==e[n]){var a=e[n].split(": ");t[a[0]]=a[1]}r(i.responseText,t)}else o(i)};i.open(t,e,!0);i.timeout=6e4;i.ontimeout=function(){o(new Error("Request timeout!"))};n?"object"===et(n)?i.send(X(n)):i.send(n):i.send()}},{key:"findIndex",value:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}},{key:"setComplement",value:function(t,e){var n,r=this,o=[],i=Q(t);try{var a=function(){var t=n.value;-1!==r.findIndex(e,(function(e){return t==e}))||o.push(t)};for(i.s();!(n=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}return o}},{key:"decodeHTMLEntities",value:function(t){return at.decode(t)}},{key:"toArrayFromDomList",value:function(t){return Array.prototype.slice.call(t)}},{key:"values",value:function(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}},{key:"each",value:function(t,e){for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];e(o,t[o])}}},{key:"includes",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}},{key:"isValidURI",value:function(t){try{decodeURIComponent(t);return!0}catch(t){if("URIError"===t.name)return!1}}},{key:"assign",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Object.assign)return Object.assign.apply(null,arguments);if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=0;i<n.length;i++){var a=n[i];if(null!=a)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u])}return o}},{key:"onEvent",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=e.replace(/^on(.)/i,(function(t,e){return e.toLowerCase()}));t.addEventListener(e,n,r);ot.push({target:t,eventName:e,handler:n,useCapture:r})}},{key:"removeHandler",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on"+e,n)}},{key:"destroy",value:function(){for(var t=0;t<ot.length;t++){var e=ot[t];this.removeHandler(e.target,e.eventName,e.handler,e.useCapture)}for(var n=0;n<it.length;n++)clearTimeout(it[n])}}],e&&nt(t.prototype,e),n&&nt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),st=new ut;function lt(t){return lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lt(t)}function ct(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ft(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dt(r.key),r)}}function dt(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}var ht,yt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"find",value:function(t,e,n){for(var r=0;r<t.length;++r){var o=t[r];if(e.call(n,o,r,t))return o}}},{key:"flatten",value:function(t){var e=this;return this.reduce(t,(function(t,n){return Array.isArray(n)?t.concat(e.flatten(n)):t.concat(n)}),[])}},{key:"flatMap",value:function(t,e,n){return this.flatten(t.map(e,n))}},{key:"toObject",value:function(t,e,n){var r={};t.forEach((function(t){r[e(t)]=n(t)}));return r}},{key:"includes",value:function(t,e){return-1!==t.indexOf(e)}},{key:"intersect",value:function(t,e){var n=this;return t.filter((function(t){return n.includes(e,t)}))}},{key:"difference",value:function(t,e){var n=this;return t.filter((function(t){return!n.includes(e,t)}))}},{key:"union",value:function(t,e){return t.concat(e).filter((function(t,e,n){return n.indexOf(t)===e}))}},{key:"reduce",value:function(t,e,n){var r,o=n,i=ct(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;o=void 0!==o?e(o,a):a}}catch(t){i.e(t)}finally{i.f()}return o}},{key:"distinctBy",value:function(t,e){var n={};t.forEach((function(r,o){var i=e(r,o,t);n.hasOwnProperty(i)||(n[i]=r)}));return st.values(n)}}],e&&pt(t.prototype,e),n&&pt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),gt=new yt,vt=(ht=[" \f\n\r\t\v-\u2028\u2029\ufeff","0123456789","!\"#$%&'()*+,\\-./\\:;<=>?@\\[\\]^_`{|}~"],gt.reduce(ht,(function(t,e){for(var n=0;n<e.length;++n)t[e[n]]=!0;return t}),{}));function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function bt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return wt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function St(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kt(r.key),r)}}function kt(t){var e=function(t,e){if("object"!=mt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mt(e)?e:e+""}var Tt=document;function Ct(t){Et(Ot(t,!0,!0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}function Ot(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Tt.createEvent("Event");o.initEvent(t,e,n);st.assign(o,r);return o}function Et(t){return Tt.dispatchEvent(t)}function Pt(t,e){return Tt.addEventListener(t,e)}function _t(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt,r=function(o){e(o);n.removeEventListener(t,r)};return n.addEventListener(t,r)}function At(t,e){return Tt.removeEventListener(t,e)}var xt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.listeners=[]},(e=[{key:"add",value:function(t,e,n,r){r=r||{capture:!1};t.addEventListener(e,n,r.capture);this.listeners.push([t,e,n,r])}},{key:"destroyAll",value:function(){for(var t=0;t<this.listeners.length;t++){var e=bt(this.listeners[t],4),n=e[0],r=e[1],o=e[2],i=e[3];n.removeEventListener(r,o,i.capture)}this.listeners=[]}}])&&St(t.prototype,e),n&&St(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,It(r.key),r)}}function It(t){var e=function(t,e){if("object"!=jt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jt(e)?e:e+""}var Dt=null,Nt=null,Rt=!1,Ut=null,Vt=!1;var Ht=function(t){t["LANG_CHANGED"]="wovnLangChanged";return t}({}),Mt=function(t){t["WidgetLangSwitch"]="widget-lang-switch";return t}({}),Bt=function(){return e=function t(e,n,r,o,i,a,u,s,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);c=this,p=null,(f=It(f="convertedCodes"))in c?Object.defineProperty(c,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[f]=p;var c,f,p;this.langCookie=e;this.snippetSettings=n;this.supportedLanguages=r;this.languageAliases=o;this.browserLanguageProvider=i;this.data=a;this.domainOptions=u;this.widget=s;this.apiStatus=l;Dt=null;Nt=null;Rt=!1;Ut=null},n=[{key:"get",value:function(t){var e=this.supportedLanguages.find(t);return e?e.languageInfo:null}},{key:"iso6391Normalization",value:function(t){return t.replace(/zh-CHT/i,"zh-Hant").replace(/zh-CHS/i,"zh-Hans")}},{key:"getCode",value:function(t){var e=this.get(t);return e?e.code:null}},{key:"clearDocLang",value:function(){Ut=null;this.convertedCodes=null}},{key:"hasAlias",value:function(t){return null!=this.languageAliases.findAlias(t)}},{key:"setDefaultCodeAndRecomputeSecondaryCode",value:function(t){Dt=t;Nt=this.computeSecondaryCode()}},{key:"getDefaultCodeIfExists",value:function(){Dt||(Dt=(Dt=this.snippetSettings.isBackend&&this.snippetSettings.defaultLang)||this.data.pageData.getLang());return Dt}},{key:"getSecondaryCode",value:function(){null===Nt&&(Nt=this.computeSecondaryCode());return Nt}},{key:"computeSecondaryCode",value:function(){var t=this.data.domainOptions.getSecondaryLang(),e=this.data.getTranslatableLangs();t&&-1!==e.indexOf(t)||(t=this.getDefaultCodeIfExists());return t}},{key:"missingAutoTranslateLangs",value:function(){var t=this.data.getTranslatableLangs(),e=this.data.domainOptions.getAutoTranslateLangs();return st.setComplement(e,t).length>0}},{key:"missingAutoPublishLangs",value:function(){var t=this.data.getTranslatableLangs(),e=this.data.domainOptions.getAutoPublishLangs();return st.setComplement(e,t).length>0}},{key:"setDocLang",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=e||this.getDocLang();var r=this.data.getTranslatableLangs();return!1===st.includes(r,e)?t.Promise.resolve():this.setDocLangAllowUnpublished(e,n)}},{key:"setDocLangAllowUnpublished",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t.Promise((function(t){if(n.data.pageData.hasPublishedLang()){n.setHtmlLangAttribute(e);n.langCookie.set(e)}n.data.domainOptions.hasFeature("final_fv_project")||n.domAuditor.supervisedSwapVals(e);var o=n.getActualLang(),i=!Rt&&e!==n.getDefaultCodeIfExists();Ut=e;Rt=!0;if(o!==e||i){n.triggerLangChangedEvent(o,e,r);t()}else t()}))}},{key:"triggerLangChangedEvent",value:function(t,e,n){var r=this;this.apiStatus.isApiReady()?Et(Ot(Ht.LANG_CHANGED,!0,!0,{oldLangCode:t,newLangCode:e,langChangeReason:n})):this.apiStatus.addReadyCallback((function(){return r.triggerLangChangedEvent(t,e,n)}))}},{key:"setHtmlLangAttribute",value:function(t){var e=document.getElementsByTagName("html")[0],n=e.getAttribute("lang"),r=this.iso6391Normalization(t);n!=r&&e.setAttribute("lang",r)}},{key:"isValidLangCode",value:function(t){if(null===t)return!1;if(t===this.getDefaultCodeIfExists())return!0;if(!this.convertedCodes){this.convertedCodes={};for(var e=this.data.pageData.getConvertedLangs(),n=0;n<e.length;n++)this.convertedCodes[e[n].code]=!0}return this.convertedCodes[t]||!1}},{key:"getActualLang",value:function(){if(Rt)return this.getDocLang();if(this.snippetSettings.isBackend){var t=this.getBackendCurrentLang();if(this.isValidLangCode(t))return t}return this.getDefaultCodeIfExists()}},{key:"ignoreBackendLang",value:function(){Vt=!0}},{key:"_getDocLang",value:function(){var t=this.getDefaultCodeIfExists(),e=this.getSecondaryCode(),n=this.langCookie.get(),r=!!n,o=this.urlComponent.getLangCode(),i=this.browserLanguageProvider.getLanguage(),a=!this.domainOptions.hasFeature("ignore_browser_lang")&&!r&&null!=i;if(J.isBotRequiringDefaultLang())return this.snippetSettings.isBackend&&this.isValidLangCode(o)?o:t;if(this.snippetSettings.isBackend&&!Vt){var u=this.getBackendCurrentLang();return this.domainOptions.hasFeature("no_automatic_redirection")?a?i.code:u:a?i.code:(u!==t||r)&&this.isValidLangCode(u)?u:e}return t!==o&&this.isValidLangCode(o)?o:this.isValidLangCode(n)?n:a?i.code:e}},{key:"getDocLang",value:function(){return Ut||(Ut=this._getDocLang())}},{key:"getLangIdentifier",value:function(t){var e=this.supportedLanguages.find(t);return e?e.displayLanguage:null}},{key:"getBackendLangIdentifier",value:function(){var t=this.getBackendCurrentLang();return t?this.getLangIdentifier(t):null}},{key:"getBackendCurrentLang",value:function(){return(Rt?Ut:null)||this.snippetSettings.currentLang||this.urlComponent.getLangCode()}},{key:"isKoreanText",value:function(t){return function(t){if(t){for(var e=0,n=0,r=0;r<t.length;++r){var o=t[r],i=t.charCodeAt(r);i>=44032&&i<=55203?e+=1:vt[o]&&(n+=1)}if(n<t.length)return e/(t.length-n)>=.9}return!1}(t)}},{key:"defaultLangAlias",value:function(){var t=this.languageAliases.findAlias(this.snippetSettings.defaultLang);return t?t.langCodeAlias:null}},{key:"domAuditor",get:function(){return this.widget.c("DomAuditor")}},{key:"urlComponent",get:function(){return this.widget.c("Url")}}],n&&Lt(e.prototype,n),r&&Lt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Ft(t){return Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ft(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qt(r.key),r)}}function qt(t){var e=function(t,e){if("object"!=Ft(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ft(e)?e:e+""}var zt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"cancellationToken",get:function(){return this.instance().cancellationToken}},{key:"c",value:function(t){return this.instance().c(t)}},{key:"tag",get:function(){if(this.instance())return this.instance().tag}},{key:"instance",value:function(){return window.WOVN&&window.WOVN.io&&window.WOVN.io._private?window.WOVN.io._private.widget:null}},{key:"isBackend",value:function(){return this.instance().isBackend()}},{key:"getBackendDefaultLang",value:function(){return this.instance().getBackendDefaultLang()}},{key:"getBackendUrlPattern",value:function(){return this.instance().getBackendUrlPattern()}},{key:"isComponentLoaded",value:function(t){return!!this.instance()&&this.instance().isComponentLoaded(t)}},{key:"reinstallComponent",value:function(t){this.instance().reinstallComponent(t)}},{key:"getLocation",value:function(t){return this.instance().getLocation(t)}},{key:"getEncodedLocation",value:function(t){return this.instance().getEncodedLocation(t)}},{key:"destroy",value:function(){return this.instance().destroy()}},{key:"widgetGetOriginalUrl",value:function(){return this.instance().widgetGetOriginalUrl()}}])&&Wt(t.prototype,e),n&&Wt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Gt=new zt;function Jt(t){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jt(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kt(r.key),r)}}function Kt(t){var e=function(t,e){if("object"!=Jt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jt(e)?e:e+""}var Xt=["alt","value","placeholder","data-confirm","data-disable-with","content","label","title"],Zt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.node=e;this.nodeName=e.nodeName;this.data=e.data;this.ownerElement=e.ownerElement}return e=t,(n=[{key:"create",value:function(e){return new t(e)}},{key:"translationDataFallbackAttributeName",get:function(){return"data-wovn-translations:"+this.nodeName}},{key:"getUpperNodeName",value:function(){if(!this.nodeName)return null;var t=this.nodeName.charCodeAt(1);return 0==(t>=65&&t<=90)?this.nodeName.toUpperCase():this.nodeName}},{key:"replaceData",value:function(t,e){this.node.data=t;this.data=t;this.node.actualLang=e}},{key:"refreshData",value:function(){var t=this.node.data;t!==this.data&&(this.data=t)}},{key:"isValueNode",value:function(){return-1!==Xt.indexOf(this.nodeName)}},{key:"storeTranslationData",value:function(t){var e=this;this.node.wovnTranslation=t;if(t&&this.needTranslationDataFallbackAttribute()){var n=this.translationDataFallbackAttributeName;this.ownerElement.wovnMutationObservers=this.ownerElement.wovnMutationObserver||{};this.ownerElement.setAttribute(n,X(t));this.ownerElement.wovnMutationObservers[this.nodeName]||(this.ownerElement.wovnMutationObservers[this.nodeName]=new MutationObserver((function(t,r){for(var o=0;o<t.length;++o){var i=t[o];if("attributes"===i.type&&i.attributeName===e.nodeName){r.disconnect();e.ownerElement.removeAttribute(n);delete e.ownerElement.wovnMutationObservers[e.nodeName]}}})));this.ownerElement.wovnMutationObservers[this.nodeName].observe(this.ownerElement,{attributes:!0})}}},{key:"readTranslationData",value:function(){var t=this.node.wovnTranslation;if(!t&&this.needTranslationDataFallbackAttribute()){var e=this.translationDataFallbackAttributeName,n=this.ownerElement.getAttribute(e);if(n){t=JSON.parse(n);this.node.wovnTranslation=t}}return t}},{key:"needTranslationDataFallbackAttribute",value:function(){return this.ownerElement&&(Gt.c("Agent").isSafari()||Gt.c("Agent").isMobile())}}])&&$t(e.prototype,n),r&&$t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),Yt=Zt,Qt={machineTranslatedModal:{css:"#wovn-machine-translated-modal .wovn-modal-background {\n  visibility: hidden;\n  opacity: 0;\n  z-index: 99999;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  text-align: center;\n  background: rgba(100, 110, 117, 0.9);\n  overflow-y: auto;\n  transition: opacity 300ms, background 300ms, visibility 300ms;\n  font-family: helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif;\n  pointer-events: initial;\n}\n#wovn-machine-translated-modal .wovn-modal-background.opened {\n  display: block;\n  visibility: visible;\n  opacity: 1;\n  cursor: auto;\n}\n\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-container {\n  position: relative;\n  display: inline-block;\n  margin: 200px 200px;\n  padding: 32px 32px 16px;\n  background: white;\n  border-radius: 3px;\n  transform: translateY(0); transition: transform 0ms;\n  box-shadow: 0 12px 12px 0 rgba(0, 0, 0, 0.24), 0 0 12px 0 rgba(0, 0, 0, 0.12);\n}\n@media (max-width: 600px) {\n  #wovn-machine-translated-modal .wovn-modal-background .wovn-modal-container {\n    margin: 24px 24px;\n  }\n}\n@media (min-width: 601px) and (max-width: 800px) {\n  #wovn-machine-translated-modal .wovn-modal-background .wovn-modal-container {\n    margin: 100px 100px;\n  }\n}\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-content {\n  text-align: left;\n}\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-content h3 {\n  font-size: 20px;\n  font-weight: normal;\n  color: #27313b;\n  margin-top: 0;\n}\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-content p {\n  font-size: 14px;\n  color: #27313b;\n  margin-bottom: 32px;\n}\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-footer {\n  background-color: #f6f8fa;\n  border-top: solid 1px #eef3f7;\n  margin: 0 -32px -16px -32px;\n  border-radius: 0 0 3px 3px;\n  padding: 16px 30px;\n  position: relative;\n  text-align: right;\n}\n#wovn-machine-translated-modal .wovn-modal-background button {\n  border-radius: 2px;\n  width: 96px;\n  height: 32px;\n  box-sizing: border-box;\n  text-transform: uppercase;\n  font-size: 12px;\n  font-weight: 600;\n}\n#wovn-machine-translated-modal .wovn-modal-background button.wovn-modal-back-button {\n  border: solid 1px #eef3f7;\n  background-color: #ffffff;\n  color: #82959f;\n}\n#wovn-machine-translated-modal .wovn-modal-background button.wovn-modal-ok-button {\n  border: none;\n  background-color: #545f66;\n  border: solid 1px #545f66;\n  cursor: pointer;\n  color: #ffffff;\n}\n#wovn-machine-translated-modal .wovn-modal-background button.wovn-modal-ok-button:hover {\n  background-color: #6e7c89;\n  border: solid 1px #6e7c89;\n}\n",html:'<div class="wovn-modal-background"> <div class="wovn-modal-container"> <div class="wovn-modal-content"> <h3 class="wovn-modal-content-title"></h3> <p class="wovn-modal-content-body"></p> </div> <div class="wovn-modal-footer"> <button class="wovn-modal-ok-button">ok</button> </div> </div> </div> '},tenso:{css:"div#wovn-tenso-modal {\n  display: none;\n  z-index: 2147483646;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  text-align: center;\n  background: rgba(84,95,102, 0.8);\n  overflow-y: auto;\n  font-family: helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif;\n}\n.tenso-img {\n  display: inline-block;\n}\n.raku-ichiban-img {\n  display: none;\n}\n.raku-ichiban .tenso-img {\n  display: none;\n}\n.raku-ichiban .raku-ichiban-img {\n  display: inline-block;\n}\ndiv#wovn-tenso-modal.opened {\n  display: block;\n}\ndiv.wovn-tenso-dialog {\n  width: 652px;\n  height: 396px;\n  position: relative;\n  margin: 7% auto;\n  padding: 24px 25px 16px;\n  display: inline-block;\n  border-radius: 3px;\n  opacity: 1;\n  background-color: #ffffff;\n  box-shadow: 0 19px 38px 0 rgba(0, 0, 0, 0.3), 0 15px 12px 0 rgba(0, 0, 0, 0.22);\n}\ndiv.wovn-tenso-close {\n  position: absolute;\n  width: 32px;\n  top: 16px;\n  right: 0;\n  margin: 9px;\n  line-height: 14px;\n  font-size: 30px;\n  color: #bdc4c8;\n  cursor: pointer;\n}\ndiv.wovn-tenso-header {\n  text-align: center;\n}\ndiv.wovn-tenso-logo {\n  position: absolute;\n  top: 71px;\n  left: 69px;\n}\ndiv.wovn-tenso-title {\n  text-align: center;\n  color: #545f66;\n  font-size: 20px;\n  margin-top: 27px;\n  margin-bottom: 25px;\n  height: 30px;\n}\ndiv.wovn-tenso-lang-selector {\n  display: inline-block;\n  padding: 0 5px;\n}\ndiv.wovn-tenso-lang-selector:after {\n  content: '|';\n  color: #8f9aa0;\n  font-size: 16px;\n}\ndiv.wovn-tenso-lang-selector:last-child:after {\n  content: '';\n}\nspan.wovn-tenso-lang-selector-name {\n  font-size: 14px;\n  color: #469fd6;\n  cursor: pointer;\n}\nspan.wovn-tenso-lang-selector-name.active {\n  color: #545f66;\n}\ndiv.wovn-tenso-subtitle {\n  text-align: center;\n  font-size: 14px;\n  color: #8f9aa0;\n  margin-bottom: 16px;\n  height: 42px;\n}\ndiv.wovn-tenso-subtitle span {\n  display: block;\n}\ndiv.wovn-tenso-steps {\n  height: 170px;\n  position: relative;\n}\ndiv.wovn-tenso-step {\n  text-align:center;\n  display:inline-block;\n  vertical-align: bottom;\n  width: 160px;\n  height: 140px;\n  margin: 5px 17px;\n  border-radius: 3px;\n  background-color: #ffffff;\n  border: solid 1px #e6e6e6;\n}\ndiv.wovn-tenso-step-content {\n  padding: 5px 10px;\n}\ndiv.wovn-tenso-step-title {\n  padding: 15px 0;\n  font-size: 20px;\n  color: #ff4d09;\n}\n.raku-ichiban div.wovn-tenso-step-title {\n  color: #ab263b;\n}\ndiv.wovn-tenso-step-text {\n  font-size: 14px;\n  color: #545f66;\n}\ndiv.wovn-tenso-step-separator {\n  display: inline-block;\n  color: #ff4d09;\n  position: relative;\n  margin-bottom: 70px;\n}\n.raku-ichiban div.wovn-tenso-step-separator {\n  color: #ab263b;\n}\ndiv.wovn-tenso-footer-border {\n  border-top: 1px solid rgba(0,0,0, 0.12);\n  margin: 2px -25px 0 -25px;\n}\ndiv.wovn-tenso-footer {\n}\ndiv.wovn-tenso-footer-buttons {\n  margin-top: 16px;\n}\ndiv.wovn-tenso-cancel-button {\n  display: inline-block;\n  font-size: 12px;\n  padding: 12px 30px;\n  color: #545f66;\n}\ndiv.wovn-tenso-cancel-button:hover {\n  cursor: pointer;\n}\ndiv.wovn-tenso-ok-button {\n  display: inline-block;\n  font-size: 12px;\n  padding: 12px 30px;\n  color: #ffffff;\n  background-color: #FF4D09;\n  border-radius: 3px;\n}\n.raku-ichiban div.wovn-tenso-ok-button {\n  background-color: #ab263b;\n}\ndiv.wovn-tenso-ok-button:hover {\n  background-color: #FF703A;\n}\n.raku-ichiban div.wovn-tenso-ok-button:hover {\n  background-color: #C55062;\n}\ndiv.wovn-tenso-ok-button:active {\n  background-color: #E54508;\n}\n@media(max-width: 600px) {\n  div.wovn-tenso-step-separator {\n    display:none;\n  }\n  div.wovn-tenso-logo {\n    position: relative;\n    padding-top: 20px;\n    top: initial;\n    left: initial;\n  }\n  div.wovn-tenso-dialog {\n    width: 80%;\n    height: 472px;\n  }\n  div.wovn-tenso-step {\n    width: 100%;\n    height: 61px;\n    margin: 5px auto;\n  }\n  div.wovn-tenso-step-title {\n    margin-top: 5px;\n    padding: 0;\n    font-size: 16px;\n    color: #ff4d09;\n  }\n  div.wovn-tenso-step-text {\n    margin-top: -5px;\n    padding: 8px 0 16px 0;\n    font-size: 11px;\n  }\n  div.wovn-tenso-footer-border {\n    margin: 62px -25px 0 -25px;\n  }\n  div.wovn-tenso-title {\n    margin: 20px 0 0 0;\n    font-size: 16px;\n  }\n  div.wovn-tenso-subtitle {\n    font-size: 12px;\n  }\n  div.wovn-tenso-footer-buttons {\n    margin: 16px 0;\n  }\n}\n@media(max-width: 320px) {\n  div.wovn-tenso-dialog {\n    width: 85%;;\n    height: 478px;\n    padding: 24px 16px 16px;\n  }\n  div.wovn-tenso-subtitle {\n    margin-bottom: 22px;\n  }\n}\n\n/* BANNER */\nbody[wovn-tenso-banner-on] {\n  padding-top: 60px;\n}\ndiv#wovn-tenso-banner {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 60px;\n  color: #3991c9;\n  background-color: #b7e2fd;\n  font-family: helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif;\n  text-align: center;\n  box-shadow: 0 -1px 3px 0 rgba(0, 0, 0, 0);\n}\ndiv#wovn-tenso-banner.raku-ichiban {\n  color: white;\n  background-color: #ab263b;\n}\ndiv#wovn-tenso-banner.opened {\n  display: block;\n}\na.wovn-tenso-banner-content {\n  display: block;\n  width: 100%;\n  height: 100%;\n  text-decoration: none;\n}\ndiv.wovn-tenso-banner-logo {\n  display: inline-block;\n  top: 14px;\n  position: relative;\n}\n.raku-ichiban div.wovn-tenso-banner-logo {\n  top: 12px;\n  width: 72px;\n  height: 33.9px;\n}\ndiv.wovn-tenso-banner-text {\n  display: inline-block;\n  font-size: 14px;\n  top: 7px;\n  position: relative;\n  padding-left: 10px;\n}\n.raku-ichiban div.wovn-tenso-banner-text {\n  color: #ffffff;\n}\ndiv.wovn-tenso-banner-link {\n  display: inline-block;\n  color: #f95c29;\n  font-size: 16px;\n  top: 7px;\n  position: relative;\n  padding-left: 10px;\n}\n\n.raku-ichiban div.wovn-tenso-banner-link {\n  color: #ffffff;\n}\n\n@media (max-width: 440px) {\n  a.wovn-tenso-banner-content {\n    text-decoration: none;\n  }\n  div.wovn-tenso-banner-logo, .raku-ichiban div.wovn-tenso-banner-logo {\n    display: block;\n    top:9px;\n  }\n  .raku-ichiban div.wovn-tenso-banner-logo {\n    width: auto;\n  }\n  div.wovn-tenso-banner-logo img {\n    width: 90px;\n  }\n  .raku-ichiban div.wovn-tenso-banner-logo img {\n    width: 70px;\n  }\n  div.wovn-tenso-banner-text {\n    top: 8px;\n    font-size: 10px;\n  }\n  div.wovn-tenso-banner-link {\n    top: 8px;\n    padding-left: 0;\n    font-size: 12px;\n  }\n}\n",bannerHtml:'<a class="wovn-tenso-banner-content" target="_blank"> <div class="wovn-tenso-banner-logo"> <div> <img src="//wovn.io/assets/tenso_logo_banner.png" class="tenso-img" alt="Tenso"> <img src="//wovn.io/assets/raku_ichiban_logo_white.png" class="raku-ichiban-img" alt="Tenso"> </div> </div> <div class="wovn-tenso-banner-text"></div> <div class="wovn-tenso-banner-link"></div> </a> ',modalHtml:'<div class="wovn-tenso-dialog"> <div class="wovn-tenso-content"> <div class="wovn-tenso-close">&times;</div> <div class="wovn-tenso-header"></div> <div class="wovn-tenso-logo"> <div> <img src="//wovn.io/assets/tenso_logo_modal.png" class="tenso-img" alt="Tenso"> <img src="//wovn.io/assets/raku_ichiban_logo_color.png" class="raku-ichiban-img" alt="Tenso"> </div> </div> <div class="wovn-tenso-title"> <span></span> </div> <div class="wovn-tenso-subtitle"> <span></span> <span></span> </div> <div class="wovn-tenso-steps"> <div class="wovn-tenso-step"> <div class="wovn-tenso-step-content"> <div class="wovn-tenso-step-title">STEP 1</div> <div class="wovn-tenso-step-text"></div> </div> </div> <div class="wovn-tenso-step-separator"> <div> <img src="//wovn.io/assets/tenso_next_step.png" class="tenso-img" alt=">"> <img src="//wovn.io/assets/raku_ichiban_next_step.png" class="raku-ichiban-img" alt=">"> </div> </div> <div class="wovn-tenso-step"> <div class="wovn-tenso-step-content"> <div class="wovn-tenso-step-title">STEP 2</div> <div class="wovn-tenso-step-text"></div> </div> </div> <div class="wovn-tenso-step-separator"> <div> <img src="//wovn.io/assets/tenso_next_step.png" class="tenso-img" alt=">"> <img src="//wovn.io/assets/raku_ichiban_next_step.png" class="raku-ichiban-img" alt=">"> </div> </div> <div class="wovn-tenso-step"> <div class="wovn-tenso-step-content"> <div class="wovn-tenso-step-title">STEP 3</div> <div class="wovn-tenso-step-text"></div> </div> </div> </div> <div class="wovn-tenso-footer-border"></div> <div class="wovn-tenso-footer"> <div class="wovn-tenso-footer-buttons"> <div class="wovn-tenso-cancel-button"></div> <a target="_blank"><div class="wovn-tenso-ok-button"></div></a> </div> </div> </div> </div> '},languageSelector:{standardHtml:'<div class="wovn-lang-container"> <ul class="wovn-lang-list"></ul> <a class="wovn-logo wovn-logo--big" class="wovn-logo-big" href="http://wovn.io" target="_blank" aria-label="WOVN.io | Make your website multilingual"> <svg style="max-height:10px;max-width:61px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 396.36 64.73"><circle class="color-dot" cx="322.58" cy="53.99" r="10"/><path class="color-letter" id="letter-small-i" d="M343.84,30.31h9.42a1.16,1.16,0,0,1,1.18,1.18V61.79A1.16,1.16,0,0,1,353.26,63h-9.42a1.16,1.16,0,0,1-1.18-1.18V31.48C342.52,30.89,343.11,30.31,343.84,30.31Z"/><path id="letter-small-o" class="color-letter" d="M379,29.28a17.36,17.36,0,1,0,17.36,17.36A17.39,17.39,0,0,0,379,29.28Zm0,24.57a7.21,7.21,0,1,1,7.21-7.21A7.22,7.22,0,0,1,379,53.84Z"/><path id="letter-big-W" class="color-letter" d="M93.48,1.18H78.18a2,2,0,0,0-1.91,1.47L66.7,34.42,56.11,2.35A2.06,2.06,0,0,0,54.34,1H41.4a1.9,1.9,0,0,0-1.77,1.32L29,34.42,19.48,2.65a2,2,0,0,0-1.91-1.47H1.68a1.54,1.54,0,0,0-1.32.74A1.81,1.81,0,0,0,.06,3.38L19.77,62.67A2.06,2.06,0,0,0,21.54,64H34.63a1.85,1.85,0,0,0,1.77-1.32L47.58,30.6,58.76,62.67A2.06,2.06,0,0,0,60.52,64H73.61a1.9,1.9,0,0,0,1.77-1.32L95.09,3.38a1.4,1.4,0,0,0-.29-1.47A1.54,1.54,0,0,0,93.48,1.18Z"/><path id="letter-big-O" class="color-letter" d="M132,0C113.19,0,98.48,14.27,98.48,32.51s14.71,32.22,33.39,32.22,33.54-14.27,33.54-32.51S150.7,0,132,0Zm14.56,32.51C146.58,41.34,140.26,48,132,48s-14.71-6.77-14.71-15.74,6.18-15.45,14.56-15.45S146.58,23.54,146.58,32.51Z"/><path id="letter-big-V" class="color-letter" d="M232.06,1.18H215.73a2.09,2.09,0,0,0-1.91,1.32L201,38,188.22,2.5a2.09,2.09,0,0,0-1.91-1.32H169.53a1.54,1.54,0,0,0-1.32.74,1.58,1.58,0,0,0-.15,1.62L191.9,62.82A1.91,1.91,0,0,0,193.66,64h14.12a1.91,1.91,0,0,0,1.77-1.18L233.38,3.53a1.74,1.74,0,0,0-.15-1.47C233,1.44,232.65,1.18,232.06,1.18Z"/><path id="letter-big-N" class="color-letter" d="M301.05,1.18h-15.3a1.47,1.47,0,0,0-1.47,1.47V32.37L261,1.91a1.81,1.81,0,0,0-1.47-.74H245a1.47,1.47,0,0,0-1.47,1.47V62.52A1.47,1.47,0,0,0,245,64h15.45a1.47,1.47,0,0,0,1.47-1.47V31.63L286,63.26a1.81,1.81,0,0,0,1.47.74h13.53a1.47,1.47,0,0,0,1.47-1.47V2.65A1.47,1.47,0,0,0,301.05,1.18Z"/></svg> </a> </div> <div class="wovn-lang-selector"> <div class="wovn-lang-selector-links"> <svg id="wovn-logo-planet" style="max-width:20px;max-height:20px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M14.2588,19.6699 C15.1168,18.6319 15.8108,17.4539 16.2858,16.1669 L18.8168,16.1669 C17.7908,17.8369 16.1768,19.1039 14.2588,19.6699 Z M5.1838,16.1669 L7.7138,16.1669 C8.1898,17.4539 8.8828,18.6319 9.7408,19.6699 C7.8228,19.1039 6.2088,17.8369 5.1838,16.1669 Z M9.7408,4.3299 C8.8458,5.4119 8.1388,6.6489 7.6618,7.9999 L5.0818,7.9999 C6.0998,6.2469 7.7598,4.9149 9.7408,4.3299 Z M18.9178,7.9999 L16.3378,7.9999 C15.8618,6.6489 15.1548,5.4119 14.2588,4.3299 C16.2398,4.9149 17.9008,6.2469 18.9178,7.9999 Z M16.8488,9.9999 L19.7368,9.9999 C19.9028,10.6409 19.9998,11.3089 19.9998,11.9999 C19.9998,12.7519 19.8888,13.4769 19.6938,14.1669 L16.8178,14.1669 C16.9468,13.4619 17.0348,12.7429 17.0348,11.9999 C17.0348,11.3159 16.9578,10.6519 16.8488,9.9999 Z M14.1938,7.9999 L9.8068,7.9999 C10.3238,6.8139 11.0648,5.7249 11.9998,4.8069 C12.9358,5.7249 13.6758,6.8139 14.1938,7.9999 Z M3.9998,11.9999 C3.9998,11.3089 4.0978,10.6409 4.2638,9.9999 L7.1518,9.9999 C7.0418,10.6519 6.9648,11.3159 6.9648,11.9999 C6.9648,12.7429 7.0538,13.4619 7.1828,14.1669 L4.3068,14.1669 C4.1118,13.4769 3.9998,12.7519 3.9998,11.9999 Z M9.2108,14.1669 C9.0538,13.4599 8.9648,12.7349 8.9648,11.9999 C8.9648,11.3229 9.0348,10.6529 9.1688,9.9999 L14.8308,9.9999 C14.9648,10.6529 15.0348,11.3229 15.0348,11.9999 C15.0348,12.7349 14.9458,13.4599 14.7888,14.1669 L9.2108,14.1669 Z M9.8868,16.1669 L14.1128,16.1669 C13.5998,17.2879 12.8918,18.3189 11.9998,19.1929 C11.1088,18.3189 10.4008,17.2879 9.8868,16.1669 Z M1.9998,11.9999 C1.9998,17.5229 6.4778,21.9999 11.9998,21.9999 C17.5228,21.9999 21.9998,17.5229 21.9998,11.9999 C21.9998,6.4769 17.5228,1.9999 11.9998,1.9999 C6.4778,1.9999 1.9998,6.4769 1.9998,11.9999 Z"></path></svg> <span class="wovn-current-lang">Loading...</span> <a class="wovn-logo wovn-logo--small" href="http://wovn.io" target="_blank" aria-label="WOVN.io | Make your website multilingual"> <svg style="max-width:21px;max-height:10px" id="wovn-logo--floating" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 66.96 39.35"><circle class="color-dot" cx="60.71" cy="33.1" r="6.25"/><path class="color-letter" d="M58.42.09H48.86a1.27,1.27,0,0,0-1.2.92l-6,19.86L35.06.83A1.29,1.29,0,0,0,34,0H25.87a1.19,1.19,0,0,0-1.1.83l-6.62,20L12.17,1A1.27,1.27,0,0,0,11,.09H1A1,1,0,0,0,.22.55,1.13,1.13,0,0,0,0,1.47L12.36,38.52a1.29,1.29,0,0,0,1.1.83h8.18a1.16,1.16,0,0,0,1.1-.83l7-20,7,20a1.29,1.29,0,0,0,1.1.83H46a1.19,1.19,0,0,0,1.1-.83L59.43,1.47a.88.88,0,0,0-.18-.92A1,1,0,0,0,58.42.09Z"/></svg> <svg style="max-width:56px;max-height:8px" id="wovn-logo--default" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 396.36 64.73"><circle class="color-dot" cx="322.58" cy="53.99" r="10"/><path class="color-letter" id="letter-small-i" d="M343.84,30.31h9.42a1.16,1.16,0,0,1,1.18,1.18V61.79A1.16,1.16,0,0,1,353.26,63h-9.42a1.16,1.16,0,0,1-1.18-1.18V31.48C342.52,30.89,343.11,30.31,343.84,30.31Z"/><path id="letter-small-o" class="color-letter" d="M379,29.28a17.36,17.36,0,1,0,17.36,17.36A17.39,17.39,0,0,0,379,29.28Zm0,24.57a7.21,7.21,0,1,1,7.21-7.21A7.22,7.22,0,0,1,379,53.84Z"/><path id="letter-big-W" class="color-letter" d="M93.48,1.18H78.18a2,2,0,0,0-1.91,1.47L66.7,34.42,56.11,2.35A2.06,2.06,0,0,0,54.34,1H41.4a1.9,1.9,0,0,0-1.77,1.32L29,34.42,19.48,2.65a2,2,0,0,0-1.91-1.47H1.68a1.54,1.54,0,0,0-1.32.74A1.81,1.81,0,0,0,.06,3.38L19.77,62.67A2.06,2.06,0,0,0,21.54,64H34.63a1.85,1.85,0,0,0,1.77-1.32L47.58,30.6,58.76,62.67A2.06,2.06,0,0,0,60.52,64H73.61a1.9,1.9,0,0,0,1.77-1.32L95.09,3.38a1.4,1.4,0,0,0-.29-1.47A1.54,1.54,0,0,0,93.48,1.18Z"/><path id="letter-big-O" class="color-letter" d="M132,0C113.19,0,98.48,14.27,98.48,32.51s14.71,32.22,33.39,32.22,33.54-14.27,33.54-32.51S150.7,0,132,0Zm14.56,32.51C146.58,41.34,140.26,48,132,48s-14.71-6.77-14.71-15.74,6.18-15.45,14.56-15.45S146.58,23.54,146.58,32.51Z"/><path id="letter-big-V" class="color-letter" d="M232.06,1.18H215.73a2.09,2.09,0,0,0-1.91,1.32L201,38,188.22,2.5a2.09,2.09,0,0,0-1.91-1.32H169.53a1.54,1.54,0,0,0-1.32.74,1.58,1.58,0,0,0-.15,1.62L191.9,62.82A1.91,1.91,0,0,0,193.66,64h14.12a1.91,1.91,0,0,0,1.77-1.18L233.38,3.53a1.74,1.74,0,0,0-.15-1.47C233,1.44,232.65,1.18,232.06,1.18Z"/><path id="letter-big-N" class="color-letter" d="M301.05,1.18h-15.3a1.47,1.47,0,0,0-1.47,1.47V32.37L261,1.91a1.81,1.81,0,0,0-1.47-.74H245a1.47,1.47,0,0,0-1.47,1.47V62.52A1.47,1.47,0,0,0,245,64h15.45a1.47,1.47,0,0,0,1.47-1.47V31.63L286,63.26a1.81,1.81,0,0,0,1.47.74h13.53a1.47,1.47,0,0,0,1.47-1.47V2.65A1.47,1.47,0,0,0,301.05,1.18Z"/></svg> </a> </div> <span id="translated-by-machine">Translated by AI</span> </div> '},liveEditLoadingOverlay:{html:'<div class="wovn-live-edit-loading" wovn-ignore wovn> <div class="wovn-live-edit-loading-logo-container"> <div class="wovn-live-edit-loading-spinner"></div> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="12" viewBox="0 0 19 12"> <defs> <path id="a" d="M.14.153h3.848V4H.141z"/> <path id="c" d="M0 .195h16.854V12H0z"/> </defs> <g fill="none" fill-rule="evenodd"> <g transform="translate(15 8)"> <mask id="b" fill="#fff"> <use xlink:href="#a"/> </mask> <path fill="#38B171" d="M2.065.153a1.924 1.924 0 1 1 0 3.847 1.924 1.924 0 0 1 0-3.847" mask="url(#b)"/> </g> <g> <mask id="d" fill="#fff"> <use xlink:href="#c"/> </mask> <path fill="#FFF" d="M16.552.223h-2.71c-.156 0-.286.11-.338.275L11.81 6.456 9.935.443C9.883.305 9.753.195 9.623.195H7.33c-.156 0-.26.11-.312.248L5.142 6.456 3.449.498C3.397.333 3.266.223 3.11.223H.297A.271.271 0 0 0 .062.36C.01.443-.016.554.01.636L3.5 11.752c.053.138.183.248.313.248h2.319c.13 0 .26-.083.312-.248l1.98-6.013 1.98 6.013c.052.138.182.248.312.248h2.319c.156 0 .26-.11.312-.248L16.838.636c.026-.082.026-.193-.052-.276a.27.27 0 0 0-.234-.137" mask="url(#d)"/> </g> </g> </svg> </div> <div class="wovn-live-edit-loading-text">Loading...</div> </div> <style>@-moz-keyframes spin{from{-moz-transform:rotate(0)}to{-moz-transform:rotate(360deg)}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}.wovn-live-edit-loading[wovn]{position:fixed;top:0;left:0;z-index:2147483646;width:100%;height:100%;background-color:rgba(0,0,0,.8);font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,sans-serif;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:1;-webkit-transition:opacity .5s;-moz-transition:opacity .5s;transition:opacity .5s}.wovn-live-edit-loading--fading[wovn]{opacity:0}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-logo-container{display:flex;align-items:center;justify-content:center}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-logo-container svg{position:absolute}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-spinner{animation:spin 1s linear infinite;height:68px;width:68px}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-spinner::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:conic-gradient(transparent,#fff);border-radius:50%;mask:radial-gradient(farthest-side,transparent calc(100% - 4px),#fff 0);-webkit-mask:radial-gradient(farthest-side,transparent calc(100% - 4px),#fff 0)}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-logo-container svg{width:19px;height:12px}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-text{margin:16px;font-size:16px;color:#fff}</style> '}};function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ne(r.key),r)}}function ne(t){var e=function(t,e){if("object"!=te(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==te(e)?e:e+""}var re=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.element=null;this.domInsertStrategy=e},(e=[{key:"appendToDom",value:function(t){this.element||(this.element=this.buildHtmlElement());document.body.contains(this.element)||this.domInsertStrategy(this.element,t);return this.element}}])&&ee(t.prototype,e),n&&ee(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function oe(t){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oe(t)}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ae(r.key),r)}}function ae(t){var e=function(t,e){if("object"!=oe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oe(e)?e:e+""}function ue(t,e,n){return e=le(e),function(t,e){if(e&&("object"==oe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,se()?Reflect.construct(e,n||[],le(t).constructor):e.apply(t,n))}function se(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(se=function(){return!!t})()}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},le(t)}function ce(t,e){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ce(t,e)}var fe=function(t){function e(t,n,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(a=ue(this,e,[r])).languageService=t;a.widgetInit=n;a.liveEditorSettings=o;a.widgetSessionManager=i;a.loadingOverlayElement=null;return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ce(t,e)}(e,t);return n=e,(r=[{key:"buildHtmlElement",value:function(){var t=this,e=document.createElement("span");e.className="wovn-additional-button wovn-live-edit-button";e.setAttribute("wovn","");e.setAttribute("wovn-ignore","");e.onclick=function(){t.widgetSessionManager.createSession().then((function(e){if(e.body.error){console.log("WOVN: you are not logged in.");window.location.reload()}else{t.startLoading();var n=t.languageService.getActualLang();t.liveEditorSettings.updateBrowserUrlState(e.body.token,n,"","2");t.widgetInit.start((function(){return t.stopLoading()}))}}))};e.innerText="Live Editor";return e}},{key:"startLoading",value:function(){if(!this.loadingOverlayElement){this.loadingOverlayElement=document.createElement("DIV");this.loadingOverlayElement.innerHTML=Qt.liveEditLoadingOverlay.html;document.body.appendChild(this.loadingOverlayElement)}}},{key:"stopLoading",value:function(){var t=this;if(this.loadingOverlayElement){this.loadingOverlayElement.querySelector(".wovn-live-edit-loading").className+=" wovn-live-edit-loading--fading";setTimeout((function(){document.body.removeChild(t.loadingOverlayElement);t.loadingOverlayElement=null}),600)}}}])&&ie(n.prototype,r),o&&ie(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(re),pe='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 3C0 1.34315 1.34315 0 3 0H32V32H3C1.34315 32 0 30.6569 0 29V3Z" fill="#27313B"/><path d="M23.088 11.0286H20.4549C20.2995 11.0286 20.1676 11.1336 20.1252 11.2863L18.4766 16.8317L16.6537 11.2338C16.6066 11.1002 16.4889 11.0095 16.3476 11H14.1196C13.9783 11.0048 13.8559 11.0954 13.8135 11.2291L11.9859 16.8364L10.3467 11.2911C10.3043 11.1384 10.1724 11.0382 10.017 11.0334H7.28505C7.19084 11.0334 7.10606 11.0811 7.05895 11.1623C7.00714 11.2338 6.9883 11.3293 7.00714 11.4152L10.3985 21.7662C10.4456 21.895 10.5634 21.9857 10.7047 22H12.9562C13.0975 22 13.22 21.9046 13.2624 21.7709L15.1841 16.1683L17.1059 21.7662C17.153 21.895 17.2708 21.9857 17.4074 22H19.6589C19.8002 21.9952 19.9227 21.9046 19.9651 21.7709L23.3564 11.4152C23.3894 11.3293 23.3706 11.2291 23.3046 11.1575C23.2669 11.0764 23.1822 11.0286 23.088 11.0286Z" fill="white"/><path d="M23.9017 22.0001C24.8538 22.0001 25.6256 21.2181 25.6256 20.2535C25.6256 19.2888 24.8538 18.5068 23.9017 18.5068C22.9496 18.5068 22.1777 19.2888 22.1777 20.2535C22.1777 21.2181 22.9496 22.0001 23.9017 22.0001Z" fill="#42B87C"/></svg>',de='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0H29C30.6569 0 32 1.34315 32 3V29C32 30.6569 30.6569 32 29 32H0V0Z" fill="#27313B"/><path d="M23.088 11.0286H20.4549C20.2995 11.0286 20.1676 11.1336 20.1252 11.2863L18.4766 16.8317L16.6537 11.2338C16.6066 11.1002 16.4889 11.0095 16.3476 11H14.1196C13.9783 11.0048 13.8559 11.0954 13.8135 11.2291L11.9859 16.8364L10.3467 11.2911C10.3043 11.1384 10.1724 11.0382 10.017 11.0334H7.28505C7.19084 11.0334 7.10606 11.0811 7.05895 11.1623C7.00714 11.2338 6.9883 11.3293 7.00714 11.4152L10.3985 21.7662C10.4456 21.895 10.5634 21.9857 10.7047 22H12.9562C13.0975 22 13.22 21.9046 13.2624 21.7709L15.1841 16.1683L17.1059 21.7662C17.153 21.895 17.2708 21.9857 17.4074 22H19.6589C19.8002 21.9952 19.9227 21.9046 19.9651 21.7709L23.3564 11.4152C23.3894 11.3293 23.3706 11.2291 23.3046 11.1575C23.2669 11.0764 23.1822 11.0286 23.088 11.0286Z" fill="white"/><path d="M23.9036 22C24.8558 22 25.6276 21.218 25.6276 20.2534C25.6276 19.2887 24.8558 18.5067 23.9036 18.5067C22.9515 18.5067 22.1797 19.2887 22.1797 20.2534C22.1797 21.218 22.9515 22 23.9036 22Z" fill="#42B87C"/></svg>',he='<svg id="wovn-button-refresh" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path transform="translate(1.000000, 3.000000)" d="M11.5596442,-1.77635684e-15 C14.3729765,-1.77635684e-15 16.973443,1.30057614 18.6675644,3.47875724 C19.006632,3.91470632 18.9280941,4.54298149 18.492145,4.8820491 C18.0561959,5.22111671 17.4279208,5.14257876 17.0888532,4.70662968 C15.7696978,3.01055335 13.7491239,2 11.5596442,2 C8.32859268,2 5.60883275,4.18909956 4.80261311,7.16505 L7.90150672,7.65654 L3.16858104,11.9692438 L0,6.40506427 L2.8178087,6.85102414 C3.78132973,2.91810662 7.32970681,-1.77635684e-15 11.5596442,-1.77635684e-15 Z M18.8886268,7 L22.0572079,12.5641796 L19.1709644,12.1075645 C18.0524067,15.8055842 14.6181809,18.4980039 10.5551068,18.4980039 C7.58369272,18.4980039 4.85484992,17.0463604 3.18127721,14.6592981 C2.86422851,14.207083 2.97380259,13.5834714 3.42601776,13.2664227 C3.87823294,12.949374 4.50184453,13.058948 4.81889323,13.5111632 C6.12199353,15.3698106 8.24280494,16.4980039 10.5551068,16.4980039 C13.6182709,16.4980039 16.2218971,14.5304878 17.1711605,11.7902804 L14.1557011,11.3127038 L18.8886268,7 Z"></path></svg>',ye='<svg id="wovn-button-check" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M16.875017,9.69938082 L9.94401704,16.6303808 C9.74701704,16.8273808 9.42601704,16.8263808 9.22901704,16.6303808 L6.29901704,13.6993808 C5.90501704,13.3053808 5.89701704,12.6763808 6.29501704,12.2793808 C6.67001704,11.9043808 7.30301704,11.9033808 7.69501704,12.2963808 L9.58701704,14.1873808 L15.478017,8.29638082 C15.870017,7.90438082 16.498017,7.89838082 16.895017,8.29538082 C17.270017,8.67038082 17.264017,9.30938082 16.875017,9.69938082"></path></svg>';function ge(t){return"function"==typeof t.getAttribute}function ve(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function me(t,e){we(t,e)||(t.className=0==t.className.length?e:t.className+" "+e)}function be(t,e){var n=l(e),r=new RegExp("(^| )"+n+"( |$)","g"),o=t.className.replace(r," ").replace(/\s+/g," ");t.className=l(o)}function we(t,e){return Se([l(e)]).test(t.className)}function Se(t){var e=t.map((function(t){return"(^| )".concat(t,"( |$)")})).join("|");return new RegExp(e)}function ke(t,e){var n=document.createElement("style");e&&(n.id=e);n.textContent=t;return n}function Te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;try{return st.toArrayFromDomList(e.querySelectorAll(t))}catch(t){return[]}}function Ce(t){return t&&t.nodeType==Node.ELEMENT_NODE}function Oe(t){return t&&t.nodeType==Node.TEXT_NODE}function Ee(t,e){return t.hasAttribute(e)||t.hasAttribute("data-"+e)}function Pe(t,e){for(var n=0;n<t.length;n++){t[n].removeAttribute(e);t[n].removeAttribute("data-"+e)}}function _e(t){for(var e=t.previousSibling,n=0;e;){e.nodeName===t.nodeName&&n++;e=e.previousSibling}return n}function Ae(t){for(;t=t.nextSibling;)if(Ce(t))return t;return null}function xe(t){return xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xe(t)}function je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Le(r.key),r)}}function Le(t){var e=function(t,e){if("object"!=xe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xe(e)?e:e+""}var Ie="wovn-additional-buttons";function De(){return document.getElementById(Ie)}var Ne=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"setWidgetStyle",value:function(t,e){this.widgetStyle=t;this.isEmbeddedWidget=e;return this}},{key:"buildDomInsertStrategy",value:function(){var t=this;return function(e,n){var r=t.getOrCreateButtonsContainer(n);r.insertBefore(e,r.firstChild);r.style.cssText=t.buildContainerContentDependentStyles(r.style.cssText,r.clientHeight,n);t.isStandardWidgetVisible(n)?t.isTopPositionStandardWidget(n)?n.appendChild(r):n.insertBefore(r,n.firstChild):document.body.appendChild(r)}}},{key:"isStandardWidgetVisible",value:function(t){return!!t&&we(t,"wovn-is-visible")&&!this.isEmbeddedWidget}},{key:"isTopPositionStandardWidget",value:function(t){return!!t&&we(t,"wovn--position-top")}},{key:"isLeftPositionStandardWidget",value:function(t){return!!t&&we(t,"wovn--position-left")}},{key:"getOrCreateButtonsContainer",value:function(t){var e=De();if(!e){(e=document.createElement("div")).id=Ie;e.className="wovn-additional-buttons";e.setAttribute("wovn","");e.style.cssText=this.buildContainerContentIndependentStyles(t);if(this.isStandardWidgetVisible(t)&&this.isLeftPositionStandardWidget(t)){e.innerHTML=de;e.children[0].style.cssText="position: absolute; right: -32px; top: 0; width: 32px; height: 32px;"}else{e.innerHTML=pe;e.children[0].style.cssText="position: absolute; left: -32px; top: 0; width: 32px; height: 32px;"}}return e}},{key:"buildContainerContentIndependentStyles",value:function(t){var e="box-sizing: border-box; display: block; background-color: #3D454B; width: 144px;";if(this.isStandardWidgetVisible(t)){e+="position: relative;";switch(this.widgetStyle.type){case"default":case"slate":e+=this.isLeftPositionStandardWidget(t)?"margin: 24px auto 24px 24px;":"margin: 24px 24px 24px auto;";break;case"floating":e+=this.isLeftPositionStandardWidget(t)?"margin: 24px ".concat(32,"px 24px 0;"):"margin: 24px 0 24px ".concat(32,"px;")}}else e+="position: fixed; right: 24px; bottom: 32px; z-index: 2147483646;";return e}},{key:"buildContainerContentDependentStyles",value:function(t,e,n){var r;r=e>32?this.isStandardWidgetVisible(n)?"border-radius: ".concat(this.isLeftPositionStandardWidget(n)?"3px 0px 3px 3px":"0px 3px 3px 3px",";"):"border-radius: 0px 3px 3px 3px;":this.isStandardWidgetVisible(n)?"border-radius: ".concat(this.isLeftPositionStandardWidget(n)?"3px 0px 0px 3px":"0px 3px 3px 0px",";"):"border-radius: 0px 3px 3px 0px;";return t=t.indexOf("border-radius")>-1?t.replace(/border-radius: \dpx \dpx \dpx \dpx;/,r):t+=r}}])&&je(t.prototype,e),n&&je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Re(t){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(t)}function Ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ve(r.key),r)}}function Ve(t){var e=function(t,e){if("object"!=Re(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Re(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Re(e)?e:e+""}function He(t,e,n){return e=Be(e),function(t,e){if(e&&("object"==Re(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Me()?Reflect.construct(e,n||[],Be(t).constructor):e.apply(t,n))}function Me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Me=function(){return!!t})()}function Be(t){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Be(t)}function Fe(t,e){return Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fe(t,e)}var We=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=He(this,e)).languageService=t;o.liveEditorSettings=n;o.widgetSessionManager=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fe(t,e)}(e,t);return n=e,r=[{key:"build",value:function(t){var e=[this.languageService,t,this.buildDomInsertStrategy(),this.liveEditorSettings,this.widgetSessionManager],n=[];n.push(function(t,e,n){if(Me())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&Fe(o,n.prototype),o}(fe,e));return n}}],r&&Ue(n.prototype,r),o&&Ue(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ne);function qe(t){return qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qe(t)}function ze(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ge(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ge(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qe(r.key),r)}}function $e(t,e,n){return e=Xe(e),function(t,e){if(e&&("object"==qe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ke()?Reflect.construct(e,n||[],Xe(t).constructor):e.apply(t,n))}function Ke(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ke=function(){return!!t})()}function Xe(t){return Xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xe(t)}function Ze(t,e){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ze(t,e)}function Ye(t,e,n){return(e=Qe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qe(t){var e=function(t,e){if("object"!=qe(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qe(e)?e:e+""}var tn="wovn-translation-feedback-button",en="".concat(tn,"--active"),nn=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);Ye(o=$e(this,e,[t]),"hasStartedComponent",!1);Ye(o,"bootstrapperComponent",null);o.feedbackMode=n;o.externalComponentLoader=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ze(t,e)}(e,t);return n=e,(r=[{key:"buildHtmlElement",value:function(){var t=this,e=document.createElement("span");e.classList.add("wovn-additional-button",tn);e.setAttribute("wovn","");e.setAttribute("wovn-ignore","");e.onclick=function(){return t.toggleTranslationFeedbackMode()};e.innerText="Feedback Mode";De().addEventListener("click",(function(n){n.target!==e&&t.feedbackMode.isEnabled&&t.toggleTranslationFeedbackMode()}));return e}},{key:"toggleTranslationFeedbackMode",value:function(){var t,e,n,r=this;this.feedbackMode.toggleTranslationFeedbackMode();e=this.element,n=en,this.feedbackMode.isEnabled?me(e,n):be(e,n);if(!this.hasStartedComponent){this.hasStartedComponent=!0;this.externalComponentLoader.loadExternalComponents(["TranslationFeedbackBootstrapper"]).then((function(t){var e=ze(t,1)[0];r.bootstrapperComponent=e;r.bootstrapperComponent.start();r.bootstrapperComponent.update()}))}null===(t=this.bootstrapperComponent)||void 0===t||t.update()}}])&&Je(n.prototype,r),o&&Je(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(re);function rn(t){return rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(t)}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,an(r.key),r)}}function an(t){var e=function(t,e){if("object"!=rn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rn(e)?e:e+""}function un(t,e,n){return e=ln(e),function(t,e){if(e&&("object"==rn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,sn()?Reflect.construct(e,n||[],ln(t).constructor):e.apply(t,n))}function sn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(sn=function(){return!!t})()}function ln(t){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ln(t)}function cn(t,e){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},cn(t,e)}var fn=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return un(this,e,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cn(t,e)}(e,t);return n=e,(r=[{key:"buildHtmlElement",value:function(){var t=document.createElement("div");t.id="wovn-translation-feedback-border";return t}}])&&on(n.prototype,r),o&&on(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(re);function pn(t){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(t)}function dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hn(r.key),r)}}function hn(t){var e=function(t,e){if("object"!=pn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pn(e)?e:e+""}function yn(t,e,n){return e=vn(e),function(t,e){if(e&&("object"==pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gn()?Reflect.construct(e,n||[],vn(t).constructor):e.apply(t,n))}function gn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gn=function(){return!!t})()}function vn(t){return vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vn(t)}function mn(t,e){return mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mn(t,e)}var bn=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=yn(this,e)).translationFeedbackState=t;r.externalComponentLoader=n;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mn(t,e)}(e,t);return n=e,(r=[{key:"build",value:function(){return[new nn(this.buildDomInsertStrategy(),this.translationFeedbackState,this.externalComponentLoader),new fn(this.buildDomInsertStrategy())]}}])&&dn(n.prototype,r),o&&dn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ne),wn=n(8221),Sn=n.n(wn);function kn(t){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kn(t)}function Tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,On(r.key),r)}}function Cn(t,e,n){return(e=On(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function On(t){var e=function(t,e){if("object"!=kn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kn(e)?e:e+""}var En=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Cn(this,"workableId",0);Cn(this,"isExecuting",!1);Cn(this,"previousExecutedTime",null);this.coolDownTime=e},e=[{key:"isCoolingDown",value:function(t){return this.previousExecutedTime&&this.previousExecutedTime+this.coolDownTime>t}},{key:"executeSetTimeout",value:function(t,e,n,r,o){var i,a,u=this;return i=r,a=o,setTimeout((function(){!function(n,r){if(n===u.workableId){u.isExecuting=!0;u.previousExecutedTime=null;t.apply(u,r);u.previousExecutedTime=(new Date).getTime();u.isExecuting=!1;e()}}(i,a)}),n)}},{key:"setTimeout",value:function(t){function e(e,n,r){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}((function(t,e,n){var r=(new Date).getTime();if(!this.isExecuting){if(this.isCoolingDown(r)){var o=this.previousExecutedTime+this.coolDownTime;n=Math.max(o+100,n+r)-r}this.workableId=(this.workableId+1)%1e4;for(var i=arguments.length,a=new Array(i>3?i-3:0),u=3;u<i;u++)a[u-3]=arguments[u];return this.executeSetTimeout(t,e,n,this.workableId,a)}}))},{key:"reset",value:function(){this.previousExecutedTime=null}}],e&&Tn(t.prototype,e),n&&Tn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Pn=En;function _n(t){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_n(t)}function An(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jn(r.key),r)}}function xn(t,e,n){return(e=jn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jn(t){var e=function(t,e){if("object"!=_n(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_n(e)?e:e+""}var Ln=function(){function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.documentRoot=e;this.liveEditorInstaller=n;this.debugSettings=r;this.auditTriggerEvents=o;this.auditWorker=new Pn(t.minimumCooldownTimeMs);this.eventListeners=new xt;this.hasInitializedEvents=!1;this.inspectingMode=!1;this.auditor=function(){}}return e=t,(n=[{key:"setAuditor",value:function(t){this.auditor=t}},{key:"start",value:function(){if(!this.debugSettings.disableAudit){if(!this.hasInitializedEvents){this.resetEventListeners();this.hasInitializedEvents=!0}this.isRunning=!0;this.refresh()}}},{key:"stop",value:function(){this.isRunning=!1;clearTimeout(this.timeout)}},{key:"getInspectingMode",value:function(){return this.inspectingMode}},{key:"setInspectingMode",value:function(t){this.inspectingMode=t}},{key:"restart",value:function(){this.stop();this.resetEventListeners();this.start()}},{key:"destroy",value:function(){this.eventListeners.destroyAll();this.stop()}},{key:"refresh",value:function(){this.auditWorker.reset();this.renewTimeout()}},{key:"renewTimeout",value:function(){var e=this,n=0,r=function(t){e.auditTriggerEvents.triggerAuditStarted(t);e.auditor((function(){e.auditTriggerEvents.triggerAuditCompleted(t)}),t)},o=function(){if(!(n>=t.totalAuditCount)&&e.isRunning){n++;var i=t.maxTimeoutIntervalMs*Math.pow(n,2)/Math.pow(t.totalAuditCount,2);e.timeout=e.auditWorker.setTimeout((function(){r(n)}),o,i)}};this.isRunning&&(this.timeout=this.auditWorker.setTimeout((function(){r(n)}),o,0))}},{key:"resetEventListeners",value:function(){var t=this;this.eventListeners.destroyAll();var e="ontouchstart"in this.documentRoot,n=this.getClickNodes();this.addClickListenersToNodes(n,"click");e&&this.addClickListenersToNodes(n,"touchend");this.eventListeners.add(window,"resize",Sn()((function(){return t.triggerAudit()}),250))}},{key:"getClickNodes",value:function(){return[this.documentRoot].concat(st.toArrayFromDomList(this.documentRoot.getElementsByTagName("a"))).concat(st.toArrayFromDomList(this.documentRoot.getElementsByTagName("button"))).concat(st.toArrayFromDomList(this.documentRoot.getElementsByTagName("input")))}},{key:"addClickListenersToNodes",value:function(t,e){for(var n=this,r=0;r<t.length;r++)this.eventListeners.add(t[r],e,(function(){return n.triggerAudit()}),{capture:!0})}},{key:"triggerAudit",value:function(){this.isRunning?this.renewTimeout():this.liveEditorInstaller.isInstalled()&&!this.inspectingMode&&Et(Ot("audit-trigger-node-click",!1,!0))}}])&&An(e.prototype,n),r&&An(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();xn(Ln,"minimumCooldownTimeMs",1e3);xn(Ln,"totalAuditCount",5);xn(Ln,"maxTimeoutIntervalMs",25e3);function In(t){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},In(t)}function Dn(t,e,n){return(e=Rn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rn(r.key),r)}}function Rn(t){var e=function(t,e){if("object"!=In(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=In(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==In(e)?e:e+""}var Un="wovn-domain-css",Vn="wovn-page-css",Hn="wovn-domain-js",Mn="wovn-page-js",Bn="wovn-page-id",Fn="wovn-page-css-hash",Wn="wovn-domain-css-hash",qn=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e},(e=[{key:"load",value:function(){var t=document.head||document.body;this.loadCss(t);this.loadJs(t)}},{key:"loadCss",value:function(t){var e=document.getElementById(Vn),n=document.getElementById(Un);if(this.data.pageData.hasPublishedLang()){if(this.shouldInsertDomainCss(n,this.data.domainOptions.getDomainCssHash())){this.removeExistingTag(t,n);var r=Dn({},Wn,this.data.domainOptions.getDomainCssHash());this.insertCssTag(t,"style",Un,this.data.domainOptions.getDomainCss(),r)}if(this.shouldInsertPageCss(e,this.data.pageData.getPageCssHash())){this.removeExistingTag(t,e);var o=Dn(Dn({},Bn,this.data.pageData.getPageId()),Fn,this.data.pageData.getPageCssHash());this.insertCssTag(t,"style",Vn,this.data.pageData.getPageCss(),o)}}else{this.removeExistingTag(t,e);this.removeExistingTag(t,n)}}},{key:"loadJs",value:function(t){var e=document.getElementById(Mn),n=document.getElementById(Hn);this.removeExistingTag(t,n);this.removeExistingTag(t,e);if(this.data.domainOptions.hasFeature("js_customization")){this.insertTag(t,"script",Hn,this.data.domainOptions.getDomainJs());this.insertTag(t,"script",Mn,this.data.pageData.getPageJs())}}},{key:"insertTag",value:function(t,e,n,r){if(r){var o=document.createElement(e);o.setAttribute("id",n);o.appendChild(document.createTextNode(r));t.appendChild(o);return o}}},{key:"insertCssTag",value:function(t,e,n,r,o){if(r){var i=this.insertTag(t,e,n,r);if(i)for(var a in o)o[a]&&i.setAttribute(a,o[a])}}},{key:"removeExistingTag",value:function(t,e){e&&t.removeChild(e)}},{key:"shouldInsertPageCss",value:function(t,e){return!t||t.getAttribute(Bn)!==this.data.pageData.getPageId()||e&&t.getAttribute(Fn)!==e}},{key:"shouldInsertDomainCss",value:function(t,e){return!t||e&&t.getAttribute(Wn)!==e}}])&&Nn(t.prototype,e),n&&Nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),zn=n(1160),Gn=n.n(zn),Jn=function(t){t["FIRST_CHILD"]="first_child";t["LAST_CHILD"]="last_child";t["PREVIOUS_SIBLING"]="previous_sibling";t["NEXT_SIBLING"]="next_sibling";return t}({});function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}function Kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kn(Object(n),!0).forEach((function(e){Zn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zn(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=$n(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$n(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yn=function(t){t[t["None"]=0]="None";t[t["TagContent"]=1]="TagContent";t[t["Attributes"]=2]="Attributes";t[t["All"]=3]="All";return t}({});function Qn(t){return Xn(Xn({},t),{},{target:Yn[t.target]})}function tr(t){return t==Yn.All||t==Yn.TagContent}function er(t){return t==Yn.All||t==Yn.Attributes}function nr(t){return nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nr(t)}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ir(r.key),r)}}function or(t,e,n){return(e=ir(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ir(t){var e=function(t,e){if("object"!=nr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nr(e)?e:e+""}var ar=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);or(this,"overrides",null);or(this,"domainOptions",null);or(this,"_parsedExcludedUrls",null);this.browserLocation=e},e=[{key:"setOverrides",value:function(t){this.overrides=t}},{key:"getAutoTranslateLangs",value:function(){return this.getOptions()["auto_translate_langs"]||[]}},{key:"getAutoPublishLangs",value:function(){return this.getOptions()["auto_publish_langs"]||[]}},{key:"getLinkTranslations",value:function(){return this.getOptions()["link_translations"]||{}}},{key:"getDomainCss",value:function(){return this.getOptions()["domain_css"]}},{key:"getDomainCssHash",value:function(){return this.getOptions()["domain_css_hash"]}},{key:"hasFeature",value:function(t){return-1!==(this.getOptions().features||[]).indexOf(t)}},{key:"getDomainId",value:function(){return this.getOptions()["id"]}},{key:"getDomainJs",value:function(){return this.getOptions()["domain_js"]}},{key:"getSecondaryLang",value:function(){return this.getOptions()["secondary_language"]}},{key:"getDesktopPosition",value:function(){return this.getOptions()["position"]}},{key:"getMobilePosition",value:function(){return this.getOptions()["mobile_position"]}},{key:"notFoundUnpublish",value:function(){return!!this.getOptions().not_found_unpublish}},{key:"getWidgetStyle",value:function(){return t=this.getOptions()["style"],e=(t=t||"").split(" "),n=e[1]||"default",{type:e[0]||"default",color:n};var t,e,n}},{key:"getWidgetCustomColors",value:function(){return this.getOptions()["custom_colors"]}},{key:"isEmbeddedWidget",get:function(){return!!this.getOptions()["embedded_widget"]}},{key:"getEmbeddedWidgetCustomCss",value:function(){return this.getOptions()["embedded_widget_custom_css"]||""}},{key:"getEmbeddedWidgetSelector",value:function(){return this.getOptions()["embedded_widget_selector"]||".wovn-embedded-widget-anchor"}},{key:"getEmbeddedWidgetInsertionBehavior",value:function(){return this.getOptions()["embedded_widget_insertion_behavior"]||Jn.FIRST_CHILD}},{key:"getDomainLangs",value:function(){return this.getOptions()["domain_langs"]||[]}},{key:"isForceReloadEnabled",value:function(){return this.getOptions()["force_reload"]||this.hasFeature("final_fv_project")}},{key:"isReportLinksEnabled",value:function(){return this.getOptions()["report_links"]}},{key:"getParcelForwardingProvider",value:function(){return this.getOptions()["parcel_forwarding"]}},{key:"getOptions",value:function(){return this.domainOptions||{}}},{key:"setOptions",value:function(t){!function(t){t.mobile_position||(t.mobile_position="bottom_right")}(t);!function(t,e){if(e)for(var n=[!1,null,void 0],r=0,o=Object.keys(e);r<o.length;r++){var i=o[r],a=e[i];-1!==n.indexOf(a)&&(t[i]=a)}}(t,this.overrides||window._wovnDomainOptionsOverrides);this._parsedExcludedUrls=null;this.domainOptions=t}},{key:"hasDomainOptions",value:function(){return null!==this.domainOptions}},{key:"getCountryCode",value:function(){return this.getOptions()["countryCode"]}},{key:"setCountryCode",value:function(t){this.getOptions()["countryCode"]=t}},{key:"getDomainReportingEnabled",value:function(){return!!this.getOptions()["dynamic_values"]}},{key:"getDomainExcludedContent",value:function(){return(this.getOptions()["excluded_content"]||[]).map((function(t){return Qn(t)}))}},{key:"getExcludedPaths",value:function(){return this.getOptions()["excluded_paths"]||[]}},{key:"getExcludedUrls",value:function(){null===this._parsedExcludedUrls&&(this._parsedExcludedUrls=(this.getOptions()["excluded_urls"]||[]).map((function(t){return new(Gn())(t)})));return this._parsedExcludedUrls}},{key:"getDomainIncludedContent",value:function(){return this.getOptions()["included_content"]||[]}},{key:"getWidgetDisplayType",value:function(){return this.getOptions()["type"]}},{key:"getLangPath",value:function(){return this.getOptions()["lang_path"]}},{key:"useGenericLangWord",value:function(){return this.getOptions()["use_generic_lang_word"]}},{key:"genericLangWord",value:function(){return this.getOptions()["generic_lang_word"]}},{key:"hideLogo",value:function(){return this.getOptions()["hide_logo"]}},{key:"showTranslatedByMachine",value:function(){return this.getOptions()["show_tbm"]}},{key:"autoHideWidget",value:function(){return this.getOptions()["auto_hide_widget"]}},{key:"canShowCustomWidgets",value:function(){return"widget"!==this.getWidgetDisplayType()}},{key:"useMachineTranslatedModal",value:function(){return!!this.getOptions()["show_machine_translated_modal"]}},{key:"getMachineTranslatedModalContent",value:function(){return this.getOptions()["machine_translated_modal_content"]||{}}},{key:"reportLotRatio",value:function(){var t=this.getOptions()["report_lot_ratio"];t||0===t||(t=1);return t}},{key:"dynamicLoading",value:function(t){return ur(!!this.getOptions()["dynamic_loading"],t.get(),this)}},{key:"useUnifiedValue",value:function(){return this.hasFeature("unified_values")}},{key:"hasSupervisedDomainFeature",value:function(){return!!this.getOptions()["supervised_domain"]}},{key:"canTranslateCssBackgroundImages",value:function(){var t=this.getOptions()["translate_css_background_images"];return void 0===t||t}},{key:"getCssBackgroundImagesScope",value:function(){return this.getOptions()["translate_css_background_images_scope"]||[]}},{key:"getHostAliases",value:function(){return this.getOptions()["host_aliases"]||[]}},{key:"getCustomAttributes",value:function(){return this.getOptions()["custom_attributes"]||{}}},{key:"getCustomBlockTags",value:function(){return this.getOptions()["custom_block_tags"]||[]}},{key:"getCustomBlockClasses",value:function(){return this.getOptions()["custom_block_classes"]||[]}},{key:"canInstallWap",value:function(t){return ur(!this.getOptions()["disable_wap"],t.get(),this)}},{key:"canUseXhrWidgetSession",value:function(){return this.hasFeature("widget_session_xhr_auth")&&"https:"===this.browserLocation.protocol}},{key:"getPageMetaDefinitions",value:function(){return this.getOptions()["page_metadata_definitions"]||[]}}],e&&rr(t.prototype,e),n&&rr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ur(t,e,n){return n.hasFeature("widget_data_collection_cookie_optin")?!!e:0!=e&&t}function sr(t){return sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sr(t)}function lr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lr(Object(n),!0).forEach((function(e){fr(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function fr(t,e,n){return(e=dr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dr(r.key),r)}}function dr(t){var e=function(t,e){if("object"!=sr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sr(e)?e:e+""}var hr=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.pageData=e;this.domainOptions=n},(e=[{key:"getLinkTranslations",value:function(){return cr(cr({},this.domainOptions.getLinkTranslations()),this.pageData.getLinkTranslations())}},{key:"getConvertedLangs",value:function(){var t=this.pageData.getConvertedLangs(),e=this.domainOptions.getDomainLangs();return 0===e.length?t:t.filter((function(t){return-1!==e.indexOf(t.code)}))}},{key:"getTranslatableLangs",value:function(){return this.getTranslatableLangsAsLangInfo().map((function(t){return t.code}))}},{key:"getTranslatableLangsAsLangInfo",value:function(){return this.getConvertedLangs().concat(this.pageData.getSourceLangs())}},{key:"getExcludedContent",value:function(){return gt.distinctBy(this.pageData.getPageExcludedContent().concat(this.domainOptions.getDomainExcludedContent()),(function(t){return t.selector}))}},{key:"getIgnoredPatterns",value:function(){return{selectors:this.getExcludedContent(),ignoreInlineDisplayNoneElements:this.domainOptions.hasFeature("ignore_inline_display_none_elements")}}},{key:"getIncludedContent",value:function(){return gt.distinctBy(this.pageData.getPageIncludedContent().concat(this.domainOptions.getDomainIncludedContent()),(function(t){return t.selector}))}},{key:"isReportingEnabled",value:function(t){return ur(this.isReportingEnabledFromServerData(),t.get(),this.domainOptions)}},{key:"isReportingEnabledFromServerData",value:function(){var t=this.pageData.getPageReportingEnabled();return null!==t?t:this.domainOptions.getDomainReportingEnabled()}}])&&pr(t.prototype,e),n&&pr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function yr(t){return yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yr(t)}function gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mr(r.key),r)}}function vr(t,e,n){return(e=mr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mr(t){var e=function(t,e){if("object"!=yr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yr(e)?e:e+""}var br={VALIDATE:{name:"__wovn__.Validate",expirationDays:1},OPTED_IN_COOKIES:{name:"wovn-optedInCookies",expirationDays:7300},OPTED_OUT_COOKIES:{name:"wovn-optedOutCookies",expirationDays:7300},WAP_ENABLED:{name:"wovn-wapEnabled",expirationDays:7300},REPORTING_ENABLED:{name:"wovn-reportingEnabled",expirationDays:7300},DYNAMIC_LOADING_ENABLED:{name:"wovn-dynamicLoadingEnabled",expirationDays:7300},PARCEL_FORWARDING_LANG:{name:"wovn_parcel_forwarding_lang",expirationDays:365},SELECTED_LANG:{name:"wovn_selected_lang",expirationDays:365},WOVN_MTM_SHOWED_LANGS:{name:"wovn_mtm_showed_langs",expirationDays:365},WOVN_MONITOR_ENABLE:{name:"wovn_monitor_enable",expirationDays:365},WOVN_UUID:{name:"wovn_uuid",expirationDays:365},PREVIEW_SIGNATURE:{name:"wovn_preview_signature",expirationDays:365},AUTO_TRIGGER_REPORT:{name:"wovn_auto_trigger_report",expirationDays:30},LEGACY_SELECTED_LANG:{name:"wovn_selected_lang_2017v1",expirationDays:1},LEGACY_OPTED_OUT_WAP:{name:"wovn-optedOutWap",expirationDays:1},LEGACY_OPTED_OUT_REPORTING:{name:"wovn-optedOutReporting",expirationDays:1},LEGACY_OPTED_OUT_DYNAMIC_LOADING:{name:"wovn-optedOutDynamicLoading",expirationDays:1},WAP_USER:{name:"wap_user",expirationDays:365},WAP_CLICK_PLACES:{name:"wap-click-places",expirationDays:7300},WAP_LAST_EVENT:{name:"wap_last_event",expirationDays:7300},WAP_WAPID:{name:"WAPID",expirationDays:7300}},wr=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);vr(this,"deferredCookies",{});vr(this,"isOptedOut",!1);vr(this,"isOptedIn",!1);vr(this,"_canAccessCookies",!1);this.cookieContainer=e;this.domainOptions=n},(e=[{key:"initializeCookiePolicy",value:function(){this.isOptedOut=!!this.cookieContainer.getValue(br.OPTED_OUT_COOKIES.name);this.isOptedIn=!!this.cookieContainer.getValue(br.OPTED_IN_COOKIES.name);if(this.isOptedOut)this.optOut();else if(this.domainOptions.hasFeature("widget_cookie_optin")&&this.isOptedIn)this.optIn();else{this._canAccessCookies=null;this.syncDeferredCookiesWithBrowser()}return{canAccessCookies:this.canAccessCookies}}},{key:"canAccessCookies",get:function(){if(null!==this._canAccessCookies)return this._canAccessCookies;this._canAccessCookies=!this.isOptedOut&&(!this.domainOptions.hasFeature("widget_cookie_optin")||this.isOptedIn);return this._canAccessCookies}},{key:"get",value:function(t){return this.canReadCookie(t)?this.cookieContainer.getValue(t.name):null}},{key:"set",value:function(t,e){this.canAccessCookies?this.cookieContainer.setValue(t.name,e,t.expirationDays):this.deferredCookies[t.name]={cookie:t,value:e}}},{key:"erase",value:function(t){this.canAccessCookies?this.cookieContainer.eraseValue(t.name):this.deferredCookies[t.name]={cookie:t,isDeleted:!0}}},{key:"optOut",value:function(){this.isOptedOut=!0;this._canAccessCookies=null;this.setOptOutCookie();this.cookieContainer.eraseValue(br.OPTED_IN_COOKIES.name);this.removeAll()}},{key:"optIn",value:function(){if(!this.isOptedOut){this.isOptedIn=!0;this._canAccessCookies=null;this.setOptInCookie();this.syncDeferredCookiesWithBrowser()}}},{key:"canReadCookie",value:function(t){return this.canAccessCookies||t.name==br.PREVIEW_SIGNATURE.name}},{key:"syncDeferredCookiesWithBrowser",value:function(){for(var t=0,e=Object.keys(this.deferredCookies);t<e.length;t++){var n=e[t],r=this.deferredCookies[n];r.isDeleted?this.erase(r.cookie):this.set(r.cookie,r.value)}this.deferredCookies={}}},{key:"destroy",value:function(){this.removeAll()}},{key:"removeAll",value:function(){for(var t=0,e=Object.keys(br);t<e.length;t++){var n=e[t],r=br[n];this.isPrivacyCookie(r.name)||this.cookieContainer.eraseValue(r.name)}}},{key:"isPrivacyCookie",value:function(t){return t===br.OPTED_OUT_COOKIES.name||t===br.OPTED_IN_COOKIES.name}},{key:"forceConvertAllToInsecure",value:function(){for(var t=0,e=Object.keys(br);t<e.length;t++){var n=e[t],r=br[n],o=this.get(r);if(o){this.erase(r);this.set(r,o)}}}},{key:"setOptOutCookie",value:function(){this.cookieContainer.setValue(br.OPTED_OUT_COOKIES.name,"true",7300)}},{key:"setOptInCookie",value:function(){this.cookieContainer.setValue(br.OPTED_IN_COOKIES.name,"true",7300)}}])&&gr(t.prototype,e),n&&gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Sr(t){return Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sr(t)}function kr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tr(r.key),r)}}function Tr(t){var e=function(t,e){if("object"!=Sr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sr(e)?e:e+""}var Cr=br.SELECTED_LANG,Or=br.LEGACY_SELECTED_LANG,Er=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e},(e=[{key:"set",value:function(t){this.cookieStore.set(Cr,t)}},{key:"get",value:function(){this.migrateOldCookie();return this.cookieStore.get(Cr)}},{key:"erase",value:function(){this.cookieStore.erase(Cr)}},{key:"destroy",value:function(){this.erase()}},{key:"migrateOldCookie",value:function(){var t=this.cookieStore.get(Or);if(t){this.cookieStore.erase(Or);this.setLangToCookie(t)}}},{key:"setLangToCookie",value:function(t){this.cookieStore.set(Cr,t)}}])&&kr(t.prototype,e),n&&kr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Pr(t){return Pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(t)}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ar(r.key),r)}}function Ar(t){var e=function(t,e){if("object"!=Pr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pr(e)?e:e+""}var xr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.inSiteSearchController=e},e=[{key:"search",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.inSiteSearchController.search(t,e,n).then((function(t){return t.body.results}))}}],e&&_r(t.prototype,e),n&&_r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function jr(t){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(t)}function Lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ir(r.key),r)}}function Ir(t){var e=function(t,e){if("object"!=jr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jr(e)?e:e+""}function Dr(){return-1!==document.title.search(Nr)||(t=document.body.innerText)&&-1!==t.search(Nr);var t}var Nr=new RegExp("("+["404","410","  ","","","ikke fundet","niet gevonden","not found","ei lydetty","pas trouv","non trouv","introuvable","nicht gefunden"," "," "," ","tidak ditemukan","non trovato","","  ","tidak ditemui","ikke funnet","nie znaleziono","no encontrado"," ","extraviado","no encontrada","hittades inte","","bulunamad"," ","khng tm thy"].join("|")+")","i");var Rr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.pageNotFoundController=e},(e=[{key:"notifyWovnIfNotFound",value:function(){var t,e=this;Dr()&&(t=function(){e.pageNotFoundController.notifyCurrentPageNotFound()},st.sendRequest("HEAD",window.location.href,null,(function(){}),(function(e){404!==e.status&&410!==e.status||t()})))}}])&&Lr(t.prototype,e),n&&Lr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Ur(t){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(t)}function Vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mr(r.key),r)}}function Hr(t,e,n){return(e=Mr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mr(t){var e=function(t,e){if("object"!=Ur(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ur(e)?e:e+""}var Br=function(t){t["DataLoadStart"]="data_load_start";t["DataLoadEnd"]="data_load_end";t["PageDataLoadStart"]="page_data_load_start";t["PageDataLoadEnd"]="page_data_load_end";t["DomainOptionsLoadStart"]="domain_options_load_start";t["DomainOptionsLoadEnd"]="domain_options_load_end";t["FirstSwapStart"]="first_swap_start";t["FirstSwapEnd"]="first_swap_end";t["SwapStart"]="swap_start";t["SwapEnd"]="swap_end";t["ChangeLangStart"]="change_lang_start";t["ChangeLangEnd"]="change_lang_end";return t}({}),Fr=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Hr(this,"performanceResults",[]);Hr(this,"startTimeMs",null);this.cookieStore=e;this.debugSettings=n},e=[{key:"isEnabled",get:function(){return this._isEnabled||(this._isEnabled="true"===this.cookieStore.get(br.WOVN_MONITOR_ENABLE)||this.debugSettings.measurePerformance)}},{key:"mark",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isEnabled){var n=window.performance.now();this.startTimeMs||(this.startTimeMs=n);var r={event:t,elapsedTimeMs:n-this.startTimeMs,context:e};this.performanceResults.push(r)}}},{key:"getResult",value:function(){var t=this;return this.isEnabled?this.performanceResults.map((function(e,n){var r=Object.assign({},e);if(e&&e.event&&e.event.endsWith("_end")){var o=e.event.replace("_end","_start"),i=t.performanceResults.slice(0,n).reverse().find((function(t){return t.event===o}));i&&(r["execTimeMs"]=e.elapsedTimeMs-i.elapsedTimeMs)}return r})):[]}}],e&&Vr(t.prototype,e),n&&Vr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Wr=n(4987),qr=n.n(Wr);function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function Gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jr(r.key),r)}}function Jr(t){var e=function(t,e){if("object"!=zr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zr(e)?e:e+""}var $r={HALT_REPORTING:"wovn.haltReporting",FORCE_REPORTING:"wovn.forceReporting",FORCE_START:"wovn.forceStart",DISABLE_AUDIT:"wovn.disableAudit",DISABLE_WIDGET:"wovn.disableWidget",DISABLE_NAVIGATION:"wovn.disableNavigation",LOAD_DATA_SEQUENTIALLY:"wovn.loadDataSequentially",MEASURE_PERFORMANCE:"wovn.measurePerformance"},Kr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.browserLocation=e;this.haltReporting=this.hasHashOrQuery($r.HALT_REPORTING);this.forceReporting=this.hasHashOrQuery($r.FORCE_REPORTING);this.forceStart=this.hasHashOrQuery($r.FORCE_START);this.disableAudit=this.hasHashOrQuery($r.DISABLE_AUDIT);this.disableWidget=this.hasHashOrQuery($r.DISABLE_WIDGET);this.disableNavigation=this.hasHashOrQuery($r.DISABLE_NAVIGATION);this.loadDataSequentially=this.hasHashOrQuery($r.LOAD_DATA_SEQUENTIALLY);this.measurePerformance=this.hasHashOrQuery($r.MEASURE_PERFORMANCE);this.useCreeper=/wovn\-activated=(true|creeper|toolbox|activator)/.test(this.browserLocation.search)},(e=[{key:"hasHashOrQuery",value:function(t){var e=new RegExp(t);return e.test(this.browserLocation.hash)||e.test(this.browserLocation.search)}}])&&Gr(t.prototype,e),n&&Gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Xr(t){return Xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(t)}function Zr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yr(r.key),r)}}function Yr(t){var e=function(t,e){if("object"!=Xr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xr(e)?e:e+""}var Qr=/wovn\.editing=([A-Za-z0-9-_?=]+)&?/i,to=/wovn\.editorVersion=([1-2]+)&?/i,eo=/wovn\.nodeValueId=([^&]*)&?/i,no=/wovn\.targetLang=([^&]*)&?/i,ro=/wovn\.widgetLang=([^&]*)&?/i,oo={EDITING:"wovn.editing",EDITOR_VERSION:"wovn.editorVersion",NODE_VALUE_ID:"wovn.nodeValueId",TARGET_LANG:"wovn.targetLang",WIDGET_LANG:"wovn.widgetLang"},io=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.initialBrowserUrl=e;this.domainOptions=n},e=[{key:"isEnabled",get:function(){return!!this.session}},{key:"isEnabledV1",get:function(){return this.isEnabled&&"1"===this.editorVersionInURL}},{key:"isEnabledV2",get:function(){return this.isEnabled&&"2"===this.editorVersionInURL}},{key:"session",get:function(){return this.readParamValueFromBrowserUrl(Qr)}},{key:"editorVersionInURL",get:function(){return this.readParamValueFromBrowserUrl(to)}},{key:"nodeValueId",get:function(){return this.readParamValueFromBrowserUrl(eo)}},{key:"targetLangCode",get:function(){return this.readParamValueFromBrowserUrl(no)}},{key:"widgetLangCode",get:function(){return this.readParamValueFromBrowserUrl(ro)}},{key:"readParamValueFromBrowserUrl",value:function(t){var e=this.initialBrowserUrl.match(t)||location.href.match(t);return e&&e[1]?e[1]:""}},{key:"removeSettingsFromUrl",value:function(t){return t.replace(Qr,"").replace(to,"").replace(eo,"").replace(no,"").replace(ro,"").replace(/(\?|&)$/,"")}},{key:"updateBrowserUrlState",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1",o="".concat(oo.TARGET_LANG,"=").concat(e,"&").concat(oo.EDITING,"=").concat(t,"&").concat(oo.WIDGET_LANG,"=").concat(n,"&").concat(oo.EDITOR_VERSION,"=").concat(r),i=this.removeSettingsFromUrl(location.search),a=i?i+"&"+o:"?"+o,u=location.pathname+a+location.hash;history.pushState({wovn:"live_edit"},"",u)}},{key:"removeSettingsFromBrowserUrlState",value:function(){var t=this.removeSettingsFromUrl(window.location.href);history.pushState(null,"",t)}}],e&&Zr(t.prototype,e),n&&Zr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ao(t){return ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(t)}function uo(t){return function(t){if(Array.isArray(t))return lo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||so(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function so(t,e){if(t){if("string"==typeof t)return lo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lo(t,e):void 0}}function lo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fo(r.key),r)}}function fo(t){var e=function(t,e){if("object"!=ao(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ao(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ao(e)?e:e+""}var po=function(){return t=function t(e,n,r,o,i,a,u,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.protocol=e;this.host=n;this.pathname=r;this.search=o;this.hash=i;this.originalUrl=a;this.snippetSettings=u;this.customDomainUrlHandler=s;this.fromPath=!1;this.baseIgnorePath=null},e=[{key:"setShowFullUrl",value:function(){this.fromPath=!1;this.baseIgnorePath=null;return this}},{key:"setToShowUrlFromPath",value:function(){this.fromPath=!0;return this}},{key:"setBaseIgnorePath",value:function(t){this.baseIgnorePath=t;return this}},{key:"getOriginalUrl",value:function(){return o(this.protocol.toLowerCase(),"http")?this.createUrl(this.protocol,this.host,this.pathname,this.search,this.hash):this.originalUrl}},{key:"langComponent",get:function(){return Gt.c("Lang")}},{key:"getNormalizedPageUrl",value:function(t,e,n){var r=this.getOriginalUrl();if(t&&o(this.protocol.toLowerCase(),"http")){var i=this.langComponent.getLangIdentifier(n)||this.langComponent.getBackendLangIdentifier();switch(e){case"query":var a=this.snippetSettings.langParamName,u=this.search.replace(new RegExp("(\\?|&)"+a+"="+i+"(&|$)"),"$1").replace(/(\?|&)$/,"");r=this.createUrl(this.protocol,this.host,this.pathname,u,this.hash);break;case"subdomain":r=r.replace(new RegExp("//"+i+"\\.","i"),"//");break;case"custom_domain":r=this.customDomainUrlHandler.removeLanguage(r,i);break;case"path":var s=this.langComponent.defaultLangAlias(),l=s?"/"+s:"",c=this.pathname,f=this.snippetSettings.sitePrefixPaths,p=this.findMatchingSitePrefix(f,this.pathname);null!==p&&(c=p.length>0?c.replace(this.getSitePrefixPathWithLangRegex(p,i),"$1"+l+"$2"):c.replace(new RegExp("^(/)?"+i+"(/|$)","i"),l+"$2"));r=this.createUrl(this.protocol,this.host,c,this.search,this.hash)}}return r}},{key:"getConvertedLangUrl",value:function(t,e,n){var r,o=this.getOriginalUrl(),i=this.langComponent.getLangIdentifier(t),a=this.langComponent.getLangIdentifier(e),u=this.langComponent.getDefaultCodeIfExists();switch(n){case"query":var s=this.snippetSettings.langParamName,l=RegExp("[\\?&]"+s+"=[^&#]*");if(e===u){var c=RegExp("([\\?&])"+s+"=[^#&]*&?");r=o.replace(c,"$1")}else if(o.match(l)){var f=RegExp("([\\?&])"+s+"=[^&#]*");r=o.replace(f,"$1"+s+"="+a)}else r=o.match(/\?/)?o.replace(/\?/,"?"+s+"="+a+"&"):o.replace(/(#|$)/,"?"+s+"="+a+"$1");r=(r=r.replace(/&$/,"")).replace(/\?$/,"");break;case"custom_domain":r=this.customDomainUrlHandler.addLanguage(o,a);break;case"subdomain":r=e===u?o.replace(new RegExp("://"+i.toLowerCase()+"\\.","i"),"://"):t===u?o.replace(new RegExp("://","i"),"://"+a.toLowerCase()+"."):o.replace(new RegExp("://"+i.toLowerCase()+"\\.","i"),"://"+a.toLowerCase()+".");break;case"path":var p=this.removeLangFromPathname(this.pathname,t);p=this.addLangToPathname(p,e,u);r=this.createUrl(this.protocol,this.host,p,this.search,this.hash);break;default:r=o}return r}},{key:"removeLangFromPathname",value:function(t,e){var n=this.langComponent.getLangIdentifier(e),r=this.snippetSettings.sitePrefixPaths,o=this.findMatchingSitePrefix(r,this.pathname);return null!==o?o.length>0?t.replace(this.getSitePrefixPathWithLangRegex(o,n),"$1$2"):t.replace(new RegExp("^/"+n+"(/|$)"),"$1"):t}},{key:"addLangToPathname",value:function(t,e,n){if(e===n&&!this.langComponent.hasAlias(n))return t;var r=this.langComponent.getLangIdentifier(e),o=this.snippetSettings.sitePrefixPaths,i=this.findMatchingSitePrefix(o,this.pathname);return null!==i?i.length>0?t.replace(this.getSitePrefixPathRegex(i),"$1/"+r+"$2"):"/"+r+t:t}},{key:"findMatchingSitePrefix",value:function(t,e){var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=so(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(e.match(this.getSitePrefixPathRegex(o)))return o}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"getSitePrefixPathRegex",value:function(t){return new RegExp("^(/?".concat(t,")(/|$)"),"i")}},{key:"getSitePrefixPathWithLangRegex",value:function(t,e){return new RegExp("^(/?".concat(t,")/").concat(e,"(/|$)"),"i")}},{key:"createUrl",value:function(t,e,n,r,i){var a=this.removeWovnHash(i),u=t+"//"+e+n+r+a;this.baseIgnorePath?u=o(u,this.baseIgnorePath)?u.replace(this.baseIgnorePath,""):n+r+a:this.fromPath&&(u=n+r+a);return u}},{key:"removeWovnHash",value:function(t){if(!t)return"";var e=t;[].concat(uo(st.values($r)),uo(st.values(oo))).forEach((function(t){e=function(t,e){var n=new RegExp("(#.*)".concat(e,"(=[^#=&]*)?(?:$|&)"));return t.replace(n,"$1").replace(/[&#]$/,"")}(e,t)}));return e}}],e&&co(t.prototype,e),n&&co(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ho(t){return ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(t)}function yo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,go(r.key),r)}}function go(t){var e=function(t,e){if("object"!=ho(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ho(e)?e:e+""}var vo=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.urlComponent=e;this.snippetSettings=n;this.widget=r;this.parseUrlCached=qr()((function(t,e){return E(t)}),{serializer:function(t){return"".concat(t[0],",").concat(t[1])}})},(e=[{key:"convertToFullUrl",value:function(t){return this.createFromUrl(t).setShowFullUrl().getOriginalUrl()}},{key:"createFromUrl",value:function(t){var e=this.getLocation(t),n=function(t){var e=t.host;"http:"===t.protocol&&/:80$/.test(e)?e=e.replace(/:80$/,""):"https:"===t.protocol&&/:443$/.test(e)&&(e=e.replace(/:443$/,""));return e}(e),r=A(t),o=this.generatePath(r,e.pathname,t),i=this.create(e.protocol,n,o,e.search,e.hash,t);if(!r)if(x(t))i.setToShowUrlFromPath();else{var a=i.getOriginalUrl();i.setBaseIgnorePath(a.substr(0,a.indexOf(t)))}return i}},{key:"getLocation",value:function(t){var e=this.urlComponent.getLangCode(t);return e?this.parseUrlCached(t,e):E(t)}},{key:"generatePath",value:function(t,e,n){var r="/"!==e.charAt(0)?"/":""+e,o=null===S(n);t&&o&&(r="");return r}},{key:"create",value:function(t,e,n,r,o,i){return new po(t,e,n,r,o,i,this.snippetSettings,this.customDomainUrlHandler)}},{key:"customDomainUrlHandler",get:function(){return this.widget.c("CustomDomainUrlHandler")}}])&&yo(t.prototype,e),n&&yo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),mo=n(9466),bo=n.n(mo);function wo(t){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(t)}function So(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ko(r.key),r)}}function ko(t){var e=function(t,e){if("object"!=wo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wo(e)?e:e+""}var To=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.urlFormatter=e},(e=[{key:"parseSrcSetUrls",value:function(t){return bo()(t).map((function(t){return t.url}))}},{key:"parseAndResolveSrcSetUrls",value:function(t){var e=this;return gt.toObject(this.parseSrcSetUrls(t),(function(t){return e.urlFormatter.convertToFullUrl(t)}),(function(t){return t}))}}])&&So(t.prototype,e),n&&So(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Co(t){for(var e={},n=t.getAllResponseHeaders().split("\r\n"),r=0;r<n.length;r++)if(""!==n[r]){var o=n[r].split(": ");e[o[0]]=o[1]}return e}var Oo=function(t){t["FormUrlEncoded"]="application/x-www-form-urlencoded";t["MultipartFormData"]="multipart/form-data";t["JsonAsText"]="text/plain";t["ApplicationJson"]="application/json";return t}({});function Eo(t,e){switch(e){case Oo.FormUrlEncoded:return function(t){return Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}(t);case Oo.MultipartFormData:return function(t){var e=new FormData;Object.keys(t).map((function(n){e.append(n,t[n])}));return e}(t);case Oo.JsonAsText:case Oo.ApplicationJson:return Object.keys(t).length>0?X(t):"";default:throw new Error("Unsupported content type")}}function Po(t){return Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(t)}function _o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ao(r.key),r)}}function Ao(t){var e=function(t,e){if("object"!=Po(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Po(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Po(e)?e:e+""}var xo=function(t){t["sync"]="WOVN_STALLION_READY";t["authenticationFailed"]="WOVN_STALLION_AUTH_FAILED";t["request"]="WOVN_STALLION_REQUEST";t["response"]="WOVN_STALLION_RESPONSE";t["responseFailed"]="WOVN_STALLION_RESPONSE_FAILED";return t}({});var jo=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.started=!1;this.messageHandler=function(t){return e.onWidgetMessage(t)}},(e=[{key:"start",value:function(){this.started=!0;window.addEventListener("message",this.messageHandler,!1);this.notifyWidgetSessionProxy({messageType:xo.sync})}},{key:"stop",value:function(){this.started=!1;window.removeEventListener("message",this.messageHandler,!1)}},{key:"onWidgetMessage",value:function(t){this.started&&t.data.messageType==xo.request&&this.sendRequest(t.data)}},{key:"notifyWidgetSessionProxy",value:function(t){window.top.postMessage(t,"*")}},{key:"sendRequest",value:function(t){var e=this,n=new XMLHttpRequest,r=document.querySelector('meta[name="csrf-token"]').getAttribute("content");n.open(t.requestInfo.method,t.requestInfo.url,!0);n.setRequestHeader("X-CSRF-Token",r);t.requestInfo.contentType!==Oo.MultipartFormData&&n.setRequestHeader("Content-Type",t.requestInfo.contentType);n.onreadystatechange=function(){n.readyState===Z.DONE&&(200===n.status?e.notifyWidgetSessionProxy({messageType:xo.response,messageId:t.messageId,responseBody:n.responseText,responseStatus:n.status,responseHeaders:Co(n)}):e.notifyWidgetSessionProxy({messageType:xo.responseFailed,messageId:t.messageId,responseBody:n.responseText,responseStatus:n.status,responseHeaders:{}}))};var o=Eo(t.requestInfo.data,t.requestInfo.contentType);n.send(o)}}])&&_o(t.prototype,e),n&&_o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();new jo;function Lo(t){return Lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lo(t)}function Io(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Do(r.key),r)}}function Do(t){var e=function(t,e){if("object"!=Lo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lo(e)?e:e+""}var No="wovn-stallion-iframe",Ro=function(){return t=function t(e,n){var r,o,i,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);r=this,i={},(o=Do(o="pendingRequests"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;this.snippetSettings=e;this.wovnContext=n;this.stallion=null;this.started=!1;this.messageHandler=function(t){return a.onStallionMessage(t)};this.lastMessageId=0},(e=[{key:"start",value:function(){this.started=!0;st.onEvent(window.self,"message",this.messageHandler);this.startRPC()}},{key:"stop",value:function(){this.started=!1;this.stallion=null;st.removeHandler(window.self,"message",this.messageHandler);this.stopRPC()}},{key:"destroy",value:function(){this.stop()}},{key:"sendRequest",value:function(t,e,n,r,o,i){if(this.stallion){var a=++this.lastMessageId;this.pendingRequests[a]={successCallback:o,failedCallback:i};this.stallion.postMessage({messageId:a,messageType:xo.request,requestInfo:{method:t,url:e,data:n,contentType:r}},"*");return!0}return!1}},{key:"onStallionMessage",value:function(t){if(this.started){var e=t.data;e.messageType==xo.authenticationFailed&&Ct("wovnSessionFailed");if(!this.stallion&&function(t){return t.messageType==xo.sync}(e)){this.setStallionFromEvent(t);this.stallion&&Ct("wovnSessionReady")}else if(function(t){return t.messageType==xo.response}(e)){var n=this.pendingRequests[e.messageId];n.successCallback&&n.successCallback(e.responseBody,e.responseStatus,e.responseHeaders);delete this.pendingRequests[e.messageId]}else if(function(t){return t.messageType==xo.responseFailed}(e)){var r=this.pendingRequests[e.messageId];r.failedCallback&&r.failedCallback(e.responseBody,e.responseStatus,e.responseHeaders);delete this.pendingRequests[e.messageId]}}}},{key:"startRPC",value:function(){var t=document.createElement("IFRAME"),e=this.wovnContext.jHost,n=this.snippetSettings.token;t.setAttribute("id",No);t.setAttribute("style","display: none");t.setAttribute("src","".concat(e,"stallion_loader?token=").concat(n));st.onDomReady((function(){document.body.appendChild(t)}))}},{key:"stopRPC",value:function(){var t=this.getStallionIframe();t&&t.remove()}},{key:"setStallionFromEvent",value:function(t){this.stallion=t.source;this.stallion||("http://test-wovn.io"===location.origin?this.stallion=window:this.stallion=this.getStallionIframe().contentWindow)}},{key:"getStallionIframe",value:function(){return document.getElementById(No)}}])&&Io(t.prototype,e),n&&Io(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Uo(t){return Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(t)}function Vo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ho(r.key),r)}}function Ho(t){var e=function(t,e){if("object"!=Uo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Uo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Uo(e)?e:e+""}var Mo=function(){return e=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);o=this,a=null,(i=Ho(i="_isLoggedIn"))in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a;var o,i,a;this.widgetData=e;this.serverControllerFactory=n;this.sessionProxy=r},(n=[{key:"isLoggedIn",get:function(){return!!this._isLoggedIn}},{key:"startAndAuthenticate",value:function(){return null!==this._isLoggedIn?t.Promise.resolve(this._isLoggedIn):this.authenticate()}},{key:"authenticate",value:function(){return this.widgetData.domainOptions.canUseXhrWidgetSession()?this.authenticateXHR():this.authenticateStallion()}},{key:"authenticateStallion",value:function(){var e=this;return new t.Promise((function(t){st.onEvent(document,"wovnSessionReady",(function(){e._isLoggedIn=!0;t(!0)}));st.onEvent(document,"wovnSessionFailed",(function(){e._isLoggedIn=!1;t(!1)}));e.sessionProxy.start()}))}},{key:"authenticateXHR",value:function(){var e=this;return new t.Promise((function(t){e.serverControllerFactory.xhrWidgetSession.authenticate().then((function(){e._isLoggedIn=!0;t(!0)}))["catch"]((function(){e._isLoggedIn=!1;t(!1)}))}))}},{key:"createSession",value:function(){return this.widgetData.domainOptions.canUseXhrWidgetSession()?this.serverControllerFactory.xhrWidgetSession.createSession():this.serverControllerFactory.inPageSession.createSession()}}])&&Vo(e.prototype,n),r&&Vo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Bo(t){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(t)}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wo(r.key),r)}}function Wo(t){var e=function(t,e){if("object"!=Bo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bo(e)?e:e+""}var qo=function(){return e=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.wovnContext=n;this.snippetSettings=r},(n=[{key:"isLoadedComponent",value:function(t){return this.widget.isComponentLoaded(t)}},{key:"loadExternalComponents",value:function(e){var n=this;return new t.Promise((function(t){var r=n.filterOutLoadedComponents(e);r.length?n.loadComponents(r).then((function(){t(n.getLoadedComponents(e))})):t(n.getLoadedComponents(e))}))}},{key:"loadComponents",value:function(e){var n=this,r=e.map((function(t){n.insertLoadingScript(t);return n.waitComponentLoaded(t)}));return t.Promise.all(r).then((function(){}))}},{key:"waitComponentLoaded",value:function(e){return new t.Promise((function(t){Pt(e+"Loaded",(function(){t(e)}))}))}},{key:"filterOutLoadedComponents",value:function(t){var e=this;return t.filter((function(t){return!e.isLoadedComponent(t)}))}},{key:"insertLoadingScript",value:function(t){var e=document.createElement("SCRIPT");e.setAttribute("type","text/javascript");e.setAttribute("src",this.buildComponentsUrl(t));e.setAttribute("async","");document.head.appendChild(e)}},{key:"buildComponentsUrl",value:function(t){return this.wovnContext.isVersioned?"".concat(this.wovnContext.cdnCacheHost,"widget/").concat(this.snippetSettings.token,"/components/").concat(t,"?v=").concat(p.BUILD_HASH):"".concat(this.wovnContext.jHost,"components/").concat(t,"?v=").concat(p.BUILD_HASH)}},{key:"getLoadedComponents",value:function(t){var e=this;return t.map((function(t){return e.widget.c(t)}))}}])&&Fo(e.prototype,n),r&&Fo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function zo(t){return zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(t)}function Go(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jo(r.key),r)}}function Jo(t){var e=function(t,e){if("object"!=zo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zo(e)?e:e+""}var $o="//wap.wovn.io/1.js";function Ko(){return!!document.querySelector('script[src="'.concat($o,'"]'))}var Xo=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.wovnContext=e;this.domainOptions=n;this.wapEnabledCookie=r},(e=[{key:"installIfNeeded",value:function(){if(!this.wovnContext.isProduction()||!this.isWapAuthorized()||Ko())return!1;var t=document.createElement("script");t.async=!0;t.src=$o;document.head.appendChild(t);return!0}},{key:"isWapAuthorized",value:function(){return this.domainOptions.canInstallWap(this.wapEnabledCookie)}}])&&Go(t.prototype,e),n&&Go(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Zo(t){return Zo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zo(t)}function Yo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Qo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qo(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ei(r.key),r)}}function ei(t){var e=function(t,e){if("object"!=Zo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zo(e)?e:e+""}var ni="LiveEditor",ri="LiveEditor2",oi=function(){return e=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);r=this,i=!1,(o=ei(o="installed"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;var r,o,i;this.externalComponentLoader=e;this.liveEditorSettings=n},(n=[{key:"removeGlobalVue",value:function(){"undefined"!=typeof window&&window.Vue&&(window.Vue=void 0)}},{key:"installIfNeeded",value:function(){var e=this;this.removeGlobalVue();if(this.isInstalled())return t.Promise.resolve(!1);if(window.WOVN){window.WOVN.HOTJAR_ID=p.HOTJAR_ID;window.WOVN.LIVE_EDITOR_METRICS={loadStartedTime:new Date,loadEndedTime:void 0}}var n="2"===this.liveEditorSettings.editorVersionInURL?ri:ni;return this.externalComponentLoader.loadExternalComponents([n]).then((function(t){var n=Yo(t,1)[0];e.installed=!0;null==n||n.start();return!0}))}},{key:"isInstalled",value:function(){return this.installed}}])&&ti(e.prototype,n),r&&ti(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function ii(t){return ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ii(t)}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,si(r.key),r)}}function ui(t,e,n){return(e=si(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function si(t){var e=function(t,e){if("object"!=ii(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ii(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ii(e)?e:e+""}var li=function(){return t=function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);ui(this,"onAuditStartedListener",(function(){return o.onAuditStarted()}));ui(this,"onAuditCompletedListener",(function(){return o.onAuditCompleted()}));this.documentRoot=e;this.auditTrigger=n;this.auditTriggerEvents=r},(e=[{key:"listen",value:function(){var t=this;if(!this.isStarted){this.auditTriggerEvents.subscribe((function(){return t.onAuditStartedListener()}),(function(){return t.onAuditCompletedListener()}));this.isStarted=!0}}},{key:"pause",value:function(){this.isPaused=!0}},{key:"resumeOnNextAudit",value:function(){this.willResumeOnNextAudit=!0;this.auditTrigger.refresh()}},{key:"onAuditStarted",value:function(){if(this.isPaused&&this.willResumeOnNextAudit){this.isPaused=!1;this.willResumeOnNextAudit=!1}}},{key:"onAuditCompleted",value:function(){if(!this.isPaused){this.removeWovnWait();Ct("wovnWaitAuditCompleted")}}},{key:"removeWovnWait",value:function(){st.toArrayFromDomList(this.documentRoot.querySelectorAll("[wovn-wait], [data-wovn-wait]")).forEach((function(t){t.removeAttribute("wovn-wait");t.removeAttribute("data-wovn-wait")}));this.documentRoot.removeAttribute("wovn-isLoading");this.documentRoot.removeAttribute("data-wovn-isLoading")}},{key:"destroy",value:function(){this.removeWovnWait()}}])&&ai(t.prototype,e),n&&ai(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),ci=li;function fi(t){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fi(t)}function pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hi(r.key),r)}}function di(t,e,n){return(e=hi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hi(t){var e=function(t,e){if("object"!=fi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fi(e)?e:e+""}var yi=function(){return t=function t(e,n,r,o,i,a,u,s,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);di(this,"currentLang",void 0);di(this,"mostRecentTraversalResult",null);this.widget=e;this.auditTrigger=n;this.reportHelper=r;this.performanceMonitor=o;this.interfaceComponent=i;this.dynamicLoadingEnabledCookie=a;this.domainOptions=u;this.supervisedContent=s;this.excludedContentScope=l},e=[{key:"getMostRecentTraversalResult",value:function(){return this.mostRecentTraversalResult}},{key:"getInternalCurrentLang",value:function(){return this.currentLang}},{key:"isAddableSrc",value:function(t){try{encodeURIComponent(X(t))}catch(t){return!1}var e=l(t);return""!==e&&!/^(%([a-f]|[0-9]){2})+$/i.test(e)&&this.isAcceptableLanguage(e)}},{key:"isAcceptableLanguage",value:function(t){return"ko"===this.langComponent.getDefaultCodeIfExists()||!this.langComponent.isKoreanText(t)}},{key:"supervisedSwapVals",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;this.performanceMonitor.mark(Br.SwapStart);this.mostRecentTraversalResult=this.excludedContentScope.run(n,(function(){return e.swapDocumentContent(t,n)}));this.currentLang=t;this.performanceMonitor.mark(Br.SwapEnd);this.reportHelper.onAuditComplete();this.domainOptions.dynamicLoading(this.dynamicLoadingEnabledCookie)&&this.dynamicLoadingManager.loadRequestedTranslations()}},{key:"swapDocumentContent",value:function(t,e){var n=this;if(this.supervisedContent.isSupervisedPage()){var r=this.supervisedContent.getSupervisedNodes().map((function(e){var r=e.firstChild||e;n.domainOptions.hasFeature("unified_values")&&(r=e);return n.swapVals(t,r)}));return gt.reduce(r,(function(t,e){return t.merge(e)}))}return this.swapVals(t,e)}},{key:"swapVals",value:function(t,e){return this.unifiedValue.swapUnifiedValue(e,this.currentLang,t)}},{key:"langComponent",get:function(){return this.widget.c("Lang")}},{key:"dynamicLoadingManager",get:function(){return this.widget.c("DynamicLoadingManager")}},{key:"unifiedValue",get:function(){return this.widget.c("UnifiedValue")}},{key:"audit",value:function(t,e){var n=this.langComponent.getDefaultCodeIfExists();if(this.currentLang!==n||e%2!=0){var r=this.langComponent.getDocLang()||n;this.supervisedSwapVals(r);if(this.containsThirdPartyContents()){this.reportHelper.haltReporting();this.reportHelper.removeNewSrcs()}this.reportHelper.triggerReportIfNecessary();t&&t()}}},{key:"containsThirdPartyContents",value:function(){return!!this.isChromeTranslating()||!!this.interfaceComponent.isWovnLanguageSwitchesTranslated()||!!this.isGoogleAnalyticsExtensionWorking()}},{key:"isChromeTranslating",value:function(){return document.documentElement.className.match("translated")}},{key:"isGoogleAnalyticsExtensionWorking",value:function(){for(var t=document.getElementsByClassName("view-in-ga-link-logo"),e=0;e<t.length;e++){var n=t[e];if(/chrome-extension:\/\/.+analytics_logo\.png/.test(getComputedStyle(n)["background-image"]))return!0}return!1}},{key:"stop",value:function(){this.reportHelper.reset();this.auditTrigger.stop()}},{key:"destroy",value:function(){this.mostRecentTraversalResult=null;this.stop()}}],e&&pi(t.prototype,e),n&&pi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function gi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(n),!0).forEach((function(e){bi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mi(t){return mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(t)}function bi(t,e,n){return(e=Ti(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ti(r.key),r)}}function ki(t,e,n){return e&&Si(t.prototype,e),n&&Si(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ti(t){var e=function(t,e){if("object"!=mi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=mi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==mi(e)?e:e+""}var Ci=function(t){t["SUBSCRIBE"]="WOVNIO_SWAP_INTERCOM_SUBSCRIBE";t["UNSUBSCRIBE"]="WOVNIO_SWAP_INTERCOM_UNSUBSCRIBE";t["ACKNOWLEDGE"]="WOVNIO_SWAP_INTERCOM_ACKNOWLEDGE";t["SWAP"]="WOVNIO_SWAP_INTERCOM_SWAP";return t}({}),Oi=function(){return ki((function t(e,n){wi(this,t);this.widget=e;this.lang=n}),[{key:"start",value:function(){if(!st.pageIsWidgetPreview()){this.intercomNode=this.isMasterIntercom()?this.createParentNode():this.createChildNode();this.intercomNode.start()}}},{key:"stop",value:function(){this.intercomNode&&this.intercomNode.stop()}},{key:"destroy",value:function(){this.stop()}},{key:"isMasterIntercom",value:function(){return window.self===window.top}},{key:"createParentNode",value:function(){return new Ei(this.lang,this.getPropertyValueTranslationRepository())}},{key:"createChildNode",value:function(){return new Pi(this.lang,this.getPropertyValueTranslationRepository())}},{key:"getPropertyValueTranslationRepository",value:function(){return this.widget.c("PropertyValueTranslationRepository")}}])}(),Ei=function(){return ki((function t(e,n){var r=this;wi(this,t);bi(this,"childWindows",[]);bi(this,"onMessage",(function(t){return r.listen(t)}));bi(this,"onWovnLangChanged",(function(){return r.dispatchSwappingRequestToEveryChild()}));this.lang=e;this.propertyValueTranslationRepository=n}),[{key:"start",value:function(){st.onEvent(window.self,"message",this.onMessage);Pt("wovnLangChanged",this.onWovnLangChanged)}},{key:"stop",value:function(){st.removeHandler(window.self,"message",this.onMessage);At("wovnLangChanged",this.onWovnLangChanged)}},{key:"listen",value:function(t){if("object"===mi(t.data)){var e=t.data,n=t.source;switch(e.type){case Ci.SUBSCRIBE:if(this.addChildNode(n)){var r=this.lang.getDocLang();this.dispatchSwappingRequest(n,r)}break;case Ci.UNSUBSCRIBE:this.removeChildNode(n)}}}},{key:"addChildNode",value:function(t){if(!t)return!1;st.includes(this.childWindows,t)||this.childWindows.push(t);this.postMessageToChild(Ci.ACKNOWLEDGE,{propertyValues:this.propertyValueTranslationRepository.getPropertyValues()});return!0}},{key:"removeChildNode",value:function(t){var e=this.childWindows.indexOf(t);if(e<0)return!1;this.childWindows.splice(e,1);return!0}},{key:"dispatchSwappingRequest",value:function(t,e){t&&this.postMessageToChild(Ci.SWAP,{lang:e})}},{key:"dispatchSwappingRequestToEveryChild",value:function(){var t=this,e=this.lang.getDocLang();this.childWindows.forEach((function(n){return t.dispatchSwappingRequest(n,e)}))}},{key:"postMessageToChild",value:function(t){var e=vi({type:t},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});this.childWindows.forEach((function(t){return t.postMessage(e,"*")}))}}])}(),Pi=function(){return ki((function t(e,n){var r=this;wi(this,t);bi(this,"parentWindow",window.top);bi(this,"subscribeTimeoutID",null);bi(this,"subscriptionTryCount",0);bi(this,"onMessage",(function(t){return r.listen(t)}));bi(this,"onBeforeunload",(function(){return r.unsubscribe()}));this.lang=e;this.propertyValueTranslationRepository=n}),[{key:"start",value:function(){st.onEvent(window.self,"message",this.onMessage);st.onEvent(window.self,"beforeunload",this.onBeforeunload);this.subscriptionTryCount=0;this.subscribe()}},{key:"stop",value:function(){st.removeHandler(window.self,"message",this.onMessage);st.removeHandler(window.self,"beforeunload",this.onBeforeunload);this.unsubscribe()}},{key:"listen",value:function(t){if("object"===mi(t.data)){var e=t.data;switch(e.type){case Ci.ACKNOWLEDGE:clearTimeout(this.subscribeTimeoutID);e.propertyValues&&this.propertyValueTranslationRepository.updateSavedPropertyValues(e.propertyValues);this.hideWidget();break;case Ci.SWAP:e.lang&&this.lang.setDocLang(e.lang)}}}},{key:"subscribe",value:function(){var t,e=this;if(this.parentWindow&&"frame"!==(null===(t=window.self.frameElement)||void 0===t||null===(t=t.nodeName)||void 0===t?void 0:t.toLowerCase())){this.subscriptionTryCount+=1;this.postMessageToParent(Ci.SUBSCRIBE);this.subscribeTimeoutID=setTimeout((function(){e.subscribe()}),1e3*this.subscriptionTryCount)}}},{key:"unsubscribe",value:function(){clearTimeout(this.subscribeTimeoutID);this.postMessageToParent(Ci.UNSUBSCRIBE)}},{key:"hideWidget",value:function(){me(document.querySelector("html"),"wovn-is-child-frame")}},{key:"postMessageToParent",value:function(t){var e=vi({type:t},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});this.parentWindow.postMessage(e,"*")}}])}(),_i=n(680),Ai=n.n(_i);function xi(t){return xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xi(t)}function ji(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Li(r.key),r)}}function Li(t){var e=function(t,e){if("object"!=xi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xi(e)?e:e+""}var Ii=function(){return t=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.label=e;this.node=n;this.isClose=r;this.textNormalizer=o},(e=[{key:"normalizedSrc",get:function(){return this.textNormalizer.normalizeText(this.src)}}])&&ji(t.prototype,e),n&&ji(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Di(t){return Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(t)}function Ni(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ri(r.key),r)}}function Ri(t){var e=function(t,e){if("object"!=Di(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Di(e)?e:e+""}function Ui(t,e,n){return e=Hi(e),function(t,e){if(e&&("object"==Di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Vi()?Reflect.construct(e,n||[],Hi(t).constructor):e.apply(t,n))}function Vi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Vi=function(){return!!t})()}function Hi(t){return Hi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hi(t)}function Mi(t,e){return Mi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Mi(t,e)}var Bi={"'":"&#39;","&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},Fi=new RegExp("["+Object.keys(Bi).join("")+"]","g"),Wi=function(t){function e(t,n,r,o,i,a,u,s,l,c){var f;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(f=Ui(this,e,[t,n,!1,s])).original=r;f.nodes=o;f.lookahead=i;f.skipCount=a;f.isHtml=u;f.unifiedValueComments=l;f.ignoreType=c;return f}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mi(t,e)}(e,t);return n=e,(r=[{key:"isText",get:function(){return!0}},{key:"escapedSrc",get:function(){return this.htmlEscapeTextForKeyLookup(this.label)}},{key:"escapedLabel",get:function(){return this.isHtml?this.label:this.htmlEscapeText(this.label)}},{key:"src",get:function(){return this.escapedSrc}},{key:"isTranslated",get:function(){return this.node&&null!=this.unifiedValueComments.getOriginalSrcFromComment(this.node)}},{key:"translationDataSrcKey",get:function(){var t=this.node?this.unifiedValueComments.getOriginalSrcFromComment(this.node):null;return null!==t?this.htmlEscapeTextForKeyLookup(this.textNormalizer.normalizeText(t)):this.src}},{key:"removeComment",value:function(){this.node&&this.unifiedValueComments.removeOriginalSrcComment(this.node)}},{key:"removeNode",value:function(){if(this.node){this.unifiedValueComments.removeOriginalSrcComment(this.node);ve(this.node)}}},{key:"htmlEscapeTextForKeyLookup",value:function(t){return this.htmlEscapeText(t).replace(/\u200b/g,"")}},{key:"htmlEscapeText",value:function(t){return t.replace(Fi,(function(t){return Bi[t]}))}}])&&Ni(n.prototype,r),o&&Ni(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ii);function qi(t){return t.isText}function zi(t){return zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(t)}function Gi(t,e,n){return e=Ki(e),function(t,e){if(e&&("object"==zi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ji()?Reflect.construct(e,n||[],Ki(t).constructor):e.apply(t,n))}function Ji(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ji=function(){return!!t})()}function $i(){return $i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ki(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},$i.apply(null,arguments)}function Ki(t){return Ki=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ki(t)}function Xi(t,e){return Xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Xi(t,e)}function Zi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ta(r.key),r)}}function Qi(t,e,n){return e&&Yi(t.prototype,e),n&&Yi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ta(t){var e=function(t,e){if("object"!=zi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zi(e)?e:e+""}var ea="wovn-src:",na=function(){return Qi((function t(){Zi(this,t)}),[{key:"getOriginalSrcFromComment",value:function(t){var e=this.getOriginalSrcCommentNode(t);return e?this.extractSrcFromComment(e.data):null}},{key:"getOriginalSrcCommentNode",value:function(t){var e=this.previousNonTextSibling(t);if(ra(e))return e}},{key:"hasOriginalSrcComment",value:function(t){return null!=this.getOriginalSrcFromComment(t)}},{key:"insertOriginalSrcComment",value:function(t,e){if(!this.hasOriginalSrcComment(t)){var n=t.parentElement||t.parentNode;if(n){var r=document.createComment(ea+e);"TITLE"===n.nodeName?n.parentNode.insertBefore(r,n):n.insertBefore(r,t)}}}},{key:"removeOriginalSrcComment",value:function(t){var e=this.getOriginalSrcCommentNode(t);e&&e.parentNode.removeChild(e)}},{key:"previousNonTextSibling",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t.parentElement||t.parentNode;if(n&&"TITLE"===n.nodeName)return n.previousSibling;var r=t.previousSibling;return r?"#text"==r.nodeName?this.previousNonTextSibling(r,t):r:e}},{key:"extractSrcFromComment",value:function(t){if(t){var e=t.indexOf(",wovn-actual-lang:");return-1==e?t.substring(9):t.substring(9,e)}return null}}])}();function ra(t){return function(t){return t&&t.nodeType==Node.COMMENT_NODE}(t)&&0===t.data.indexOf(ea)}var oa=function(t){function e(){Zi(this,e);return Gi(this,e,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xi(t,e)}(e,t);return Qi(e,[{key:"getOriginalSrcFromComment",value:function(t){var n,r,o,i,a,u=(n=e,r="getOriginalSrcFromComment",o=this,a=$i(Ki(1&(i=3)?n.prototype:n),r,o),2&i&&"function"==typeof a?function(t){return a.apply(o,t)}:a)([t]);return u?st.decodeHTMLEntities(u):null}}])}(na);function ia(t){return"data-"+ea+"-original-"+t}function aa(t){return aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aa(t)}function ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sa(r.key),r)}}function sa(t){var e=function(t,e){if("object"!=aa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aa(e)?e:e+""}var la=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]],ca=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"escape",value:function(t){for(var e=t,n=0;n<la.length;++n){var r=la[n][0],o=la[n][1];e=e.replace(new RegExp(r,"g"),o)}return e}},{key:"unescape",value:function(t){for(var e=t,n=la.length-1;n>=0;--n){var r=la[n][0],o=la[n][1];e=e.replace(new RegExp(o,"g"),r)}return e}}])&&ua(t.prototype,e),n&&ua(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),fa=new ca;function pa(t){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pa(t)}function da(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ha(r.key),r)}}function ha(t){var e=function(t,e){if("object"!=pa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pa(e)?e:e+""}var ya=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,r=[{key:"detectAllImageTypes",value:function(e,n){var r=t.isSrcsetImage(e,n),o=t.isInputImage(e),i=t.isMetaImage(e);return{isSrcsetImage:r,isInputImage:o,isMetaImage:i,isAnyImage:i||r||t.isImageUrl(e,n)}}},{key:"isImageUrl",value:function(e,n){return!(!e||!n)&&t.isImage(e)&&"src"===n}},{key:"isImage",value:function(e){return!!e&&("IMG"===e.nodeName||t.isInputImage(e))}},{key:"isSrcsetImage",value:function(t,e){return!(!t||!e||"IMG"!==t.nodeName&&"SOURCE"!==t.nodeName||"srcset"!==e)}},{key:"isInputImage",value:function(t){var e=t.getAttribute("type");return"INPUT"===t.nodeName&&"string"==typeof e&&"image"===e.toLowerCase()}},{key:"isMetaImage",value:function(t){var e=t.getAttribute("property");return gt.includes(["og:image","og:image:url","og:image:secure_url","twitter:image"],e)}}],(n=null)&&da(e.prototype,n),r&&da(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),ga=ya;function va(t){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},va(t)}function ma(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ba(r.key),r)}}function ba(t){var e=function(t,e){if("object"!=va(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==va(e)?e:e+""}var wa="wovn-on-demand",Sa="wovn-on-demand-trigger",ka="wovn-on-demand-source",Ta="wovn-on-demand-result";var Ca=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.domainOptions=e;this.onDemandTranslationController=n;this.widget=r},e=[{key:"bindOdtClickEvent",value:function(t){var e=this;this.isOnDemandTranslationActive()&&Ce(t)&&this.isValidOdtElement(t)&&(t.querySelector("[".concat(Sa,"], [data-").concat(Sa,"]")).onclick=function(t){return e.onTriggerClick(t)})}},{key:"isValidOdtElement",value:function(t){return Ee(t,wa)&&t.querySelectorAll("[".concat(ka,"], [data-").concat(ka,"]")).length>0&&t.querySelectorAll("[".concat(Sa,"], [data-").concat(Sa,"]")).length>0&&t.querySelectorAll("[".concat(Ta,"], [data-").concat(Ta,"]")).length>0}},{key:"onTriggerClick",value:function(t){var e=this;t.stopPropagation();t.preventDefault();t.target.setAttribute("disabled",!0);var n=this.getOdtContainer(t.target);if(n){var r=n.querySelector("[".concat(ka,"], [data-").concat(ka,"]")),o=this.langComponent.getActualLang();this.translateNode(r,o).then((function(r){e.insertTranslationResult(n,r);t.target.removeAttribute("disabled")}))["catch"]((function(){t.target.removeAttribute("disabled")}))}}},{key:"getOdtContainer",value:function(t){if(!this.isOnDemandTranslationActive())return null;for(var e=t.parentElement;e;){if(Ee(e,wa))return e;e=e.parentElement}}},{key:"langComponent",get:function(){return this.widget.c("Lang")}},{key:"getOdtResultNode",value:function(t){var e=t.querySelector("[".concat(Ta,"], [data-").concat(Ta,"]"));e.setAttribute("style","");return e}},{key:"insertTranslationResult",value:function(t,e){var n=this.getOdtResultNode(t);n.innerHTML=e[0].dst;n.focus()}},{key:"clearOdtResults",value:function(){if(this.isOnDemandTranslationActive())for(var t=document.querySelectorAll("[".concat(Ta,"], [data-").concat(Ta,"]")),e=0;e<t.length;e++){var n=t[e];n.innerHTML="";n.setAttribute("style","display: none")}}},{key:"translateNode",value:function(t,e){if(this.isOnDemandTranslationActive()){var n=[t.innerHTML.replace(/(<\w+)(\s+?)[^>]*/g,"$1")];return this.translateTexts(n,e)}}},{key:"isOnDemandTranslationActive",value:function(){return this.domainOptions.hasFeature("on_demand_translation")}},{key:"translateTexts",value:function(t,e){if(e&&t&&t.length>0)return this.onDemandTranslationController.translateTexts(t,e).then((function(t){return t.body.translations}))}}],e&&ma(t.prototype,e),n&&ma(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();var Oa=function(t){t[t["IGNORE"]=1]="IGNORE";t[t["INLINE"]=2]="INLINE";t[t["INLINE_IGNORED"]=3]="INLINE_IGNORED";t[t["TEXT"]=4]="TEXT";t[t["TAG"]=5]="TAG";t[t["BLOCK"]=6]="BLOCK";return t}({}),Ea={symbol:{title:!0,desc:!0}};function Pa(t,e){return"IMG"===e&&/googlesyndication\.com/i.test(t.getAttribute("src"))}function _a(t,e){return"A"===e&&i(t.hostname,"buysellads.com")}function Aa(t,e){var n;return!(n=t.nodeName.toLowerCase(),Ea[n]||{})[e.nodeName.toLowerCase()]}function xa(t){return function(e){return ge(e)?Ee(e,"wovn-instant-translation")?Yn.All:ja(e,t):Yn.None}}function ja(t,e){return function(t){return function(t){return Ee(t,"wovn-ignore")}(t)||function(t){return 1===t.naturalWidth&&1===t.naturalHeight}(t)||function(t){return Ee(t,Ta)||Ee(t,ka)}(t)||function(t){return e=t,n=t.nodeName,[Pa,_a].some((function(t){return t(e,n)}));var e,n}(t)}(t)||function(t,e){return e.ignoreInlineDisplayNoneElements&&function(t){var e=t.getAttribute("style"),n=/display:\s*none;?/;return null!=e&&n.test(e)}(t)}(t,e)?Yn.All:function(t){return Ee(t,"wovn-ignore-content")}(t)?Yn.TagContent:function(t){return Ee(t,"wovn-ignore-attrs")}(t)?Yn.Attributes:Yn.None}function La(t){return La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(t)}function Ia(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Da(r.key),r)}}function Da(t){var e=function(t,e){if("object"!=La(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=La(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==La(e)?e:e+""}var Na=function(t){t[t["Path"]=0]="Path";t[t["Query"]=1]="Query";t[t["Subdomain"]=2]="Subdomain";t[t["CustomDomain"]=3]="CustomDomain";return t}({});function Ra(t){return t==Na.Subdomain||t==Na.CustomDomain}var Ua="wovn",Va=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.token=null;this.isBackend=!1;this.defaultLang=null;this.currentLang=null;this.urlPattern=null;this.sitePrefixPaths=[];this.langParamName=Ua;this.customDomainLangs=null;this.langCodeAliases={};this.snippetType=n;this.token=this.readSetting(e,"key");if(!this.token)throw new Error("WovnWidgetError - Missing snippet setting: key (token)");this.isCreeper=gt.includes(["true","creeper","toolbox","activator"],this.readSetting(e,"creeper"));this.isBackend="true"===this.readSetting(e,"backend");this.isCrawlerScrapingEnabled="true"===this.readSetting(e,"wovnScrape");this.isShopify="true"===this.readSetting(e,"shopify");this.traceId=this.readSetting(e,"traceId");this.langParamName=this.readSetting(e,"langParamName")||Ua;if(this.isBackend){this.defaultLang=this.readSetting(e,"defaultLang");this.currentLang=this.readSetting(e,"currentLang");switch(this.readSetting(e,"urlPattern")){case"path":this.urlPattern=Na.Path;var r=this.readSetting(e,"sitePrefixPath")||this.readSetting(e,"site_prefix_path")||"";this.sitePrefixPaths=""===r?[""]:r.split(",").map((function(t){return e=t.trim(),n="/",e.replace(new RegExp("^(".concat(n,")*|(").concat(n,")*$"),"g"),"");var e,n})).sort((function(t,e){return e.length-t.length}));break;case"query":this.urlPattern=Na.Query;break;case"subdomain":this.urlPattern=Na.Subdomain;break;case"custom_domain":this.urlPattern=Na.CustomDomain;this.customDomainLangs=this.readCustomDomainLangs(e);break;default:throw new Error("Invalid urlPattern snippet setting")}this.langCodeAliases=this.readLangCodeAliases(e)}},(e=[{key:"readSetting",value:function(t,e){var n=new RegExp(e+"=([^&]+)","i"),r=t.match(n);return r?r[1]:null}},{key:"readLangCodeAliases",value:function(t){var e=this.readSetting(t,"langCodeAliases");return this.parseJsonValue(e)}},{key:"readCustomDomainLangs",value:function(t){var e=this.readSetting(t,"customDomainLangs");return this.parseJsonValue(e)}},{key:"parseJsonValue",value:function(t){try{var e=JSON.parse(t);return e&&Object.keys(e).length>0?e:{}}catch(t){return{}}}}])&&Ia(t.prototype,e),n&&Ia(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Ha=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(([+-]\d{2}:\d{2})|Z)?$/i;function Ma(t){return Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ma(t)}function Ba(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fa(r.key),r)}}function Fa(t){var e=function(t,e){if("object"!=Ma(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ma(e)?e:e+""}var Wa=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"reportSchemaTags",value:function(t){var e=this,n=[];st.toArrayFromDomList(t.querySelectorAll('script[type="application/ld+json"]:not([data-wovn-ignore]):not([wovn-ignore])')).forEach((function(t){try{var r=JSON.parse(t.textContent);n=n.concat(e.recursiveTraverse(r))}catch(t){}}));return n}},{key:"recursiveTraverse",value:function(t){var e=this,n=[];this.isArray(t)?t.forEach((function(t){n=n.concat(e.recursiveTraverse(t))})):this.isObject(t)?Object.keys(t).forEach((function(r){if(e.isTranslatableKey(r)){var o=t[r];n=n.concat(e.recursiveTraverse(o))}})):this.isTranslatableContent(t)&&n.push(t);return n}},{key:"isTranslatableKey",value:function(t){return!t.startsWith("@")}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isObject",value:function(t){return"object"===Ma(t)}},{key:"isTranslatableContent",value:function(t){return"string"==typeof t&&!A(t)&&!this.isNumber(t)&&!this.isDate(t)}},{key:"isNumber",value:function(t){return/^[0-9.]+$/.test(t)}},{key:"isDate",value:function(t){return e=t,Ha.test(e);var e}}])&&Ba(t.prototype,e),n&&Ba(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function qa(t){return qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(t)}function za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ga(r.key),r)}}function Ga(t){var e=function(t,e){if("object"!=qa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qa(e)?e:e+""}var Ja=function(){return t=function t(e,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.xpath=e;this.element=n;this.ignoreType=r;this.isInsideCssBackgroundImageScope=o;this.isThirdParty=i;this._nodeName=null;this._computedStyle=null;this._backgroundImageProperty=null},(e=[{key:"style",get:function(){return this.element.style}},{key:"hasAttribute",value:function(t){return this.element.hasAttribute(t)}},{key:"getAttribute",value:function(t){return this.element.getAttribute(t)}},{key:"setAttribute",value:function(t,e){this.element.setAttribute(t,e)}},{key:"setAttributeIfNeeded",value:function(t,e){this.element.getAttribute(t)!=e&&this.element.setAttribute(t,e)}},{key:"nodeName",get:function(){this._nodeName||(this._nodeName=this.element.nodeName);return this._nodeName}},{key:"computedStyle",get:function(){this._computedStyle||(this._computedStyle=window.getComputedStyle(this.element));return this._computedStyle}},{key:"backgroundImageProperty",get:function(){null===this._backgroundImageProperty&&(this._backgroundImageProperty=this.computedStyle.getPropertyValue("background-image"));return this._backgroundImageProperty}}])&&za(t.prototype,e),n&&za(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function $a(t){return $a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$a(t)}function Ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xa(r.key),r)}}function Xa(t){var e=function(t,e){if("object"!=$a(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$a(e)?e:e+""}var Za=new RegExp("^(".concat(["description","title","og:description","og:title","twitter:description","twitter:title"].join("|"),")$"),"i"),Ya=new RegExp("^(".concat(["og:description","og:title","og:site_name","twitter:description","twitter:title"].join("|"),")$"),"i"),Qa=["placeholder"],tu={search:["value","placeholder"],button:["value","placeholder","data-confirm","data-disable-with"],submit:["value","placeholder","data-confirm","data-disable-with"],image:["src","alt","placeholder","data-confirm","data-disable-with"],reset:["value"]},eu={option:["label"],a:["title"],optgroup:["label"],img:["alt","srcset","src"],textarea:["placeholder"],source:["srcset"]},nu={a:["href"],div:["onclick"],area:["src"],iframe:["src"]},ru=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.domainOptionsWrapper=e;this.attrs=this.buildAttrs();this.tagAttrs=this.buildTagAttrs();this.tagAttrsCondition=this.buildTagAttrsCondition()},(e=[{key:"getReportOnlyAttributes",value:function(t){var e=t.nodeName.toLowerCase();return nu[e]||[]}},{key:"getSwappableAttributes",value:function(t){var e=t.nodeName.toLowerCase(),n=[];function r(t){n.push(t)}this.attrs.forEach(r);(this.tagAttrs[e]||[]).forEach(r);((this.tagAttrsCondition[e]||function(){})(t)||[]).forEach(r);return n}},{key:"buildTagAttrsCondition",value:function(){return{meta:this.metaAttrs,input:this.inputAttrs}}},{key:"metaAttrs",value:function(t){var e=Za.test(t.getAttribute("name"))||Ya.test(t.getAttribute("property")),n=ga.isMetaImage(t);return e||n?["content"]:[]}},{key:"inputAttrs",value:function(t){var e=t.getAttribute("type"),n=Qa;e&&(e=e.toLowerCase())in tu&&(n=tu[e]);return n}},{key:"buildAttrs",value:function(){return[].concat(this.commonCustomAttributes)}},{key:"buildTagAttrs",value:function(){var t=st.assign({},eu),e=this.tagSpecificCustomAttributes;for(var n in e){var r=e[n];t[n]=(t[n]||[]).concat(r)}return t}},{key:"customTagAttributes",get:function(){return this.domainOptionsWrapper.getCustomAttributes()}},{key:"commonCustomAttributes",get:function(){return this.customTagAttributes["*"]||[]}},{key:"tagSpecificCustomAttributes",get:function(){var t={};for(var e in this.customTagAttributes)"*"!==e&&(t[e]=this.customTagAttributes[e]);return t}}])&&Ka(t.prototype,e),n&&Ka(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ou(t){return(n=p.FASTLY_IMAGE_PREFIX,"string"==typeof(e=t)&&"string"==typeof n&&-1!==e.indexOf(n))||/^https:\/\/[\w-]*wovn\.global\.ssl\.fastly\.net/.test(t);var e,n}function iu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return au(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?au(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function au(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var uu=function(t){t["PlainText"]="text";t["Html"]="html";t["PageSpecificHtml"]="page_html";t["Image"]="image";return t}({});function su(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t[e];i||(i=t[e]={});var a=i[r];if(a){a[0].data=n;o&&(a[0].published_dst=n)}else{var u={data:n};o&&(u.published_dst=n);i[r]=[u]}}function lu(t,e){delete t[e]}function cu(t){var e,n={},r=iu(t);try{for(r.s();!(e=r.n()).done;)for(var o=e.value,i=0,a=Object.keys(o);i<a.length;i++){var u=a[i];n[u]=n[u]||{};for(var s=0,l=Object.keys(o[u]);s<l.length;s++){var c=l[s];n[u][c]=n[u][c]||[];n[u][c]=o[u][c]}}}catch(t){r.e(t)}finally{r.f()}return n}function fu(t){return fu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(t)}function pu(t){return function(t){if(Array.isArray(t))return du(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return du(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?du(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function du(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yu(r.key),r)}}function yu(t){var e=function(t,e){if("object"!=fu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fu(e)?e:e+""}var gu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{creationTime:void 0,manualPublishedDate:void 0};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textVals=e;this.imgVals=n;this.htmlTextVals=r;this.pageTextVals=o;this.metadata=i}return e=t,n=[{key:"isEmpty",get:function(){return 0===Object.keys(this.textVals).length&&0===Object.keys(this.imgVals).length&&0===Object.keys(this.htmlTextVals).length&&0===Object.keys(this.pageTextVals).length}},{key:"merge",value:function(e){var n=cu([this.textVals,e.textVals]),r=cu([this.htmlTextVals,e.htmlTextVals]),o=cu([this.pageTextVals,e.pageTextVals]);return new t(n,cu([this.imgVals,e.imgVals]),r,o,{manualPublishedDate:e.metadata.manualPublishedDate,creationTime:this.metadata.creationTime?Math.min(this.metadata.creationTime,e.metadata.creationTime):void 0})}},{key:"allTextTranslations",value:function(){function t(t){var e=Object.keys(t).map((function(e){return n=t[e],Object.keys(n).map((function(t){return n[t]}));var n}));return gt.flatten(e).map((function(t){return t["data"]}))}return[].concat(pu(t(this.textVals)),pu(t(this.htmlTextVals)),pu(t(this.pageTextVals)))}},{key:"getTranslationHash",value:function(t){switch(t){case uu.PlainText:return this.textVals;case uu.Html:return this.htmlTextVals;case uu.PageSpecificHtml:return this.pageTextVals;case uu.Image:return this.imgVals}}},{key:"removeSourceKey",value:function(t){lu(this.textVals,t);lu(this.imgVals,t);lu(this.htmlTextVals,t);lu(this.pageTextVals,t)}},{key:"filterLanguages",value:function(e){return new t(this.filterByLangs(e,this.textVals),this.filterByLangs(e,this.imgVals),this.filterByLangs(e,this.htmlTextVals),this.filterByLangs(e,this.pageTextVals),this.metadata)}},{key:"filterByLangs",value:function(t,e){var n={},r=function(){var r=e[o],i=Object.keys(r).filter((function(e){return-1!=t.indexOf(e)})),a={};i.forEach((function(t){a[t]=r[t]}));Object.keys(a).length>0&&(n[o]=a)};for(var o in e)r();return n}}],r=[{key:"createFromServer",value:function(e){return new t(e.text_vals||{},e.img_vals||{},e.html_text_vals||{},e.page_text_vals||{})}}],n&&hu(e.prototype,n),r&&hu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function vu(t){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(t)}function mu(t){return function(t){if(Array.isArray(t))return bu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bu(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ku(r.key),r)}}function Su(t,e,n){return(e=ku(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ku(t){var e=function(t,e){if("object"!=vu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vu(e)?e:e+""}var Tu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Su(this,"attributes",[]);Su(this,"images",[]);Su(this,"valuesStacks",[])}return e=t,(n=[{key:"merge",value:function(e){var n=new t;n.attributes=gt.distinctBy([].concat(mu(this.attributes),mu(e.attributes)),(function(t){return t.sourceKey}));n.images=gt.distinctBy([].concat(mu(this.images),mu(e.images)),(function(t){return t.sourceKey}));n.valuesStacks=gt.distinctBy([].concat(mu(this.valuesStacks),mu(e.valuesStacks)),(function(t){return t.translationDataSrcKey}));return n}}])&&wu(e.prototype,n),r&&wu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),Cu=JSON.parse('{"inlineElements":["a","abbr","b","bdi","bdo","button","cite","code","data","dfn","em","i","kbd","label","legend","mark","meter","option","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var"],"inlineIgnoredElements":["script"],"emptyElements":["br","input","param","source","track","wbr"],"skipElements":["base","command","link","noscript","style","template"],"skipElementsWithoutAttributes":["textarea"]}');function Ou(t){return!gt.includes(Cu.emptyElements,t)}var Eu=Cu;function Pu(t){return Pu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(t)}function _u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Au(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Au(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Au(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ju(r.key),r)}}function ju(t){var e=function(t,e){if("object"!=Pu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pu(e)?e:e+""}var Lu=function(){function t(e,n,r,o,i,a,u,s,l,c,f,p,d,h,y,g,v,m,b,w,S,k,T){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.widgetData=n;this.srcSetUtils=r;this.attributes=o;this.textNormalizer=i;this.instantTranslationController=a;this.snippetSettings=u;this.valuesStackBalancer=s;this.domTraversalFactory=l;this.unifiedValueComments=c;this.valuesStackGenerator=f;this.reportHelper=p;this.lang=d;this.translationChangeDetector=h;this.urlFormatterFactory=y;this.translationDataStorage=g;this.url=v;this.liveEditorSettings=m;this.translationLookup=b;this.imageTranslationLookup=w;this.translationManager=S;this.dynamicLoadingManager=k;this.clientLocation=T}return e=t,n=[{key:"swapUnifiedValue",value:function(t,e,n){this.beforeSwapUnifiedValue(t);return this._swapUnifiedValue(t,e,n,this.widgetData.getIgnoredPatterns())}},{key:"_swapUnifiedValue",value:function(t,e,n,r){var o=this,i=this.lang.getDefaultCodeIfExists();e===n&&(e=i);e=e||this.lang.getActualLang();var a=this.setup(e,n,i);if(a){var u=this.domTraversalFactory.create(),s=new Tu;this.widgetData.domainOptions.hasFeature("schema_translation")&&(new Wa).reportSchemaTags(t).forEach((function(t){o.translationLookup.hasTranslation(t,n)||o.reportHelper.markHasNewMissedSrcIfFirstSeen(t);o.addSrcOfReportHelper(t,'//script[@type="application/ld+json"]/text()',!0)}));this.widgetData.domainOptions.hasFeature("instant_translation")&&this.swapInstantTranslationNodes(t,u,r,a,n);var l=xa(r),c=u.run(t,l);s.valuesStacks=c.valuesStacks;if(this.widgetData.domainOptions.hasFeature("widget_translation_change_detection")&&!this.liveEditorSettings.isEnabled){this.translationChangeDetector.removeOrphanedComments(t);this.translationChangeDetector.removeCommentsFromModifiedTextNodes(c.valuesStacks,a)}if(n===a.defaultLangCode){c.valuesStacks.forEach((function(t){o.reportValueStack(t,a)}));c.tags.forEach((function(t){o.restoreOriginalTag(a,t)}));c.texts.forEach((function(t){return o.restoreOriginalText(t)}))}else{c.tags.forEach((function(t){o.storeOriginalTag(a,t)}));c.valuesStacks.forEach((function(t){var e=t.path,r=t.translationDataSrcKey;if(!t.isFullyTranslated)if(o.translationLookup.hasTranslation(r,n))o.storeOriginalValueStackTexts(t);else{o.reportHelper.markHasNewMissedSrcIfFirstSeen(r);o.dynamicLoadingManager.addTranslationRequest(r,n)}o.addSrcOfReportHelper(r,e,!0,o.debugHtmlForUvReport(t))}))}this.reportTags(c,a,s);c.tags.forEach((function(t){er(t.ignoreType)||o.shouldLeaveChildIframeToApplyPropVals(t)||o.propertyValueSwapper.swap(t.element,n,n!==e)}));if(n!==a.defaultLangCode){c.tags.forEach((function(t){o.changeTag(a,t)}));c.valuesStacks.forEach((function(t){o.changeUv(a,t)}))}return s}}},{key:"shouldLeaveChildIframeToApplyPropVals",value:function(t){var e;return t.xpath.indexOf("iframe")>=0&&(null===(e=t.element.ownerDocument.defaultView)||void 0===e?void 0:e.WOVN)}},{key:"swapInstantTranslationNodes",value:function(t,e,n,r,o){var i=this,a=function(t){return st.toArrayFromDomList(t.querySelectorAll("[wovn-instant-translation], [data-wovn-instant-translation]")||[])}(t);if(!(a.length<1)){var u=function(t){return function(e){return ge(e)?ja(e,t):Yn.None}}(n);a.forEach((function(t){var n=e.run(t,u);if(o===r.defaultLangCode){n.texts.forEach((function(t){return i.restoreOriginalText(t)}));n.valuesStacks.forEach((function(t){i.reportValueStack(t,r)}))}else n.valuesStacks.forEach((function(t){var e=t.path,n=t.translationDataSrcKey;t.isFullyTranslated||i.translationLookup.hasTranslation(n,o)||i.reportHelper.markHasNewMissedSrcIfFirstSeen(n);i.addSrcOfReportHelper(n,e,!0,i.debugHtmlForUvReport(t));i.changeInstantUv(o,t)}))}))}}},{key:"reportValueStack",value:function(t,e){var n=t.path,r=t.translationDataSrcKey;this.translationLookup.hasTranslation(r,e.toLangCode)||this.reportHelper.markHasNewMissedSrcIfFirstSeen(r);this.addSrcOfReportHelper(r,n,!0,this.debugHtmlForUvReport(t))}},{key:"debugHtmlForUvReport",value:function(t){return this.widgetData.domainOptions.hasFeature("swappers_diagnostics")?t.debugHtml:""}},{key:"reportTags",value:function(t,e,n){var r=this,o=/^location.href=['"]([^'"]+)/;t.tags.forEach((function(t){if(!er(t.ignoreType)){r.reportBackgroundImages(t,e,n);r.widgetData.domainOptions.isReportLinksEnabled()&&r.attributes.getReportOnlyAttributes(t).forEach((function(n){var i=r.getAttr(t,n,e.defaultLangCode,e);if(i&&!ga.detectAllImageTypes(t,n).isAnyImage)if("onclick"===n){var a=i.match(o);if(a){var u=a[1];r.reportPageLink(u)}}else"href"!==n&&"src"!==n||r.reportPageLink(i)}),r);r.attributes.getSwappableAttributes(t).forEach((function(o){var i=r.getAttr(t,o,e.defaultLangCode,e);if(i){var a=ga.detectAllImageTypes(t,o),u=a.isSrcsetImage,s=a.isInputImage,l=a.isMetaImage;if(a.isAnyImage)(u?r.srcSetUtils.parseSrcSetUrls(i):[i]).forEach((function(a){var c=t.xpath;l&&(c+=r.getMetaTagXpathAttributeSelector(t));(l||s)&&(c+="[@image]");u&&(c+="[@srcset]");var f=r.getImageTranslationDataSrcKey(a);r.imageTranslationLookup.find(f,e.toLangCode)||r.reportHelper.markHasNewMissedSrcIfFirstSeen(i);r.addReportableImage(t.element,o,f,c,n)}),r);else{var c="META"==t.nodeName?t.xpath+r.getMetaTagXpathAttributeSelector(t):"".concat(t.xpath,"[@").concat(o,"]"),f=r.getAttributeTranslationDataSrcKey(i);if(!r.translationLookup.hasTranslation(f,e.toLangCode)){r.reportHelper.markHasNewMissedSrcIfFirstSeen(f);r.dynamicLoadingManager.addTranslationRequest(f,e.toLangCode)}r.addReportableAttribute(t.element,o,f,c,n)}}}),r)}}),this)}},{key:"reportPageLink",value:function(t){if(j(t,location)){var e=E(t),n=E(this.widget.getLocation(e.href));e.origin!==location.origin||this.url.isExcludedUrl(n)||this.reportHelper.addLink(n.href)}}},{key:"getMetaTagXpathAttributeSelector",value:function(t){var e=t.getAttribute("name"),n=t.getAttribute("property");return null!=e?"[@name=".concat(e,"]"):"[@property=".concat(n,"]")}},{key:"getImageTranslationDataSrcKey",value:function(t){var e=this.urlFormatterFactory.convertToFullUrl(t),n=this.urlFormatterFactory.createFromUrl(e).getNormalizedPageUrl(this.widget.isBackend(),this.widget.getBackendUrlPattern());return this.applyImageDomainOverride(n)}},{key:"applyImageDomainOverride",value:function(t){if(null===this.clientLocation)return t;var e=E(t);e.host=this.clientLocation.hostWithoutLangCode;return P(e)}},{key:"addReportableImage",value:function(t,e,n,r,o){this.addReportableAttributeGeneric(o.images,t,e,n,r)}},{key:"addReportableAttribute",value:function(t,e,n,r,o){this.addReportableAttributeGeneric(o.attributes,t,e,n,r)}},{key:"addReportableAttributeGeneric",value:function(t,e,n,r,o){t.push({attributeName:n,element:e,sourceKey:r,xpath:o});this.addSrcOfReportHelper(r,o,!1)}},{key:"reportBackgroundImages",value:function(t,e,n){var r=this;this.widgetData.domainOptions.canTranslateCssBackgroundImages()&&t.isInsideCssBackgroundImageScope&&st.canStyleChange(t)&&this.getBackgroundImagesForKeyLookup(t).forEach((function(o){var i=r.getImageTranslationDataSrcKey(o);r.imageTranslationLookup.find(i,e.toLangCode)||r.reportHelper.markHasNewMissedSrcIfFirstSeen(i);r.addReportableImage(t.element,"style",i,t.xpath+"[@background-image]",n)}))}},{key:"findTranslation",value:function(t,e,n){var r=this.lang.getDefaultCodeIfExists();this.setup(e,n,r);var o=this.translationLookup.findTranslation(t,n);return o?{src:o.src,created_at:o.created_at}:null}},{key:"findImageTranslation",value:function(t,e,n){var r=this.lang.getDefaultCodeIfExists(),o=this.setup(e,n,r),i=this.getImageTranslationDataSrcKey(t),a=this.imageTranslationLookup.find(i,o.toLangCode);return a?{src:a.dst_url,created_at:a.created_at}:null}},{key:"findDstFragments",value:function(t,e,n){var r=this.lang.getDefaultCodeIfExists();this.setup(e,n,r);var o=t,i=null,a="",u=!1,s=!0,l=this.translationLookup.findTranslation(t.src,n);if(l){s=l.is_html;u=l.is_page_translation;i=(o=l).created_at;a=o.published_dst;o.fragments.length!==t.fragments.length&&(o=this.valuesStackBalancer.addEmptyTextNodes(o))}return{is_html:s,published_dst:a,is_page_translation:u,created_at:i,fragments:o.fragments,src:o.src}}},{key:"setup",value:function(t,e,n){var r=this,o=this.liveEditorSettings.isEnabled,i=t===e&&t===n,a=!1;if(this.translationLookup.isEmpty&&this.imageTranslationLookup.isEmpty){this.refreshCache();a=this.snippetSettings.isBackend&&this.snippetSettings.currentLang!==n&&i}return{defaultLangCode:n,fromLangCode:t,toLangCode:e,tags:{a:o||i&&!a?this.noop:function(t){return r.replaceHref(e,t)},area:o||i&&!a?this.noop:function(t){return r.replaceHref(e,t)},form:function(t){return r.replaceForm(e,t)},iframe:function(t){return r.replaceIframeSrc(e,t)}}}}},{key:"getAttr",value:function(t,e,n,r){var i=this.getOriginalStoredAttrValue(r,t,e);if("src"===e){if(null!==i)return i;var a=t.getAttribute("src");return o(a,"#")?null:this.snippetSettings.urlPattern!==Na.Path||/^(https?:\/\/|\/)/.test(a)?a:this.url.getUrl(n,a,!0)}return null!==i?i:t.getAttribute(e)}},{key:"changeTag",value:function(e,n){var r=this;if(!er(n.ignoreType)){var o=n.nodeName.toLowerCase(),i=e.tags[o];i&&i(n);for(var a=this.attributes.getSwappableAttributes(n),u=0;u<a.length;++u){var s=a[u],l=ga.isSrcsetImage(n,s),c=l||ga.isImageUrl(n,s);if(!c||!this.imageTranslationLookup.isEmpty){var f=this.getAttr(n,s,e.defaultLangCode,e);if(f){var p=this.getAttributeTranslationDataSrcKey(f);if(c)if(l){var d=this.translateSrcset(f,e.toLangCode);n.setAttributeIfNeeded("srcset",d)}else{var h=this.getImageTranslationDataSrcKey(p),y=this.imageTranslationLookup.find(h,e.toLangCode);if(null==y||!y.dst_url){this.restoreOriginalAttribute(e,n,s);continue}n.setAttributeIfNeeded(s,y.dst_url)}else{var g=this.translationLookup.findTranslation(p,e.toLangCode);if(!g){this.restoreOriginalAttribute(e,n,s);continue}var v=t.toText(g);n.setAttribute(s,fa.unescape(v))}}}}if(this.widgetData.domainOptions.canTranslateCssBackgroundImages()&&n.isInsideCssBackgroundImageScope&&st.canStyleChange(n)){var m=this.getBackgroundImagesForKeyLookup(n);if(m.length>0){var b=!1,w=m.map((function(t){var n=r.getImageTranslationDataSrcKey(t),o=r.imageTranslationLookup.find(n,e.toLangCode);o&&(b=!0);return o?o.dst_url:t}));b?this.replaceBackgroundImages(n,w):this.restoreBackgroundImage(n)}}}}},{key:"getAttributeTranslationDataSrcKey",value:function(t){return this.textNormalizer.normalizeText(t)}},{key:"replaceBackgroundImages",value:function(t,e){var n=t.style.getPropertyPriority("background-image"),r=e.map((function(t){return"url("+t+")"})).join(", ");t.style.setProperty("background-image",r,n)}},{key:"setOriginalBackgroundImageAttributeIfNeeded",value:function(t){var e=ia("background-image");if(!t.hasAttribute(e)){var n=t.style.getPropertyValue("background-image")||"";if(n||!/^(none)?$/.test(t.backgroundImageProperty)){"important"===t.style.getPropertyPriority("background-image")&&(n+="!important");t.setAttribute(e,n)}}}},{key:"forceBackgroundImages",value:function(t,e){var n=new Ja("",t,Yn.None),r="";this.setOriginalBackgroundImageAttributeIfNeeded(n);e.length>0&&(r=e.map((function(t){return"url(".concat(t,")")})).join(", "));n.style["backgroundImage"]=r}},{key:"getBackgroundImagesForKeyLookup",value:function(t){var e=t.style.getPropertyValue("background-image")||"",n=t.style.getPropertyPriority("background-image");this.restoreBackgroundImage(t);var r=ia("background-image"),o=t.hasAttribute(r)?t.getAttribute(r).split("!")[0]:"",i=o.length>0?o:t.backgroundImageProperty;t.style.setProperty("background-image",e,n);return i?function(t){var e=[];t.split(/,\s+/).forEach((function(t){var n=/^url\(["']?([^"']+?)["']?\)?$/.exec(t);n&&e.push(n[1])}));return e}(i).map((function(t){return E(t).href})):[]}},{key:"changeUv",value:function(t,e){var n=e.translationDataSrcKey,r=this.translationLookup.findTranslation(n,t.toLangCode);r?this.unifiedValuesReplace(e,r):this.fragmentedValueReplace(e,t)}},{key:"changeInstantUv",value:function(t,e){var n=this,r=e.translationDataSrcKey,o=this.translationLookup.findTranslation(r,t);if(o){this.storeOriginalValueStackTexts(e);this.unifiedValuesReplace(e,o)}else this.instantTranslationController.translate(r,t).then((function(i){var a=i.body;o=n.valuesStackGenerator.createValuesStackFromHtml(a.dst);n.translationManager.addInstantTranslation(r,a.dst,t);n.storeOriginalValueStackTexts(e);n.unifiedValuesReplace(e,o)}))}},{key:"unifiedValuesReplace",value:function(e,n){var r=t.extractTextNodes(e),o=t.extractTextNodes(n);if(r.length===o.length)for(var i=e.fragments[0].node.parentNode,s=0;s<r.length;++s){var l=r[s],c=o[s];if(l.isText){l.lookahead.forEach((function(t){t.nodeValue=""}));var f=c.isText?c.label:"",p=c?t.keepWhiteSpace(l.original,f):"";l.node.nodeValue!==p&&(l.node.nodeValue=p)}else if(c.isText){var d=a(c.label)?u(c.label):c.label,h=document.createTextNode(d);if(l.isOpen||l.isSentinel){var y=l.node?l.node.parentNode:i;if(l.isOpen)y.insertBefore(h,l.node);else if(l.isSentinel&&l.fragment.isOpen&&Ou(l.fragment.node.nodeName.toLowerCase()))l.fragment.node.insertBefore(h,l.fragment.node.firstChild);else if(l.isSentinel){var g=Ae(l.fragment.node);y.insertBefore(h,g)}}else l.isClose&&l.node.appendChild(h);this.putComment(h,"")}}}},{key:"fragmentedValueReplace",value:function(e,n){var r=this;e.fragments.forEach((function(e){if(qi(e)){var o=e.translationDataSrcKey,i=r.translationLookup.findTranslation(o,n.toLangCode);if(i&&0!==i.fragments.length){var a=i.fragments[0].label;if(a){r.storeOriginalText(e.nodes);var u=t.keepWhiteSpace(e.original,a);e.node.nodeValue!==u&&(e.node.nodeValue=u)}}else r.restoreOriginalText([e.node])}}))}},{key:"getOriginalStoredAttrValue",value:function(t,e,n){var r=this.getStoredAttrValue(t.fromLangCode,t.toLangCode,t.defaultLangCode,e,n);if(!r.hasOriginal)return null;if(r.changed){e.element.removeAttribute(r.originalSrcAttr);this.storeOriginalAttr(t,e,r.attr);return null}return r.original}},{key:"getStoredAttrValue",value:function(t,e,n,r,o){var i,a=ia(o),u=r.getAttribute(a),s=this.textNormalizer.normalizeText(u,!0),l=!!u,c=r.getAttribute(o),f=t==n?e:t,p=this.translationLookup.findTranslation(s,f),d=ga.isSrcsetImage(r,o),h=ga.isImage(r)||d;if(!p&&l&&h){if("src"===o){var y=this.getImageTranslationDataSrcKey(u),g=this.imageTranslationLookup.find(y,f);p=null==g?void 0:g.dst_url}else d&&(p=this.translateSrcset(u,f));var v=null==p||ou(c)&&ou(p);i=l&&c!==u&&p!==c&&!v}else i=l&&c!==u&&p&&p.fragments[0]&&fa.unescape(p.fragments[0].label)!==c;return{attr:o,originalSrcAttr:a,hasOriginal:l,changed:!!i,current:c,original:u}}},{key:"storeOriginalTag",value:function(t,e){if(!er(e.ignoreType)){var n,r=_u(this.attributes.getSwappableAttributes(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;this.storeOriginalAttr(t,e,o)}}catch(t){r.e(t)}finally{r.f()}this.widgetData.domainOptions.canTranslateCssBackgroundImages()&&e.isInsideCssBackgroundImageScope&&st.canStyleChange(e)&&this.setOriginalBackgroundImageAttributeIfNeeded(e)}}},{key:"storeOriginalAttr",value:function(t,e,n){if(!er(e.ignoreType)){var r=ga.isSrcsetImage(e,n);if(!(ga.isMetaImage(e)||r||ga.isImageUrl(e,n))||!this.imageTranslationLookup.isEmpty){var o=this.getStoredAttrValue(t.fromLangCode,t.toLangCode,t.defaultLangCode,e,n);!o.hasOriginal&&o.current&&e.setAttribute(o.originalSrcAttr,o.current)}}}},{key:"restoreOriginalTag",value:function(t,e){if(!er(e.ignoreType)){var n=t.tags[e.nodeName.toLowerCase()];n&&n(e);for(var r=this.attributes.getSwappableAttributes(e),o=0;o<r.length;++o)this.restoreOriginalAttribute(t,e,r[o]);this.restoreBackgroundImage(e)}}},{key:"restoreOriginalAttribute",value:function(t,e,n){var r=this.getOriginalStoredAttrValue(t,e,n);if(null!==r){e.setAttributeIfNeeded(n,r);e.element.removeAttribute(ia(n))}}},{key:"restoreBackgroundImage",value:function(t){if(st.canStyleChange(t)){var e=ia("background-image");if(t.hasAttribute(e)){var n=t.getAttribute(e).split("!"),r=n[0],o=n[1]||"";r!==(t.style.getPropertyValue("background-image")||"")&&t.style.setProperty("background-image",r,o)}}}},{key:"storeOriginalValueStackTexts",value:function(t){var e=this;t.fragments.forEach((function(t){qi(t)&&e.storeOriginalText(t.nodes)}))}},{key:"storeOriginalText",value:function(t){var e=t[0];this.putComment(e,gt.reduce(t,(function(t,e){return t+e.data}),""))}},{key:"putComment",value:function(t,e){this.unifiedValueComments.insertOriginalSrcComment(t,e)}},{key:"restoreOriginalText",value:function(e){var n=e[0],r=this.unifiedValueComments.getOriginalSrcFromComment(n);if(null!==r){n.data=t.keepWhiteSpace(n.data,r);for(var o=1;o<e.length;++o)e[o].data="";this.unifiedValueComments.removeOriginalSrcComment(n)}}},{key:"addSrcOfReportHelper",value:function(t,e,n,r){this.textNormalizer.isNormalizedEmpty(t)||this.reportHelper.addSrc(t,e,n,r)}},{key:"refreshCache",value:function(){var t=this.widgetData.pageData.getTranslationData(),e=this.translationDataStorage.load()||new gu,n=gu.createFromServer(this.dynamicLoadingManager.getLoadedTranslations());this.translationManager.setInitialState(e,t,n)}},{key:"replaceHref",value:function(t,e){this.replaceLinkTag(t,e,"href")}},{key:"replaceIframeSrc",value:function(t,e){this.replaceLinkTag(t,e,"src")}},{key:"replaceLinkTag",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"href",r=e.element,o=this.linkTranslationsManager.findTranslation(r,t,n);if(o)this.linkTranslationsManager.applyTranslation(r,o,n);else{this.linkTranslationsManager.isPreviouslyTranslated(r)&&this.linkTranslationsManager.removeTranslation(r,n);var i=this.url.langUrl(t,r,n);if(i){var a=e.getAttribute(n);i!==a&&i!==this.urlFormatterFactory.convertToFullUrl(a)&&e.setAttribute(n,i)}}}},{key:"translateSrcset",value:function(t,e){var n=this,r=this.srcSetUtils.parseAndResolveSrcSetUrls(t),o=t;Object.keys(r).forEach((function(t){var i=n.getImageTranslationDataSrcKey(t),a=n.imageTranslationLookup.find(i,e),u=null==a?void 0:a.dst_url;if(u){var s=Ai()(r[t]),l=new RegExp(s,"g");o=o.replace(l,u)}}));return o}},{key:"replaceForm",value:function(t,e){var n=e.getAttribute("method"),r=e.getAttribute("action");if(!r||0==r.length){e.setAttribute("action",this.urlFormatterFactory.convertToFullUrl(location.href));r=location.href}if(this.snippetSettings.urlPattern!==Na.Query||n&&"GET"!==n.toUpperCase())this.replaceLinkTag(t,e,"action");else{if(this.url.shouldIgnoreLink(r))return;for(var o=this.snippetSettings.langParamName,i=e.element.children,a=i.length-1;a>=0;a--){var u=i[a];if("INPUT"===u.tagName&&u.getAttribute("name")===o&&"hidden"===u.getAttribute("type")){u.setAttribute("value",t);return}}var s=document.createElement("input");s.setAttribute("type","hidden");s.setAttribute("name",o);s.setAttribute("value",t);e.element.appendChild(s)}}},{key:"noop",value:function(){}},{key:"beforeSwapUnifiedValue",value:function(t){Ct("beforeSwapUnifiedValue",{rootNode:t})}},{key:"propertyValueSwapper",get:function(){return this.widget.c("PropertyValueSwapper")}},{key:"linkTranslationsManager",get:function(){return this.widget.c("LinkTranslationsManager")}}],r=[{key:"keepWhiteSpace",value:function(t,e){return!e&&a(t)?t:e&&a(e)?u(e):fa.unescape(e)||""}},{key:"extractTextNodes",value:function(t){if(0==t.fragments.length)return[];for(var e=[],n=0;n<t.fragments.length;++n){var r=t.fragments[n];e.push(r);r.isText&&++n}t.lastFragment.isText||e.push({isSentinel:!0,fragment:t.lastFragment,node:t.lastFragment.node});return e}},{key:"toText",value:function(t){return t.fragments.filter((function(t){return t.isText})).map((function(t){return t.label})).join("")}}],n&&xu(e.prototype,n),r&&xu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Iu(){if(!window["_wovnWrappedHistoryApi"]){window["_wovnWrappedHistoryApi"]=!0;history.pushState=Du(history.pushState);history.replaceState=Du(history.replaceState);window.addEventListener("popstate",(function(){Ct(Nu.HISTORY_STATE_CHANGED)}))}}function Du(t){return function(e,n,r){var o=t.apply(this,arguments);Ct(Nu.HISTORY_STATE_CHANGED,{newHistoryState:{data:e,title:n,url:r}});return o}}var Nu={HISTORY_STATE_CHANGED:"wovnHistoryStateChanged"};function Ru(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Uu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Uu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vu(t,e,n,r,i,a,u,s){this.location=u;this.history=s;var l=!1;this.reset=function(){l=!1};var c={urlPattern:null};this.getOptions=function(){if(l)return c;var e=t.getBackendUrlPattern();if(null!=e){c.urlPattern=e;l=!0}else{var n=i.domainOptions.getLangPath();if(n){if("query"===n)c.urlPattern="query";l=!0}}return c};this.setOptions=function(t){var e=this.getOptions();for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n])};this.getLangCode=function(t){var r=E(t||this.location.href);t=r.href;var o,a=null,u=null;switch(this.getOptions().urlPattern){case"query":var s=e.langParamName;o=new RegExp("((\\?.*&)|\\?)"+s+"=([^#&]+)(#|&|$)");u=(a=t.match(o))?a[3]:null;break;case"hash":var l=e.langParamName;o=new RegExp("((\\#.*&)|\\#)"+l+"=([^&]+)(&|$)");u=(a=t.match(o))?a[3]:null;break;case"subdomain":o=new RegExp("://([^.]+).");u=(a=t.match(o))?a[1]:null;break;case"custom_domain":u=this._customDomainUrlHandler().getLanguage(t);break;case"path":var c,f=[],p=Ru(e.sitePrefixPaths);try{for(p.s();!(c=p.n()).done;){var d=c.value,h=d.length>0?"/".concat(d,"/"):"/";f.push(new RegExp(h+"([^/#?]+)","i"))}}catch(t){p.e(t)}finally{p.f()}for(var y=0,g=f;y<g.length;y++){var v=g[y];if(u=(a=r.pathname.match(v))?a[1]:null)break}}if(u){var m=n.find(u);if(m){var b=!m.alias||u==m.displayLanguage,w=gt.includes(i.domainOptions.getDomainLangs(),m.languageInfo.code);if(b&&w)return m.languageInfo.code}}return this._langComponent().getDefaultCodeIfExists()};this.getFlags=function(t){var n=(t=t||this.location.href).match(/#[^?]*$/);n=n?n[0]:"#";var r=e.langParamName,o=new RegExp("(^|#|&)"+r+"=([^#&]*)(&|#|$)"),i=n.match(o);return!i||i.length<3||""===(i=i[2].replace(/,(,+)/g,",").replace(/^,|,$/g,""))?[]:i.split(",")};this.hasFlag=function(t,e){e=e||this.location.href;return-1!==this.getFlags(e).indexOf(t)};this.getUrl=function(t,e,n){var r=b(e=e||this.location.href,this.location);if("http"!==r&&"https"!==r)return e;if(!n&&O(e))return e;var o=this.getLangCode(e),i=this._langComponent().getCode(t),a=this.getOptions().urlPattern;return this._urlFormatterFactory().createFromUrl(e).getConvertedLangUrl(o,i,a)};this._isTranslatableHref=function(t){var e=b(t,this.location);return"http"!==e&&"https"!==e?null:!t.match(/\s*\{\{.+\}\}\s*$/)&&!o(t,"#")};this.langUrl=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"href",o=n.getAttribute(r),i=this.getOptions();if(!i.urlPattern||!o||!this._isTranslatableHref(o))return null;var a,u,s=E(o),l=E(this.getLocationWithoutBackendLanguage(s));if(this.isExcludedUrl(l)||O(o))return(u=e.urlPattern)!=Na.Path&&u!=Na.CustomDomain||A(a=o)||x(a)?Ra(e.urlPattern)&&!A(o)?l:null:l;if(this._hostAliasMatcher().isMatch(s.host.toLowerCase())||"subdomain"===i.urlPattern||"custom_domain"===i.urlPattern){if(""===o||o.match(/^[#?]/))return null;o=s.protocol+"//"+s.host+s.pathname+s.search+s.hash;if("subdomain"===i.urlPattern){if(s.host.toLowerCase()!==this.location.host.toLowerCase()){o=o.replace(new RegExp("://"+this._langComponent().getLangIdentifier(this.getLangCode(o))+"\\.","i"),"://");var c=E(o),f=this.location.href.replace(new RegExp("://"+this._langComponent().getLangIdentifier(this.getLangCode(this.location.href))+"\\.","i"),"://"),p=E(f);if(c.host.toLowerCase()!==p.host)return null}}else if("custom_domain"===i.urlPattern){if(!this._customDomainUrlHandler().getLanguage(o))return null}return this.getUrl(t,o)}return null};this.isExcludedUrl=function(t){var e=i.domainOptions.getExcludedPaths(),n=i.domainOptions.getExcludedUrls();return e.some((function(e){return o(t.pathname,e)}),this)||n.some((function(e){return this._matchesExcludedUrl(e,t)}),this)};this._matchesExcludedUrl=function(t,e){return this._hostAliasMatcher().isMatch(e.toString())&&this._hostAliasMatcher().isMatch(t.toString())&&e.pathname===t.pathname};this.changeUrlIfNeeded=function(t){a.isEnabled||r.disableNavigation||this._urlShouldHaveLangCodeAdded(t)&&this._changeUrl(t)};this._urlShouldHaveLangCodeAdded=function(t){return!i.domainOptions.hasFeature("no_automatic_redirection")&&(("query"===i.domainOptions.getLangPath()||e.isBackend&&null!=e.urlPattern)&&this.getLangCode()!==t)};this._changeUrl=function(t){var e=this.getUrl(t);try{if(i.domainOptions.isForceReloadEnabled())throw new Error("dummy exception");var n=this.history.state||{};n["wovn"]=t;this.history.replaceState(n,null,e)}catch(t){this.location.href=e}};this.getEncodedLocation=function(e){return t.getEncodedLocation(e)};this.getLocationWithoutBackendLanguage=function(e){return t.getLocation(e)};this.getDomainPort=function(t){return function(t){var e=v.DOMAIN_AND_PORT.exec(t);return e?e[2]:""}(t)};this.shouldIgnoreLink=function(e){if(t.isBackend()){e=this._urlFormatterFactory().createFromUrl(e).getNormalizedPageUrl(t.isBackend(),t.getBackendUrlPattern())}var n=E(e).host;return!this._hostAliasMatcher().isMatch(n)};this._hostAliasMatcher=function(){return t.c("HostAliasMatcher")};this._urlFormatterFactory=function(){return t.c("UrlFormatter")};this._langComponent=function(){return t.c("Lang")};this._customDomainUrlHandler=function(){return t.c("CustomDomainUrlHandler")}}function Hu(t){return Hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(t)}function Mu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fu(r.key),r)}}function Bu(t,e,n){return(e=Fu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fu(t){var e=function(t,e){if("object"!=Hu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hu(e)?e:e+""}var Wu=function(){return t=function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Bu(this,"lastHref",null);Bu(this,"onUrlChangedCallback",(function(){}));Bu(this,"onHistoryStateChanged",(function(t){if(!t.newHistoryState||!(e=t.newHistoryState.data)||"string"!=typeof e.wovn){var e;r.refreshWidget()}}));Bu(this,"onTurbolinksPageChanged",(function(){return r.refreshWidget()}));Bu(this,"onHashChanged",(function(){return r.refreshWidget()}));this.widget=e;this.urlComponent=n},(e=[{key:"refreshWidget",value:function(){var t=this.widget.getLocation();if(!this.hasUrlNotChanged(t)){this.lastHref=t;this.onUrlChangedCallback()}}},{key:"hasUrlNotChanged",value:function(t){return this.lastHref===t||this.isUrlLanguageUnchanged(t)}},{key:"listen",value:function(t){this.onUrlChangedCallback=t;this.lastHref||(this.lastHref=this.widget.getLocation());st.onEvent(window,"hashchange",this.onHashChanged);window.Turbolinks?st.onEvent(document,"turbolinks:load",this.onTurbolinksPageChanged):st.onEvent(document,Nu.HISTORY_STATE_CHANGED,this.onHistoryStateChanged)}},{key:"stop",value:function(){st.removeHandler(document,Nu.HISTORY_STATE_CHANGED,this.onHistoryStateChanged);st.removeHandler(document,"turbolinks:load",this.onTurbolinksPageChanged);st.removeHandler(window,"hashchange",this.onHashChanged)}},{key:"destroy",value:function(){this.stop()}},{key:"isUrlLanguageUnchanged",value:function(t){var e=this.urlComponent.getLangCode(t),n=this.urlComponent.getUrl(e,this.lastHref);return this.urlsAreEquivalentIgnoringTrailingSlash(t,n)}},{key:"urlsAreEquivalentIgnoringTrailingSlash",value:function(t,e){var n=E(t),r=E(e),o="/"==n.pathname?"":n.pathname,i="/"==r.pathname?"":r.pathname;return n.protocol===r.protocol&&n.host===r.host&&o===i&&n.search===r.search&&n.hash===r.hash}}])&&Mu(t.prototype,e),n&&Mu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function qu(t){var e=t.querySelector("script[data-wovnio]");if(e)return e;for(var n=new RegExp("\\/\\/j\\.(dev-|staging\\d-)?wovn\\.(io|com)"),r=t.querySelectorAll("script"),o=0;o<r.length;o++)if(n.test(r[o].getAttribute("src")))return r[o];return null}function zu(t){return zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zu(t)}function Gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ju(r.key),r)}}function Ju(t){var e=function(t,e){if("object"!=zu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zu(e)?e:e+""}var $u=function(){return t=function t(e,n,r,o,i,a,u,s,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.data=n;this.textNormalizer=r;this.inSiteSearcher=o;this.auditTrigger=i;this.lang=a;this.cookieStore=u;this.supportedLanguages=s;this.apiStatus=l},e=[{key:"urlComponent",get:function(){return this.widget.c("Url")}},{key:"widgetInterface",get:function(){return this.widget.c("Interface")}},{key:"domAuditor",get:function(){return this.widget.c("DomAuditor")}},{key:"widgetInit",get:function(){return this.widget.c("WidgetInit")}},{key:"srcChildTextContentExtractor",get:function(){return this.widget.c("SrcChildTextContentExtractor")}},{key:"changeLang",value:function(t){var e=this;if(!this.isApiReady())return!1;var n=this.lang.getCode(t);if(!n)return!1;this.widgetInterface.changeLangByCode(n,(function(t){e.urlComponent.changeUrlIfNeeded(t)}));return!0}},{key:"getCurrentLang",value:function(){return this.isApiReady()?this.lang.get(this.lang.getActualLang()):this.lang.get("en")}},{key:"getWovnUrl",value:function(t){if(!this.isApiReady())return t;var e=this.lang.getActualLang();return this.urlComponent.getUrl(e,t)}},{key:"swap",value:function(t){if(this.isApiReady()){var e=this.getCurrentLang();if(e){var n=e.code;this.domAuditor.supervisedSwapVals(n,t)}}}},{key:"manualStart",value:function(){var t=this;this.isApiReady()?this.widgetInit.startSwapping():addEventListener("wovnApiReady",(function(){t.widgetInit.startSwapping()}))}},{key:"overrideDomainOptions",value:function(t){var e=this;this.isApiReady()?this.data.domainOptions.setOverrides(t):addEventListener("wovnApiReady",(function(){e.data.domainOptions.setOverrides(t)}))}},{key:"optOut",value:function(){var t=this,e=function(){t.cookieStore.optOut()};this.isApiReady()?e():addEventListener("wovnApiReady",(function(){return e()}))}},{key:"optInCookies",value:function(){var t=this,e=function(){t.cookieStore.optIn()};this.isApiReady()?e():addEventListener("wovnApiReady",(function(){return e()}))}},{key:"getSourceText",value:function(t){return this.isApiReady()?this.srcChildTextContentExtractor.extract(t):null}},{key:"getSourceAttribute",value:function(t,e){if(!this.isApiReady())return null;var n=ia(e);return t.getAttribute(n)||t.getAttribute(e)}},{key:"getTextTranslation",value:function(t,e){if(!this.isApiReady())return t;for(var n=this.textNormalizer.normalizeText(t,!0),r=this.data.pageData.getTranslationData(),o=[r.htmlTextVals,r.textVals],i=0;i<o.length;++i){var a=o[i];if(a[n]&&a[n][e])return a[n][e][0].data}return t}},{key:"translateTexts",value:function(t,e,n){var r=this;if(!this.isApiReady())return gt.toObject(n,(function(t){return t}),(function(t){return t}));var o=this.lang.getDefaultCodeIfExists();if(t!==o){console.warn("Deprecated API usage. fromLang must be the source language of the page (".concat(o,")"));return gt.toObject(n,(function(t){return t}),(function(t){return t}))}return gt.toObject(n,(function(t){return t}),(function(t){return r.getTextTranslation(t,e)}))}},{key:"isPublished",value:function(t){if(!this.isApiReady())return null;var e=this.supportedLanguages.find(t);return!!e&&this.data.pageData.isPublished(e.languageInfo.code)}},{key:"search",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!r)throw new Error("errorCallback is required");if(n)if(e){if(t)return this.inSiteSearcher.search(t,e,o).then((function(t){n(t);return t}),r);r("query is required")}else r("language is required");else r("callback is required")}},{key:"isApiReady",value:function(){return this.apiStatus.isApiReady()}},{key:"triggerAudit",value:function(){this.isApiReady()&&this.auditTrigger.refresh()}},{key:"version",value:function(){return{hash:p.BUILD_HASH,build_id:p.BUILD_ID,build_time:p.BUILD_TIME}}},{key:"stop",value:function(){var t=this;return this.lang.setDocLang(this.lang.getDefaultCodeIfExists()).then((function(){t.widget.destroy();t.destroyWidgetApi()}))}},{key:"destroyWidgetApi",value:function(){var t=window;t.WOVN=void 0;t.Wovnio=void 0;document.WOVNIO=void 0}},{key:"start",value:function(){Qb(document,location,localStorage)}},{key:"restart",value:function(t){var e=this;return this.stop().then((function(){t&&e.replaceToken(t);e.start()}))}},{key:"replaceToken",value:function(t){var e=qu(document.documentElement),n=e.getAttribute("data-wovnio");if(n){n=n.replace(/key=[^&]+/,"key=".concat(t));e.setAttribute("data-wovnio",n)}}}],e&&Gu(t.prototype,e),n&&Gu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Ku(t){return Ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(t)}function Xu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Zu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Zu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qu(r.key),r)}}function Qu(t){var e=function(t,e){if("object"!=Ku(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ku(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ku(e)?e:e+""}var ts=function(){return t=function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);n=this,o=[],(r=Qu(r="readyCallbacks"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o;this.liveEditorSettings=e;this.apiReady=!1;this.readyCallbacks.push((function(){i.liveEditorSettings.isEnabledV1||Et(i.wovnApiReadyEvent)}));this.wovnApiReadyEvent=Ot("wovnApiReady",!0,!0)},(e=[{key:"makeReady",value:function(){this.apiReady=!0;this.dispatchWovnApiReadyEvent()}},{key:"addReadyCallback",value:function(t){this.apiReady||this.readyCallbacks.push(t)}},{key:"isApiReady",value:function(){return this.apiReady}},{key:"dispatchWovnApiReadyEvent",value:function(){var t,e=Xu(this.readyCallbacks);try{for(e.s();!(t=e.n()).done;)(0,t.value)()}catch(t){e.e(t)}finally{e.f()}this.dispatchWovnApiReadyEvent=function(){};this.readyCallbacks.length=0}}])&&Yu(t.prototype,e),n&&Yu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function es(t){return es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(t)}function ns(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,os(r.key),r)}}function rs(t,e,n){return(e=os(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function os(t){var e=function(t,e){if("object"!=es(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=es(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==es(e)?e:e+""}var is=function(t){t["AUDIT_STARTED"]="wovnAuditStarted";t["AUDIT_COMPLETED"]="wovnAuditCompleted";return t}({}),as=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);rs(this,"auditStartedCallbacks",[]);rs(this,"auditCompletedCallbacks",[])},(e=[{key:"subscribe",value:function(t,e){if(t){this.auditStartedCallbacks.push(t);addEventListener(is.AUDIT_STARTED,t)}if(e){this.auditCompletedCallbacks.push(e);addEventListener(is.AUDIT_COMPLETED,e)}}},{key:"triggerAuditStarted",value:function(t){this.auditStartedCallbacks.forEach((function(e){return e({auditNumber:t})}));Ct(is.AUDIT_STARTED,{auditNumber:t})}},{key:"triggerAuditCompleted",value:function(t){this.auditCompletedCallbacks.forEach((function(e){return e({auditNumber:t})}));Ct(is.AUDIT_COMPLETED,{auditNumber:t})}},{key:"destroy",value:function(){for(var t=0;t<this.auditStartedCallbacks.length;t++)removeEventListener(is.AUDIT_STARTED,this.auditStartedCallbacks[t]);for(var e=0;e<this.auditCompletedCallbacks.length;e++)removeEventListener(is.AUDIT_COMPLETED,this.auditCompletedCallbacks[e])}}])&&ns(t.prototype,e),n&&ns(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function us(t){return us="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(t)}function ss(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||fs(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ls(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=fs(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function cs(t){return function(t){if(Array.isArray(t))return ps(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||fs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fs(t,e){if(t){if("string"==typeof t)return ps(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ps(t,e):void 0}}function ps(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ds(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ys(r.key),r)}}function hs(t,e,n){return(e=ys(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ys(t){var e=function(t,e){if("object"!=us(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=us(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==us(e)?e:e+""}var gs="wovn-translate-widget",vs="wovn-languages",ms="wovn-detect-plugin",bs=function(t){t[t["Standard"]=0]="Standard";t[t["Custom"]=1]="Custom";return t}(bs||{}),ws=function(){return t=function t(e,n,r,o,i,a,u,s,l,c,f,p,d,h,y,g){var v=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);hs(this,"WIDGET_ID",gs);hs(this,"CUSTOM_WIDGET_ID",vs);hs(this,"appendedChildren",[]);hs(this,"scrollTop",0);hs(this,"scrollTopBefore",0);hs(this,"documentScrollTop",0);hs(this,"onHoldAnim",null);hs(this,"isChangingLang",!1);hs(this,"renderedAdditionalButtons",[]);this.data=e;this.lang=n;this.agent=r;this.performanceMonitor=o;this.externalComponentLoader=i;this.pageChecker=a;this.url=u;this.liveEditorSettings=s;this.liveEditButtonBuilder=l;this.translationFeedbackButtonBuilder=c;this.previewModeButtonBuilder=f;this.browserLanguageProvider=p;this.reportValuesButtonBuilder=d;this.wovnElementProvider=h;this.internalApi=y;this.widgetPreview=g;this.wovnElementProvider.registerWovnElement((function(){return v.getWidgetElements().map((function(t){return t.element})).concat(De())}))},e=[{key:"setWidgetLangChangeWord",value:function(t,e){if(this.data.domainOptions.useGenericLangWord()){var n=this.data.domainOptions.genericLangWord();this.setInnerHTMLByClass(t,"wovn-current-lang",n||"Language")}else this.setInnerHTMLByClass(t,"wovn-current-lang",e||"Language")}},{key:"setInnerHTMLByClass",value:function(t,e,n){st.toArrayFromDomList(t.getElementsByClassName(e)).forEach((function(t){t.innerHTML=n}))}},{key:"disableBrowserTranslation",value:function(){if(!st.getMetaElement("google",{value:"notranslate"})){var t=document.createElement("meta");t.setAttribute("name","google");t.setAttribute("value","notranslate");document.head.appendChild(t);this.appendedChildren.push(t)}}},{key:"animHideWidget",value:function(t){t&&(t.className=t.className.replace(/wovn--slide-in/,"wovn--slide-out"))}},{key:"animShowWidget",value:function(t){t&&(t.className=t.className.replace(/wovn--slide-out/,"wovn--slide-in"))}},{key:"scrollWidgetAction",value:function(){this.documentScrollTop=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);var t=this.getStandardWidgetElement(),e=document.getElementsByClassName("wovn-lang-container")[0];this.documentScrollTop<=this.scrollTop?this.animScrollUp(t.element,e):this.animScrollDown(t.element,e);this.scrollTop=this.documentScrollTop}},{key:"scrollStopWidgetAction",value:function(){this.documentScrollTop=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);var t=this.getStandardWidgetElement(),e=document.getElementsByClassName("wovn-lang-container")[0];this.documentScrollTop<=this.scrollTopBefore?this.animScrollUpThenStop(t.element,e):this.animScrollDownThenStop(t.element,e);this.scrollTopBefore=this.scrollTop;this.scrollTop=this.documentScrollTop}},{key:"animScrollUp",value:function(t,e){var n=this;null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);if(t&&!we(e,"is-open")){this.animShowWidget(t);this.onHoldAnim=setTimeout((function(){n.animHideWidget(t)}),1e3)}}},{key:"animScrollDown",value:function(t,e){var n=this;null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);t&&(we(e,"is-open")||(this.onHoldAnim=setTimeout((function(){n.animHideWidget(t)}),1e3)))}},{key:"animScrollUpThenStop",value:function(t,e){var n=this;null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);if(t&&!we(e,"is-open")){this.animShowWidget(t);this.onHoldAnim=setTimeout((function(){n.animHideWidget(t)}),4e3)}}},{key:"animScrollDownThenStop",value:function(t,e){var n=this;null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);if(t&&!we(e,"is-open")){this.animShowWidget(t);this.onHoldAnim=setTimeout((function(){n.animHideWidget(t)}),4e3)}}},{key:"scrollStop",value:function(t){var e;st.onEvent(window,"scroll",(function(){window.clearTimeout(e);e=setTimeout((function(){t()}),300)}),!0)}},{key:"projectLangs",get:function(){var t=this.data.getConvertedLangs();return t=this.ensureDefaultLangInList(t)}},{key:"ensureDefaultLangInList",value:function(t){var e=this.data.pageData.getLang(),n=cs(t);if(e){var r=this.lang.get(e);t.some((function(t){return t.code===r.code}))||n.unshift(r)}return n}},{key:"buildWidgetLangList",value:function(t){var e=t.className.match(/\bwovn-lang-list\b/)?t:t.getElementsByClassName("wovn-lang-list")[0];if(e){var n,r,o=this.projectLangs,i=this.url.getLangCode();i!=this.lang.getDocLang()&&(i=this.lang.getDocLang());-1===st.findIndex(o,(function(t){return t.code===i}))&&(i=this.lang.getDefaultCodeIfExists());var a,u=ls(o);try{for(u.s();!(a=u.n()).done;){var s=a.value;(n=document.createElement("li")).setAttribute("class","wovn-switch");n.innerHTML=s.name;n.setAttribute("data-value",s.code);if(s.code==i){n.setAttribute("class","wovn-switch selected");r=s.name}e.appendChild(n)}}catch(t){u.e(t)}finally{u.f()}this.setWidgetLangChangeWord(t,r)}}},{key:"changeLangByCode",value:function(t,e){this.changeLang(t,e)}},{key:"onLanguageSwitchClicked",value:function(t){var e=t.getAttribute("data-value");this.changeLang(e,null,Mt.WidgetLangSwitch)}},{key:"changeLang",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.performanceMonitor.mark(Br.ChangeLangStart,{newLang:t});if(this.isChangingLang)setTimeout((function(){n.changeLang(t,e,r)}),100);else{this.isChangingLang=!0;this.lang.setDocLang(t,r);this.performanceMonitor.mark(Br.ChangeLangEnd,{newLang:t});e&&e(t);var o,i=ls(this.getWidgetElements());try{for(i.s();!(o=i.n()).done;){var a=o.value;this.updateSelectedLanguage(a.element,t)}}catch(t){i.e(t)}finally{i.f()}this.isChangingLang=!1}}},{key:"updateSelectedLanguage",value:function(t,e){for(var n=t.getElementsByClassName("wovn-switch"),r=null,o=0;o<n.length;o++){be(n[o],"selected");if(n[o].getAttribute("data-value")===e){me(n[o],"selected");r=n[o]}}r&&this.isStandardWidgetElement(t)&&this.setWidgetLangChangeWord(t,r.textContent||r.innerText)}},{key:"attachLangClickHandlers",value:function(t){var e=this;if(t){var n=st.toArrayFromDomList(t.getElementsByClassName("wovn-switch"));0===n.length&&(n=st.toArrayFromDomList(t.getElementsByTagName("a")));0===n.length&&(n=st.toArrayFromDomList(t.getElementsByTagName("li")));if(0!==n.length){var r,o=ls(n);try{var i=function(){var t=r.value;st.onEvent(t,"click",(function(){e.onLanguageSwitchClicked(t)}))};for(o.s();!(r=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}}}},{key:"listenForDynamicallyAddedCustomWidget",value:function(){var t=this;this.dynamicallyAddedCustomWidgetDetector||(this.dynamicallyAddedCustomWidgetDetector=function(){t.checkForDynamicallyAddedCustomWidget()});Pt(is.AUDIT_COMPLETED,this.dynamicallyAddedCustomWidgetDetector)}},{key:"checkForDynamicallyAddedCustomWidget",value:function(){var t=this.getCustomWidgetElements().filter((function(t){return!t.element.getAttribute("data-ready")})),e=this.getStandardWidgetElement();if(t.length>0){e&&ve(e.element);this.shouldInsertWidgetElement()&&this.configureCustomWidget();this.renderedAdditionalButtons.forEach((function(t){return t.appendToDom(null==e?void 0:e.element)}))}}},{key:"configureCustomWidget",value:function(){var t,e=ls(this.getCustomWidgetElements());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.renderCustomWidget(n.element)}}catch(t){e.e(t)}finally{e.f()}}},{key:"renderCustomWidget",value:function(t){if("true"!==t.getAttribute("data-ready")){t.setAttribute("data-ready","true");t.setAttribute("data-theme","built-in");var e=t.getElementsByClassName("wovn-switch-template");if(0!==e.length){var n=e[0],r=n.className.match(/(^| )wovn-switch( |$)/i)||function(){for(var t=0;t<n.children.length;t++)if(n.children[t].className.match(/(^| )wovn-switch( |$)/i))return!0;return!1}();r||me(n,"wovn-switch");var o,i=document.createElement("div");i.appendChild(n.cloneNode(!0));var a,u=ls(this.projectLangs);try{for(u.s();!(a=u.n()).done;){var s=a.value;(o=document.createElement("div")).innerHTML=i.innerHTML.replace(/wovn-lang-name/g,s.name);o.getElementsByClassName("wovn-switch")[0].setAttribute("data-value",s.code);n.parentNode.insertBefore(o.children[0],n)}}catch(t){u.e(t)}finally{u.f()}ve(n)}else if(0===t.getElementsByClassName("wovn-switch").length)if(0===t.getElementsByTagName("a").length){t.innerHTML="";if("ul"===t.nodeName.toLowerCase()||"ol"===t.nodeName.toLowerCase())me(t,"wovn-lang-list");else{var l=document.createElement("ul");l.className="wovn-lang-list";t.appendChild(l)}this.buildWidgetLangList(t)}else for(var c=t.getElementsByTagName("a"),f=0;f<c.length;f++)c[f].className=c[f].className+(c[f].className.length>0?c[f].className+" ":"")+"wovn-switch";this.attachLangClickHandlers(t);this.updateSelectedLanguage(t,this.lang.getDocLang())}}},{key:"applyPosition",value:function(t,e){this.addPositionClass(t,e)}},{key:"addPositionClass",value:function(t,e){var n=ss(e.split("_"),2),r=n[0],o=n[1];me(t,"wovn--position-"+r);me(t,"wovn--position-"+o)}},{key:"shouldAutoHideWidget",value:function(){var t=this.data.pageData.getLang(),e=this.browserLanguageProvider.getLanguage(),n=this.lang.getDocLang();return this.data.domainOptions.autoHideWidget()&&null!==e&&t===e.code&&t===n&&e.isFirstUserPreference}},{key:"embeddedWidgetElement",get:function(){if(!this.data.domainOptions.isEmbeddedWidget)return null;var t=this.data.domainOptions.getWidgetStyle();return!this.agent.isMobile()||"default"!==t.type&&"slate"!==t.type?void 0!==this._embeddedWidgetElement?this._embeddedWidgetElement:this._embeddedWidgetElement=this.createEmbeddedWidgetElement():null}},{key:"createEmbeddedWidgetElement",value:function(){var t=document.querySelector(this.data.domainOptions.getEmbeddedWidgetSelector());if(!t)return null;var e=document.createElement("div");e.classList.add("wovn-embedded-widget");switch(this.data.domainOptions.getEmbeddedWidgetInsertionBehavior()){case Jn.FIRST_CHILD:t.prepend(e);break;case Jn.LAST_CHILD:t.appendChild(e);break;case Jn.PREVIOUS_SIBLING:if(!t.parentNode)return null;t.parentNode.insertBefore(e,t);break;case Jn.NEXT_SIBLING:if(!t.parentNode)return null;t.parentNode.insertBefore(e,t.nextSibling);break;default:e=null}return e}},{key:"isEmbedded",get:function(){return!!this.embeddedWidgetElement}},{key:"insertCustomColorVariables",value:function(){var t=function(t){var e=[];for(var n in t)t[n]&&e.push("--wovn-".concat(n,": ").concat(t[n],";"));return e.length>0?"#wovn-translate-widget[wovn] {\n    ".concat(e.join("\n"),"\n  }"):""}(this.data.domainOptions.getWidgetCustomColors());if(t){var e=ke(t);document.head.appendChild(e)}}},{key:"applyStandardWidgetOptions",value:function(t){this.isEmbedded||this.applyStandardWidgetPosition(t);var e=this.data.domainOptions.getWidgetStyle();me(t,"type-".concat(e.type));me(t,"wovn--color wovn--color-".concat(e.color));this.insertCustomColorVariables();this.data.domainOptions.hideLogo()&&me(t,"hide-logo");this.data.domainOptions.showTranslatedByMachine()&&me(t,"show-tbm");this.buildWidgetLangList(t);this.attachLangClickHandlers(t)}},{key:"applyUniversalWidgetOptions",value:function(){var t=this.data.domainOptions.getParcelForwardingProvider();t&&"JP"!==this.data.domainOptions.getCountryCode()&&this.externalComponentLoader.loadExternalComponents(["ParcelForwarding"]).then((function(e){ss(e,1)[0].start(t)}));this.data.domainOptions.notFoundUnpublish()&&this.data.pageData.getPublishedLangs().length>0&&this.pageChecker.notifyWovnIfNotFound()}},{key:"applyStandardWidgetPosition",value:function(t){this.agent.isMobile()?this.applyPosition(t,this.data.domainOptions.getMobilePosition()):this.applyPosition(t,this.data.domainOptions.getDesktopPosition())}},{key:"shouldInsertWidgetElement",value:function(){return this.data.pageData.hasPublishedLang()&&!this.liveEditorSettings.isEnabled}},{key:"build",value:function(){var t;ve(null===(t=this.getStandardWidgetElement())||void 0===t?void 0:t.element);ve(this.getHiddenTranslatePluginDetector());ve(De());for(;;){var e=document.getElementsByClassName("wovn-style");if(0==e.length)break;ve(e[0])}var n=this.data.domainOptions.getWidgetDisplayType(),r="widget"===n||"auto"===n&&0==this.getCustomWidgetElements().length;this.insertHiddenTranslatePluginDetector();if(this.shouldInsertWidgetElement()){this.applyUniversalWidgetOptions();r?this.shouldAutoHideWidget()||this.insertStandardWidgetElementsAndStyles():this.configureCustomWidget();this.refresh()}}},{key:"insertHiddenTranslatePluginDetector",value:function(){var t=document.createElement("div");t.id=ms;t.setAttribute("wovn-ignore","");t.setAttribute("style","visibility: hidden !important; position: fixed !important;");var e,n=ls(this.projectLangs);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=document.createElement("div");o.innerHTML=r.name;t.appendChild(o)}}catch(t){n.e(t)}finally{n.f()}document.body.appendChild(t);this.appendedChildren.push(t)}},{key:"getHiddenTranslatePluginDetector",value:function(){return document.getElementById(ms)}},{key:"insertStandardWidgetElementsAndStyles",value:function(){var t=this,e=ke("#".concat(gs,"[wovn] { display: none; }")),n=this.embeddedWidgetElement||document.createElement("div");n.innerHTML=Qt.languageSelector.standardHtml;n.appendChild(e);n.id=gs;n.setAttribute("wovn","");this.configureStandardWidgetHtml(n);this.isEmbedded&&document.head.appendChild(ke(this.data.domainOptions.getEmbeddedWidgetCustomCss(),"wovn-embedded-widget-css"));var r=n.getElementsByClassName("wovn-lang-selector")[0],o=n.getElementsByClassName("wovn-lang-container")[0],i=document.querySelector(".wovn-click-catcher");setTimeout((function(){t.animShowWidget(n)}),1e3);if(this.agent.isMobile()){n.className+=" mobile wovn--slide-out";st.onEvent(window,"scroll",(function(){return t.scrollWidgetAction()}),!0);st.onEvent(window,"click",(function(){return t.scrollStopWidgetAction()}));this.scrollStop((function(){return t.scrollStopWidgetAction()}));st.pageIsWidgetPreview()||(this.onHoldAnim=setTimeout((function(){t.animHideWidget(n)}),5e3))}st.onEvent(r,"click",(function(e){return t.openDropdown(e,o,i)}));st.onEvent(o,"click",(function(e){return t.closeDropDown(e,o,i,n)}));n.setAttribute("data-ready","true");this.applyStandardWidgetOptions(n);this.showWidgetIfNeeded({element:n,type:bs.Standard});this.isEmbedded||document.body.appendChild(n);this.hasRenderedStandardWidget=!0;this.appendedChildren.push(n);i||(i=this.addClickCatcher(n,o))}},{key:"configureStandardWidgetHtml",value:function(t){"floating"==this.data.domainOptions.getWidgetStyle().type?ve(t.querySelector("#wovn-logo--default")):ve(t.querySelector("#wovn-logo--floating"))}},{key:"openDropdown",value:function(t,e,n){null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);t.stopPropagation?t.stopPropagation():t.returnValue=!1;if(we(e,"is-open")){be(e,"is-open");n.style.display="none"}else{me(e,"is-open");n.style.display="block"}}},{key:"closeDropDown",value:function(t,e,n,r){var o=this;this.onHoldAnim=setTimeout((function(){o.animHideWidget(r)}),4e3);t.stopPropagation?t.stopPropagation():t.returnValue=!1;be(e,"is-open");n.style.display="none"}},{key:"addClickCatcher",value:function(t,e){var n=this,r=document.createElement("div");r.setAttribute("style","z-index:2147483646;position:fixed;display:none;top:0;right:0;bottom:0;left:0;background:transparent;pointer-events: auto;");r.setAttribute("class","wovn-click-catcher");st.onEvent(r,"click",(function(o){return n.closeDropDown(o,e,r,t)}));t.parentNode.insertBefore(r,t);return r}},{key:"getWidgetElements",value:function(){return[this.getStandardWidgetElement()].concat(this.getCustomWidgetElements()).filter((function(t){return null!=t}))}},{key:"getStandardWidgetElement",value:function(){var t=document.getElementById(gs);return t?{element:t,type:bs.Standard}:null}},{key:"getCustomWidgetElements",value:function(){return this.data.domainOptions.canShowCustomWidgets()?st.toArrayFromDomList(document.querySelectorAll("#"+vs+",."+vs)).map((function(t){return{element:t,type:bs.Custom}})):[]}},{key:"clearStandardWidgetLangList",value:function(){var t=this.getStandardWidgetElement();if(t){var e,n=ls(st.toArrayFromDomList(t.element.getElementsByTagName("li")));try{for(n.s();!(e=n.n()).done;)ve(e.value)}catch(t){n.e(t)}finally{n.f()}}}},{key:"reload",value:function(){this.clearStandardWidgetLangList();this.hasRenderedStandardWidget&&!this.getStandardWidgetElement()&&this.build();this.refresh()}},{key:"refresh",value:function(){var t,e=this,n=ls(this.getWidgetElements());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(0===r.element.getElementsByClassName("wovn-switch").length){this.buildWidgetLangList(r.element);this.attachLangClickHandlers(r.element)}this.showWidgetIfNeeded(r)}}catch(t){n.e(t)}finally{n.f()}this.renderedAdditionalButtons.forEach((function(t){var n;return t.appendToDom(null===(n=e.getStandardWidgetElement())||void 0===n?void 0:n.element)}))}},{key:"showWidgetIfNeeded",value:function(t){if(this.shouldShowWidget(t.element)){me(t.element,"wovn-is-visible");t.type===bs.Custom&&(t.element.style.display="block");this.disableBrowserTranslation()}else{be(t.element,"wovn-is-visible");t.type===bs.Custom&&(t.element.style.display="none")}}},{key:"shouldShowWidget",value:function(t){return t.getElementsByClassName("wovn-switch").length>1&&!this.shouldAutoHideWidget()&&this.data.domainOptions.hasDomainOptions()}},{key:"isWidgetElement",value:function(t){return Ce(t)&&(this.isStandardWidgetElement(t)||this.isCustomWidgetElement(t))}},{key:"isStandardWidgetElement",value:function(t){return t.id===gs}},{key:"isCustomWidgetElement",value:function(t){return t.id===vs||we(t,vs)}},{key:"destroy",value:function(){st.destroy();for(var t=0;t<this.appendedChildren.length;t++){ve(this.appendedChildren[t]);ve(document.querySelector(".wovn-live-edit-button"))}At(is.AUDIT_COMPLETED,this.dynamicallyAddedCustomWidgetDetector)}},{key:"addPreviewModeButton",value:function(){var t=this.getStandardWidgetElement(),e=ss(this.previewModeButtonBuilder.setWidgetStyle(this.data.domainOptions.getWidgetStyle(),this.isEmbedded).build(),2),n=e[0],r=e[1];n.appendToDom(null==t?void 0:t.element);this.widgetPreview.isEnabled&&r.appendToDom(null==t?void 0:t.element);this.renderedAdditionalButtons.push(n)}},{key:"addSessionTools",value:function(t){var e=this.internalApi.getTranslatePageLink();this.setWovnLink(e);this.addPreviewModeButton();this.addEditButton(t);this.data.domainOptions.hasFeature("send_translation_feedback")&&this.addTranslationFeedbackButton();this.addReportButton();this.data.domainOptions.hasFeature("draggable_widget")&&this.makeWidgetDraggable()}},{key:"setWovnLink",value:function(t){var e=this.getStandardWidgetElement();if(e)for(var n=e.element.querySelectorAll("a.wovn-logo"),r=0;r<n.length;++r)n[r].href=t}},{key:"addEditButton",value:function(t){var e=this,n=this.getStandardWidgetElement();n&&me(n.element,"show-live-edit-button");this.liveEditButtonBuilder.setWidgetStyle(this.data.domainOptions.getWidgetStyle(),this.isEmbedded).build(t).forEach((function(t){t.appendToDom(null==n?void 0:n.element);e.renderedAdditionalButtons.push(t)}))}},{key:"addTranslationFeedbackButton",value:function(){var t=this.getStandardWidgetElement();t&&me(t.element,"show-translation-feedback-button");var e=ss(this.translationFeedbackButtonBuilder.setWidgetStyle(this.data.domainOptions.getWidgetStyle(),this.isEmbedded).build(),2),n=e[0];e[1].appendToDom(null==t?void 0:t.element);n.appendToDom(null==t?void 0:t.element);this.renderedAdditionalButtons.push(n)}},{key:"addReportButton",value:function(){var t=this.getStandardWidgetElement();t&&me(t.element,"show-report-value-button");var e=ss(this.reportValuesButtonBuilder.setWidgetStyle(this.data.domainOptions.getWidgetStyle(),this.isEmbedded).build(),1)[0];e.appendToDom(null==t?void 0:t.element);this.renderedAdditionalButtons.push(e)}},{key:"makeWidgetDraggable",value:function(){var t=this,e=De(),n=e.parentElement,r=e.querySelector("svg");r.style.cursor="move";r.addEventListener("mousedown",(function(e){return t.onDragElement(e,n)}))}},{key:"onDragElement",value:function(t,e){t.preventDefault();t.stopPropagation();var n=e.getBoundingClientRect().top,r=0,o=t.clientY,i=t.clientY,a=function(t){r=o-i;a=e,["wovn--position-top","wovn--position-bottom"].forEach((function(t){return be(a,t)}));var a;e.style.top="".concat(n+r,"px");o=t.clientY};Pt("mousemove",a);_t("mouseup",(function(){return At("mousemove",a)}))}},{key:"isWovnLanguageSwitchesTranslated",value:function(){var t=this.getHiddenTranslatePluginDetector();if(t){var e,n=ls(this.projectLangs);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(-1===t.innerHTML.indexOf(r.name))return!0}}catch(t){n.e(t)}finally{n.f()}}return!1}}],e&&ds(t.prototype,e),n&&ds(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Ss(t){return Ss="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(t)}function ks(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ts(r.key),r)}}function Ts(t){var e=function(t,e){if("object"!=Ss(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ss(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ss(e)?e:e+""}var Cs=function(){return e=function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);a=this,s=0,(u=Ts(u="consecutiveErrorCount"))in a?Object.defineProperty(a,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[u]=s;var a,u,s;this.dynamicLoadingController=e;this.data=n;this.wovnWaitAuditListener=r;this.translationManager=o;this.liveEditorSettings=i;this.resetState()},(n=[{key:"resetState",value:function(){this.pendingTranslations={};this.loadedTranslations={};this.allDynamicLoadingResults={img_vals:{},text_vals:{},html_text_vals:{},page_text_vals:{}};clearTimeout(this.fallbackTimeout)}},{key:"destroy",value:function(){this.resetState()}},{key:"pendingSrcTexts",get:function(){return Object.keys(this.pendingTranslations)}},{key:"getLoadedTranslations",value:function(){return this.allDynamicLoadingResults}},{key:"handledSrcTexts",get:function(){return Object.keys(this.loadedTranslations)}},{key:"addTranslationRequest",value:function(t,e){e!==this.data.pageData.getLang()&&(this.liveEditorSettings.isEnabled||this.data.pageData.isPublished(e))&&(this.loadedTranslations[t]||null!=this.pendingTranslations[t]||(this.pendingTranslations[t]=!0))}},{key:"loadRequestedTranslations",value:function(){var e=this;if(this.consecutiveErrorCount>=20)return t.Promise.resolve();for(var n=Object.keys(this.pendingTranslations),r=[],o=0,i=n;o<i.length;o++){var a=i[o];if(r.length>=100)break;if(this.pendingTranslations[a]){r.push(a);this.pendingTranslations[a]=!1}}if(r.length>0){this.wovnWaitAuditListener.pause();this.fallbackTimeout=setTimeout((function(){e.wovnWaitAuditListener.removeWovnWait()}),5e3);return this.dynamicLoadingController.findTranslations(r).then((function(t){e.consecutiveErrorCount=0;r.forEach((function(t){e.loadedTranslations[t]=!0;delete e.pendingTranslations[t]}));var n=t.body;e.allDynamicLoadingResults=e.mergeDynamicLoadingResults(e.allDynamicLoadingResults,n);e.translationManager.updateDynamicLoadingTranslations(gu.createFromServer(e.allDynamicLoadingResults))}))["catch"]((function(){e.consecutiveErrorCount++;r.forEach((function(t){e.pendingTranslations[t]=!0}))}))["finally"]((function(){e.wovnWaitAuditListener.resumeOnNextAudit();clearTimeout(e.fallbackTimeout)}))}}},{key:"mergeDynamicLoadingResults",value:function(t,e){return{img_vals:st.assign({},t.img_vals,e.img_vals),text_vals:st.assign({},t.text_vals,e.text_vals),html_text_vals:st.assign({},t.html_text_vals,e.html_text_vals),page_text_vals:st.assign({},t.page_text_vals,e.page_text_vals)}}}])&&ks(e.prototype,n),r&&ks(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Os(t){return Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(t)}function Es(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ps(r.key),r)}}function Ps(t){var e=function(t,e){if("object"!=Os(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Os(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Os(e)?e:e+""}var _s=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.domAccessStrategy=null},(e=[{key:"setDomAccessStrategy",value:function(t){if(t&&this.domAccessStrategy)throw new Error("Concurrent use of CustomDomAccessor.");this.domAccessStrategy=t}},{key:"getParentNode",value:function(t){return this.domAccessStrategy?this.domAccessStrategy.getParentNode(t):t.parentNode}},{key:"getChildNodes",value:function(t){return this.domAccessStrategy?this.domAccessStrategy.getChildNodes(t):st.toArrayFromDomList(t.childNodes||[])}}])&&Es(t.prototype,e),n&&Es(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),As="data-wovn-original-property";function xs(t,e,n){Ls(e);var r=t["style"];n=n||{style:{}};for(var o=0,i=Object.keys(r);o<i.length;o++){var a=i[o];0==n.style.hasOwnProperty(a)&&(n.style[a]=e.style[a]);e.style[a]=r[a];Ds(e,a)}!function(t,e){e.setAttribute(As,X(t))}(n,e)}function js(t){if(t.getAttribute){var e=t.getAttribute(As);if(e)return JSON.parse(e)}return null}function Ls(t){var e=js(t);if(e&&e["style"])for(var n=e["style"],r=0,o=Object.keys(n);r<o.length;r++){var i=o[r];t.style[i]=n[i]}}function Is(t,e){xs(t,e,js(e))}function Ds(t,e){var n=e.replace(/([A-Z])/,"-$1").toLowerCase(),r=new RegExp("(("+n+": [^;]+?)( !important)?);","g");t.style.cssText=t.style.cssText.replace(r,"$1 !important;")}function Ns(t){return Ns="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(t)}function Rs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Us(r.key),r)}}function Us(t){var e=function(t,e){if("object"!=Ns(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ns(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ns(e)?e:e+""}var Vs=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.translationRepository=e},(e=[{key:"swap",value:function(t,e,n){n&&Ls(t);var r=this.translationRepository.find(t,e);r&&xs(r,t,null)}}])&&Rs(t.prototype,e),n&&Rs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Hs(t){return Hs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(t)}function Ms(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Bs(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bs(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Bs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ws(r.key),r)}}function Ws(t){var e=function(t,e){if("object"!=Hs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hs(e)?e:e+""}var qs=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.customDomAccessor=e;this.unifiedValueComments=n},(e=[{key:"extract",value:function(t){var e,n="",r=Ms(this.customDomAccessor.getChildNodes(t));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=new Yt(o);"#text"===i.nodeName&&(n+=this.unifiedValueComments.getOriginalSrcFromComment(o)||i.data||"")}}catch(t){r.e(t)}finally{r.f()}return n}}])&&Fs(t.prototype,e),n&&Fs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function zs(t){return zs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(t)}function Gs(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Js(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Js(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Js(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ks(r.key),r)}}function Ks(t){var e=function(t,e){if("object"!=zs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zs(e)?e:e+""}var Xs=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.customDomAccessor=e;this.srcChildTextContentExtractor=n;this.textNormalizer=r},(e=[{key:"select",value:function(t,e){var n=this,r=-1,o=null;t.forEach((function(t){if(n.isValidCandidatePropertyValue(t,e)){var i=t["dst"]["selectors"],a=n.getEstimationPoint(i,e);if(a>0&&r<=a){r=a;o=t}}}));return o||null}},{key:"isValidCandidatePropertyValue",value:function(t,e){for(var n=0,r=Object.keys(t["src_property"]);n<r.length;n++){var o=r[n],i=t["src_property"][o];if("childTextContent"===o){var a=this.srcChildTextContentExtractor.extract(e),u=this.textNormalizer.removeNormalizedWhitespace(a);return this.textNormalizer.removeNormalizedWhitespace(i)===u}if(i!==window.getComputedStyle(e)[o])return!1}return!0}},{key:"getEstimationPoint",value:function(t,e){var n,r=e,o=0,i=Gs(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if((r=this.customDomAccessor.getParentNode(r)).nodeName.toUpperCase()!==a["tag_name"].toUpperCase())return-1;if(r.parentNode&&r.parentNode["children"])for(var u=r.parentNode.children,s=a["position"]||0,l=0,c=0;c<u.length;c++){var f=u[c];if(f.nodeName.toUpperCase()==a["tag_name"].toUpperCase()){if(l===s){if(r!==f)return-1;break}l++}}o++;r.getAttribute&&r.getAttribute("id")==a["element_id"]&&(o+=10);if(a["classes"]&&r.className){var p,d=a["classes"],h=gt.toObject(r.className.split(/\s+/),(function(t){return t}),(function(){return!0})),y=Gs(d);try{for(y.s();!(p=y.n()).done;)h[p.value]&&(o+=10/d.length)}catch(t){y.e(t)}finally{y.f()}}}}catch(t){i.e(t)}finally{i.f()}return o}}])&&$s(t.prototype,e),n&&$s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Zs=n(5364),Ys=n.n(Zs);function Qs(t){return Qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(t)}function tl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return el(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?el(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rl(r.key),r)}}function rl(t){var e=function(t,e){if("object"!=Qs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qs(e)?e:e+""}var ol=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.propertyValues=e;this.bestPropertyValueSelector=n},e=[{key:"getPropertyValues",value:function(){return this.propertyValues}},{key:"find",value:function(t,e){var n=this.findPropertyValue(t,e);return n?n["dst"]:null}},{key:"findPropertyValue",value:function(t,e){var n=(this.propertyValues[e]||{})[t.nodeName]||[];return this.bestPropertyValueSelector.select(n,t)}},{key:"updatePropertyValueIndex",value:function(t,e,n){var r,o,i,a=e.nodeName,u=this.findPropertyValue(e,t);if(u){var s=this.propertyValues[t][a].findIndex((function(t){return e=t,n=u,JSON.stringify(e)===JSON.stringify(n);var e,n}));if(-1!==s)if(""===n.dst.style.fontSize){this.propertyValues[t][a].splice(s,1);0===this.propertyValues[t][a].length&&delete this.propertyValues[t][a]}else this.propertyValues[t][a][s]=n}else t in this.propertyValues&&a in this.propertyValues[t]?this.propertyValues[t][a].push(n):t in this.propertyValues?this.propertyValues[t][a]=[n]:this.propertyValues[t]=(r={},i=[n],(o=rl(o=a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)}},{key:"updateSavedPropertyValues",value:function(t){Ys()(this.propertyValues,t)}},{key:"getChangedPropertyValues",value:function(){this.initializeChangedPropertyMap();return Array.from(this.changedPropertyValues,(function(t){var e=tl(t,2);e[0];return e[1]}))}},{key:"setChangedPropertyValues",value:function(t,e){this.initializeChangedPropertyMap();this.changedPropertyValues.set(t,e)}},{key:"resetChangedPropertyValues",value:function(){this.changedPropertyValues=new Map}},{key:"initializeChangedPropertyMap",value:function(){this.changedPropertyValues=this.changedPropertyValues||new Map}}],e&&nl(t.prototype,e),n&&nl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function il(t){return il="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},il(t)}function al(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ul(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?al(Object(n),!0).forEach((function(e){sl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sl(t,e,n){return(e=cl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cl(r.key),r)}}function cl(t){var e=function(t,e){if("object"!=il(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=il(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==il(e)?e:e+""}var fl=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.executor=e},e=[{key:"get",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.executor.get(f(t,"/")+e,n,r,o)}},{key:"getAndParseJson",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.get(t,e,n,r,o).then((function(t){return ul(ul({},t),{},{body:JSON.parse(t.body)})}))}},{key:"post",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.executor.post(f(t,"/")+e,n,r,o)}},{key:"postAndParseJson",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.post(t,e,n,r,o).then((function(t){return ul(ul({},t),{},{body:JSON.parse(t.body)})}))}},{key:"put",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.executor.put(f(t,"/")+e,n,r,o)}},{key:"putAndParseJson",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.put(t,e,n,r,o).then((function(t){return ul(ul({},t),{},{body:JSON.parse(t.body)})}))}}],e&&ll(t.prototype,e),n&&ll(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function pl(t){return pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(t)}function dl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hl(r.key),r)}}function hl(t){var e=function(t,e){if("object"!=pl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pl(e)?e:e+""}function yl(t,e,n){return e=vl(e),function(t,e){if(e&&("object"==pl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,gl()?Reflect.construct(e,n||[],vl(t).constructor):e.apply(t,n))}function gl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(gl=function(){return!!t})()}function vl(t){return vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},vl(t)}function ml(t,e){return ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ml(t,e)}var bl=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=yl(this,e,[n])).wovnContext=t;o.projectToken=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ml(t,e)}(e,t);return n=e,r=[{key:"translate",value:function(t,e){return this.getAndParseJson(this.wovnContext.cdnCacheHost,"/v0/instant_translate",{token:this.projectToken,src:t,tgt_lang:e,unified:!0},Oo.FormUrlEncoded)}}],r&&dl(n.prototype,r),o&&dl(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function wl(t){return wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(t)}function Sl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kl(r.key),r)}}function kl(t){var e=function(t,e){if("object"!=wl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wl(e)?e:e+""}function Tl(t,e,n){return e=Ol(e),function(t,e){if(e&&("object"==wl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Cl()?Reflect.construct(e,n||[],Ol(t).constructor):e.apply(t,n))}function Cl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Cl=function(){return!!t})()}function Ol(t){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ol(t)}function El(t,e){return El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},El(t,e)}var Pl=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=Tl(this,e,[n])).wovnContext=t;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&El(t,e)}(e,t);return n=e,(r=[{key:"reportError",value:function(t,e,n,r,o){return this.post(this.wovnContext.apiHost,"/v0/widget_errors",{error_title:t,error_info:e,user_token:n,url:r,stack_trace:o},Oo.FormUrlEncoded)}}])&&Sl(n.prototype,r),o&&Sl(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function _l(t){return _l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_l(t)}function Al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xl(r.key),r)}}function xl(t){var e=function(t,e){if("object"!=_l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_l(e)?e:e+""}function jl(t,e,n){return e=Il(e),function(t,e){if(e&&("object"==_l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ll()?Reflect.construct(e,n||[],Il(t).constructor):e.apply(t,n))}function Ll(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ll=function(){return!!t})()}function Il(t){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Il(t)}function Dl(t,e){return Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dl(t,e)}var Nl=function(t){function e(t,n,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(a=jl(this,e,[n])).wovnContext=t;a.projectToken=r;a.lang=o;a.data=i;return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dl(t,e)}(e,t);return n=e,(r=[{key:"findTranslations",value:function(t){var e=this.lang.getDefaultCodeIfExists();return this.postAndParseJson(this.wovnContext.eeHost,"/values/translate",{token:this.projectToken,srcs:t,defaultLang:e,pageId:this.data.pageData.getPageId()},Oo.JsonAsText)}}])&&Al(n.prototype,r),o&&Al(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function Rl(t){return Rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(t)}function Ul(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hl(r.key),r)}}function Vl(t,e,n){return(e=Hl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hl(t){var e=function(t,e){if("object"!=Rl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rl(e)?e:e+""}var Ml=function(t){t["Idle"]="Idle";t["Sending"]="Sending";t["Success"]="Success";t["Failed"]="Failed";return t}({}),Bl=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Vl(this,"_status",Ml.Idle);Vl(this,"_subscribers",[])},(e=[{key:"status",get:function(){return this._status}},{key:"update",value:function(t){this._status=t;this.notifySubscribers()}},{key:"subscribe",value:function(t){this._subscribers.push(t)}},{key:"unsubscribe",value:function(t){this._subscribers=this._subscribers.filter((function(e){return e!==t}))}},{key:"notifySubscribers",value:function(){var t=this;this._subscribers.forEach((function(e){return e(t.status)}))}}])&&Ul(t.prototype,e),n&&Ul(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Fl=function(t){t["Audit"]="audit";t["ManualCustom"]="manual_custom";t["AutomaticCustom"]="automatic_custom";return t}({}),Wl=function(t){t["Audit"]="audit";t["Custom"]="custom";return t}({});function ql(t){switch(t){case Fl.Audit:return Wl.Audit;case Fl.ManualCustom:case Fl.AutomaticCustom:return Wl.Custom;default:throw new Error("unknown report source '".concat(t,"'"))}}function zl(t){return zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zl(t)}function Gl(t,e,n){return e=$l(e),function(t,e){if(e&&("object"==zl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Jl()?Reflect.construct(e,n||[],$l(t).constructor):e.apply(t,n))}function Jl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Jl=function(){return!!t})()}function $l(t){return $l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$l(t)}function Kl(t,e){return Kl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kl(t,e)}function Xl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ql(r.key),r)}}function Yl(t,e,n){return e&&Zl(t.prototype,e),n&&Zl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ql(t){var e=function(t,e){if("object"!=zl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zl(e)?e:e+""}var tc=function(){return Yl((function t(e,n){Xl(this,t);this.inner=e;this.reportStatusMonitor=n}),[{key:"reportValues",value:function(t){function e(e,n,r,o,i,a,u){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}((function(t,e,n,r,o,i,a){var u=this;this.reportStatusMonitor.update(Ml.Sending);return this.inner.reportValues(t,e,n,r,o,i,a).then((function(){u.reportStatusMonitor.update(Ml.Success)}))["catch"]((function(){u.reportStatusMonitor.update(Ml.Failed)}))["finally"]((function(){u.reportStatusMonitor.update(Ml.Idle)}))}))}])}(),ec=function(){return Yl((function t(e,n){Xl(this,t);this.secureReportController=e;this.reportController=n}),[{key:"reportValues",value:function(t){function e(e,n,r,o,i,a,u){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}((function(t,e,n,r,o,i,a){return(u=i)===Fl.ManualCustom||u===Fl.AutomaticCustom?this.secureReportController.reportValues(t,e,n,r,o,i,a):this.reportController.reportValues(t,e,n,r,o,i,a);var u}))}])}(),nc=function(t){function e(t,n,r,o,i,a,u,s,l,c){var f;Xl(this,e);(f=Gl(this,e,[t])).api_path=n;f.projectToken=r;f.url=o;f.data=i;f.clientLocation=a;f.uuidCookie=u;f.baseUrl=s;f.contentType=l;f.canUseXhrWidgetSession=c;return f}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kl(t,e)}(e,t);return Yl(e,[{key:"reportValues",value:function(t){function e(e,n,r,o,i,a,u){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}((function(t,e,n,r,o,i,a){var u=this.buildRequestParameters(t,e,n,r,o,i,a),s=this.api_path+this.projectToken;return this.post(this.baseUrl,s,u,this.contentType,this.canUseXhrWidgetSession).then((function(){}))}))},{key:"buildRequestParameters",value:function(t,e,n,r,o,i,a){var u=this.clientLocation?this.clientLocation.hrefWithoutLangCode:this.url.getLocationWithoutBackendLanguage(),s={session_id:this.uuidCookie.cookie||"",browser_id:window.navigator.userAgent,timestamp:(new Date).getTime()},l={build_hash:p.BUILD_HASH,finger_print:s,custom_block_config:{classes:this.data.domainOptions.getCustomBlockClasses().join(","),tags:this.data.domainOptions.getCustomBlockTags().join(",")}},c={url:u,page_id:this.data.pageData.getPageId(),no_record_vals:X(t,4),links:X(e,4),diagnostics:X(l,4),report_count:r,source:ql(i),page_metadata:X(a,4)};o&&(c["supervised_detected"]=!0);n&&(c["high_priority"]=!0);return c}}])}(fl);function rc(t){return rc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rc(t)}function oc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ic(r.key),r)}}function ic(t){var e=function(t,e){if("object"!=rc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rc(e)?e:e+""}function ac(t,e,n){return e=sc(e),function(t,e){if(e&&("object"==rc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,uc()?Reflect.construct(e,n||[],sc(t).constructor):e.apply(t,n))}function uc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uc=function(){return!!t})()}function sc(t){return sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sc(t)}function lc(t,e){return lc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lc(t,e)}var cc=function(t){function e(t,n,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(a=ac(this,e,[n])).wovnContext=t;a.projectToken=r;a.url=o;a.clientLocation=i;return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lc(t,e)}(e,t);return n=e,(r=[{key:"notifyCurrentPageNotFound",value:function(){var t={url:this.clientLocation?this.clientLocation.hrefWithoutLangCode:this.url.getLocationWithoutBackendLanguage()};return this.post(this.wovnContext.eeHost,"/page_not_found/"+this.projectToken,t,Oo.FormUrlEncoded)}}])&&oc(n.prototype,r),o&&oc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function fc(t){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(t)}function pc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dc(r.key),r)}}function dc(t){var e=function(t,e){if("object"!=fc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fc(e)?e:e+""}function hc(t,e,n){return e=gc(e),function(t,e){if(e&&("object"==fc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yc()?Reflect.construct(e,n||[],gc(t).constructor):e.apply(t,n))}function yc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yc=function(){return!!t})()}function gc(t){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gc(t)}function vc(t,e){return vc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vc(t,e)}var mc=function(e){function n(t,e,r,o,i,a,u){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);(s=hc(this,n,[e])).wovnContext=t;s.projectToken=r;s.clientLocation=o;s.widget=i;s.browserLocation=a;s.performance=u;return s}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vc(t,e)}(n,e);return r=n,(o=[{key:"pageData",value:function(){var e,n=this,r={u:this.clientLocation?this.widget.getLocation(this.clientLocation.href):this.widget.getLocation(),browser_url:this.browserLocation.href,page_status_code:null!==(e=this.getPageHttpResponseStatusCode())&&void 0!==e?e:""},o="/js_data/json/1/".concat(this.projectToken,"/");return this.getAndParseJson(this.wovnContext.cdnCacheHost,o,r,Oo.FormUrlEncoded)["catch"]((function(e){return 204!==e.status?n.getAndParseJson(n.wovnContext.cdnOriginHost,o,r,Oo.FormUrlEncoded):t.Promise.reject(e)}))}},{key:"previewData",value:function(t){var e={u:this.clientLocation?this.widget.getLocation(this.clientLocation.href):this.widget.getLocation(),signature:t},n="/js_preview_data/".concat(this.projectToken);return this.getAndParseJson(this.wovnContext.eeHost,n,e,Oo.FormUrlEncoded)}},{key:"domainOptions",value:function(){var t=this,e=this.clientLocation?this.clientLocation.host:E(this.widget.getLocation()).hostname,n={host:h().toASCII(e)},r="/domain/options/".concat(this.projectToken);return this.getAndParseJson(this.wovnContext.cdnCacheHost,r,n,Oo.FormUrlEncoded)["catch"]((function(){return t.getAndParseJson(t.wovnContext.cdnOriginHost,r,n,Oo.FormUrlEncoded)}))}},{key:"previewDomainOptions",value:function(t){var e=this.clientLocation?this.clientLocation.host:E(this.widget.getLocation()).hostname,n={host:h().toASCII(e),signature:t},r="/domain/options_preview/".concat(this.projectToken);return this.getAndParseJson(this.wovnContext.eeHost,r,n,Oo.FormUrlEncoded)}},{key:"getPageHttpResponseStatusCode",value:function(){var t,e;if(null===(t=this.performance)||void 0===t||!t.getEntriesByType)return null;var n=null===(e=this.performance.getEntriesByType("navigation"))||void 0===e||null===(e=e[0])||void 0===e?void 0:e["responseStatus"];return void 0!==n?n:null}}])&&pc(r.prototype,o),i&&pc(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(fl);function bc(t){return bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bc(t)}function wc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sc(r.key),r)}}function Sc(t){var e=function(t,e){if("object"!=bc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bc(e)?e:e+""}function kc(t,e,n){return e=Cc(e),function(t,e){if(e&&("object"==bc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Tc()?Reflect.construct(e,n||[],Cc(t).constructor):e.apply(t,n))}function Tc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Tc=function(){return!!t})()}function Cc(t){return Cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cc(t)}function Oc(t,e){return Oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Oc(t,e)}var Ec=function(e){function n(t,e,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);(o=kc(this,n,[e])).wovnContext=t;o.projectToken=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oc(t,e)}(n,e);return r=n,o=[{key:"search",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(r).forEach((function(t){Array.isArray(r[t])?r[t]=r[t].map((function(t){return t.toString()})):r[t]=[r[t].toString()]}));var o={q:e,lang:n,filter:JSON.stringify(r)},i="/domains/".concat(this.projectToken,"/search");return this.getAndParseJson(this.wovnContext.eeHost,i,o,Oo.FormUrlEncoded)["catch"]((function(e){if(!(e.status>=400&&e.status<500))return t.Promise.reject("Server error");try{var n=JSON.parse(e.body);return t.Promise.reject(n["message"]||"Server error")}catch(e){return t.Promise.reject("Server error")}}))}}],o&&wc(r.prototype,o),i&&wc(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(fl);function Pc(t){return Pc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(t)}function _c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ac(r.key),r)}}function Ac(t){var e=function(t,e){if("object"!=Pc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pc(e)?e:e+""}function xc(t,e,n){return e=Lc(e),function(t,e){if(e&&("object"==Pc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,jc()?Reflect.construct(e,n||[],Lc(t).constructor):e.apply(t,n))}function jc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jc=function(){return!!t})()}function Lc(t){return Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lc(t)}function Ic(t,e){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ic(t,e)}var Dc=function(t){function e(t,n,r,o,i,a){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(u=xc(this,e,[n])).wovnContext=t;u.projectToken=r;u.clientLocation=o;u.widget=i;u.liveEditorSettings=a;return u}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ic(t,e)}(e,t);return n=e,(r=[{key:"liveEditorSavedJsonData",value:function(){var t={u:this.clientLocation?this.widget.getLocation(this.clientLocation.href):this.widget.getLocation(),session_token:this.liveEditorSettings.session},e="/in_page/saved_json_data/".concat(this.projectToken);return this.getAndParseJson(this.wovnContext.eeHost,e,t,Oo.FormUrlEncoded)}}])&&_c(n.prototype,r),o&&_c(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function Nc(t){return Nc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(t)}function Rc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uc(r.key),r)}}function Uc(t){var e=function(t,e){if("object"!=Nc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nc(e)?e:e+""}function Vc(t,e,n){return e=Mc(e),function(t,e){if(e&&("object"==Nc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Hc()?Reflect.construct(e,n||[],Mc(t).constructor):e.apply(t,n))}function Hc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hc=function(){return!!t})()}function Mc(t){return Mc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mc(t)}function Bc(t,e){return Bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Bc(t,e)}var Fc=function(t){function e(t,n,r,o,i,a,u){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(s=Vc(this,e,[n])).wovnContext=t;s.domainOptions=r;s.pageData=o;s.projectToken=i;s.canUseXhrWidgetSession=a;s.liveEditorSettings=u;return s}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bc(t,e)}(e,t);return n=e,r=[{key:"getTranslatePageTexts",value:function(t){var e,n=t.dstLangCode,r="/pages/".concat(null===(e=this.pageData)||void 0===e?void 0:e.getPageId(),"/translate_page/").concat(n,"/texts");return this.getAndParseJson(this.wovnContext.cdnOriginHost,r,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getTranslatePageImages",value:function(t){var e,n=t.dstLangCode,r="/pages/".concat(null===(e=this.pageData)||void 0===e?void 0:e.getPageId(),"/translate_page/").concat(n,"/images");return this.getAndParseJson(this.wovnContext.cdnOriginHost,r,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getTranslatePagePropVals",value:function(){var t,e="/pages/".concat(null===(t=this.pageData)||void 0===t?void 0:t.getPageId(),"/live_editor/v2/prop_vals");return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getTranslateHistory",value:function(t,e,n){var r=this.pageData.getPageId(),o="/pages/".concat(r,"/translate_page/translation_changes/").concat(t,"/").concat(e,"/").concat(n);return this.getAndParseJson(this.wovnContext.cdnOriginHost,o,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getLastChangeTranslateHistory",value:function(t,e){return this.getTranslateHistory(t,e,"last_change")}},{key:"getUserRole",value:function(){var t=["session_token="+encodeURIComponent(this.liveEditorSettings.session),"domain_id="+this.domainOptions.getDomainId()].join("&"),e="/in_page/user_role?".concat(t);return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"publishNewLanguage",value:function(t){var e={lang:t.dstLangCode},n="/pages/".concat(this.pageData.getPageId(),"/translate_page/add_language");return this.postAndParseJson(this.wovnContext.cdnOriginHost,n,e,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getCDNImagePrefix",value:function(){var t=this.domainOptions.getDomainId(),e="/projects/".concat(t,"/cdn_image_prefix");return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"removeValues",value:function(t){var e=t.valueIds,n=this.domainOptions.getDomainId(),r="/projects/".concat(n,"/remove_values"),o={page_id:this.pageData.getPageId(),values:e};return this.postAndParseJson(this.wovnContext.cdnOriginHost,r,o,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"restoreValues",value:function(t){var e=t.valueIds,n=t.dstLangCode,r=this.domainOptions.getDomainId(),o="/projects/".concat(r,"/restore_values"),i={page_id:this.pageData.getPageId(),values:e,target_lang_code:n};return this.postAndParseJson(this.wovnContext.cdnOriginHost,o,i,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"saveAndPublishTexts",value:function(t){var e=t.dstLangCode,n=t.texts,r=t.properties,o=t.publish,i=t.dynamic_srcs,a={page_id:this.pageData.getPageId(),target_lang_code:e,texts:n,properties:r,dynamic_srcs:i},u="/pages/".concat(a.page_id,"/translate_page/").concat(a.target_lang_code,"/save").concat(o?"_and_publish":"");return this.postAndParseJson(this.wovnContext.cdnOriginHost,u,a,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"machineTranslateValues",value:function(t){var e=t.values,n=t.isAiPostEdit,r=this.pageData.getPageId(),o={values:e,ai_post_edit:n},i="/pages/".concat(r,"/translate_page/").concat(e[0].targetLang,"/machine_translate");return this.postAndParseJson(this.wovnContext.cdnOriginHost,i,o,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getPreviewSignatureUrl",value:function(){var t=["host="+location.host,"user_token="+this.projectToken].join("&"),e="/pages/".concat(this.pageData.getPageId(),"/translate_page/preview_signature?").concat(t);return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"fetchTranslationSuggestions",value:function(t){var e=t.src,n=t.srcLangCode,r=t.dstLangCode,o=this.pageData.getPageId(),i={url:decodeURIComponent(Gt.widgetGetOriginalUrl()),user_token:this.projectToken,session_token:encodeURIComponent(this.liveEditorSettings.session),src:e,source_lang:n},a="/pages/".concat(o,"/translate_page/").concat(r,"/translation_suggestions");return this.postAndParseJson(this.wovnContext.cdnOriginHost,a,i,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getDynamicValueTranslation",value:function(t,e){var n=this.pageData.getPageId(),r={srcs:t,target_lang_code:e},o="/pages/".concat(n,"/live_editor/v2/get_all_translations_by_srcs");return this.postAndParseJson(this.wovnContext.cdnOriginHost,o,r,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getTranslationProviders",value:function(){var t=this.pageData.getPageId(),e="/pages/".concat(t,"/live_editor/v2/translation_providers");return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getUntrustedValuesOnPage",value:function(t){var e=this.pageData.getPageId(),n="/pages/".concat(e,"/translate_page/").concat(t,"/untrusted_values?limit=100&page=1&search=&sort_by=created_at&sort_order=desc");return this.getAndParseJson(this.wovnContext.cdnOriginHost,n,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"logEvent",value:function(t,e){var n,r=this.pageData.getPageId(),o="/pages/".concat(r,"/live_editor/").concat(t,"/event");e.user_agent=null===(n=window)||void 0===n||null===(n=n.navigator)||void 0===n?void 0:n.userAgent;return this.postAndParseJson(this.wovnContext.cdnOriginHost,o,e,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"uploadImageTranslation",value:function(t,e,n){var r={page_id:this.pageData.getPageId(),file:t,image_meta_data:JSON.stringify(e),language:n};return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/image_value/upload_temp",r,Oo.MultipartFormData,this.canUseXhrWidgetSession)}},{key:"updatePatterns",value:function(t){var e=this.domainOptions.getDomainId(),n={domain_id:e,pattern_values:t};return this.putAndParseJson(this.wovnContext.cdnOriginHost,"/projects/".concat(e,"/pattern_values"),n,Oo.ApplicationJson,this.canUseXhrWidgetSession)}},{key:"updateAssignmentValues",value:function(t){var e=this.domainOptions.getDomainId();return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/lap/".concat(e,"/node_value_assignment/update_values"),t,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"fetchValueMessages",value:function(t){var e=this.pageData.getPageId();return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/".concat(e,"/node_value_messages/chat_thread"),t,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"postValueMessages",value:function(t){var e=this.pageData.getPageId();return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/".concat(e,"/node_value_messages"),t,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"evaluateTranslationQuality",value:function(t,e){var n=this.pageData.getPageId();return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/".concat(n,"/translate_page/").concat(t,"/evaluate_translation_quality"),{page_id:n,target_lang_code:t,values:e},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"evaluateAndPostEditTranslationQualityByPage",value:function(t,e){var n={domain_id:this.domainOptions.getDomainId(),skip_post_edit:t,selected_pages:[this.pageData.getPageId()],target_langs:e};return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/ai_evaluate_and_post_edit",n,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"postEditPageValues",value:function(t){return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/".concat(this.pageData.getPageId(),"/live_editor/v2/ai_post_edit_page/").concat(t),{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"fetchMessageNotificationCountsForPage",value:function(t){var e=this.pageData.getPageId(),n="/pages/".concat(e,"/node_value_message_accesses/fetch_message_notification_counts_for_page");return this.postAndParseJson(this.wovnContext.cdnOriginHost,n,{tgt_lang_code:t},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"updateMessageLastSeenTimestamp",value:function(t,e){var n=this.pageData.getPageId(),r="/pages/".concat(n,"/node_value_message_accesses/update_last_seen");return this.postAndParseJson(this.wovnContext.cdnOriginHost,r,{tgt_lang_code:t,src:e},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"fetchAiPostEditSummary",value:function(t){var e=this.pageData.getPageId(),n="/pages/".concat(e,"/live_editor/v2/fetch_ai_post_edit_summary/").concat(t);return this.getAndParseJson(this.wovnContext.cdnOriginHost,n,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"pollAiOperationStatus",value:function(t){var e=this.pageData.getPageId(),n="/pages/".concat(e,"/live_editor/v2/page_evaluation_job_status/").concat(t);return this.getAndParseJson(this.wovnContext.cdnOriginHost,n,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"verifyValue",value:function(t){var e=t.nodeValues,n=t.verify,r=t.targetLangCode,o=this.domainOptions.getDomainId(),i="/translation_verifications/update_verified/".concat(o,"/").concat(r);return this.postAndParseJson(this.wovnContext.cdnOriginHost,i,{node_value_ids:e,verify:n},Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"saveGlossaryData",value:function(t){var e=this.domainOptions.getDomainId(),n="/term_dictionary/".concat(e,"/le2/save");return this.postAndParseJson(this.wovnContext.cdnOriginHost,n,t,Oo.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getPlanInfo",value:function(){var t=this.domainOptions.getDomainId(),e="/projects/".concat(t,"/plan");return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}}],r&&Rc(n.prototype,r),o&&Rc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function Wc(t){return Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(t)}function qc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zc(r.key),r)}}function zc(t){var e=function(t,e){if("object"!=Wc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wc(e)?e:e+""}function Gc(t,e,n){return e=$c(e),function(t,e){if(e&&("object"==Wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Jc()?Reflect.construct(e,n||[],$c(t).constructor):e.apply(t,n))}function Jc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Jc=function(){return!!t})()}function $c(t){return $c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$c(t)}function Kc(t,e){return Kc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kc(t,e)}var Xc=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=Gc(this,e,[t])).wovnContext=n;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kc(t,e)}(e,t);return n=e,(r=[{key:"createSession",value:function(){return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/in_page/sessions",{},Oo.FormUrlEncoded)}}])&&qc(n.prototype,r),o&&qc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function Zc(t){return Zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(t)}function Yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qc(r.key),r)}}function Qc(t){var e=function(t,e){if("object"!=Zc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zc(e)?e:e+""}function tf(t,e,n){return e=nf(e),function(t,e){if(e&&("object"==Zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ef()?Reflect.construct(e,n||[],nf(t).constructor):e.apply(t,n))}function ef(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ef=function(){return!!t})()}function nf(t){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nf(t)}function rf(t,e){return rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},rf(t,e)}var of=function(e){function n(t,e,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);(a=tf(this,n,[t])).wovnContext=e;a.projectToken=r;a.widget=o;a.browserLocation=i;return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rf(t,e)}(n,e);return r=n,(o=[{key:"authenticate",value:function(){var e={token:this.projectToken,original_url:this.browserLocation.origin,url_without_lang:this.browserOriginWithoutWovnLangCode()};return this.getAndParseJson(this.wovnContext.jHost,"/widget_session_auth",e,Oo.FormUrlEncoded,!0).then((function(e){return e.body["authorized"]?t.Promise.resolve():t.Promise.reject(e.body["reason"]||"Server error")}))}},{key:"createSession",value:function(){return this.postAndParseJson(this.wovnContext.eeHost,"/in_page/xhr_sessions",{url:this.browserLocation.origin},Oo.FormUrlEncoded,!0)}},{key:"browserOriginWithoutWovnLangCode",value:function(){return this.widget.getLocation(this.browserLocation.origin)}}])&&Yc(r.prototype,o),i&&Yc(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(fl);function af(t){return af="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(t)}function uf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sf(r.key),r)}}function sf(t){var e=function(t,e){if("object"!=af(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=af(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==af(e)?e:e+""}function lf(t,e,n){return e=ff(e),function(t,e){if(e&&("object"==af(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cf()?Reflect.construct(e,n||[],ff(t).constructor):e.apply(t,n))}function cf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cf=function(){return!!t})()}function ff(t){return ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ff(t)}function pf(t,e){return pf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pf(t,e)}var df=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=lf(this,e,[n])).wovnContext=t;o.canUseXhrWidgetSession=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pf(t,e)}(e,t);return n=e,(r=[{key:"create",value:function(t,e,n,r,o,i,a,u,s,l){var c=this.canUseXhrWidgetSession?"/xhr_translation_feedback":"/translation_feedback",f={domain_id:t,page_id:e,selected_text:n,selected_srcs:JSON.stringify(r),category:o,priority:i,src_lang_code:a,tgt_lang_code:u,comment:s};l&&(f["screenshot"]=l);return this.post(this.wovnContext.cdnOriginHost,c,f,Oo.FormUrlEncoded,!0)}}])&&uf(n.prototype,r),o&&uf(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function hf(t){return hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(t)}function yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gf(r.key),r)}}function gf(t){var e=function(t,e){if("object"!=hf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hf(e)?e:e+""}function vf(t,e,n){return e=bf(e),function(t,e){if(e&&("object"==hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mf()?Reflect.construct(e,n||[],bf(t).constructor):e.apply(t,n))}function mf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(mf=function(){return!!t})()}function bf(t){return bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bf(t)}function wf(t,e){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wf(t,e)}var Sf=function(t){function e(t,n,r,o,i,a,u){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(s=vf(this,e,[u])).wovnContext=t;s.projectToken=n;s.pageData=r;s.clientLocation=o;s.widget=i;s.canUseXhrWidgetSession=a;return s}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wf(t,e)}(e,t);return n=e,(r=[{key:"getPreviewSignature",value:function(){var t=this.pageData.getPageId(),e=["host="+(this.clientLocation?this.clientLocation.host:E(this.widget.getLocation()).hostname),"user_token="+this.projectToken].join("&"),n="/pages/".concat(t,"/translate_page/preview_signature?").concat(e);return this.getAndParseJson(this.wovnContext.cdnOriginHost,n,{},Oo.JsonAsText,this.canUseXhrWidgetSession)}}])&&yf(n.prototype,r),o&&yf(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function kf(t){return kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(t)}function Tf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cf(r.key),r)}}function Cf(t){var e=function(t,e){if("object"!=kf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kf(e)?e:e+""}function Of(t,e,n){return e=Pf(e),function(t,e){if(e&&("object"==kf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ef()?Reflect.construct(e,n||[],Pf(t).constructor):e.apply(t,n))}function Ef(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ef=function(){return!!t})()}function Pf(t){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pf(t)}function _f(t,e){return _f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_f(t,e)}var Af=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=Of(this,e,[n])).wovnContext=t;o.projectToken=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_f(t,e)}(e,t);return n=e,(r=[{key:"translateTexts",value:function(t,e){var n={token:this.projectToken,tgt_lang:e,texts:t};return this.postAndParseJson(this.wovnContext.apiHost,"/v0/on_demand_translation",n,Oo.JsonAsText)}}])&&Tf(n.prototype,r),o&&Tf(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(fl);function xf(t){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(t)}function jf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lf(r.key),r)}}function Lf(t){var e=function(t,e){if("object"!=xf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xf(e)?e:e+""}var If="/report_values/",Df="/report/",Nf="/xhr_report/",Rf=function(){return t=function t(e,n,r,o,i,a,u,s,l,c,f,p,d,h,y){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e;this.projectToken=n;this.wovnContext=r;this.serviceExecutor=o;this.url=i;this.clientLocation=a;this.widget=u;this.uuidCookie=s;this.lang=l;this.snippetSettings=c;this.liveEditorSettings=f;this.sessionProxyHttpRequestExecutor=p;this.reportStatusMonitor=d;this.browserLocation=h;this.performance=y},(e=[{key:"instantTranslation",get:function(){return new bl(this.wovnContext,this.serviceExecutor,this.projectToken)}},{key:"onDemandTranslation",get:function(){return new Af(this.wovnContext,this.serviceExecutor,this.projectToken)}},{key:"translationFeedback",get:function(){var t=this.data.domainOptions.canUseXhrWidgetSession();return new df(this.wovnContext,t?this.serviceExecutor:this.sessionProxyHttpRequestExecutor,t)}},{key:"translatePage",get:function(){var t=this.data.domainOptions.canUseXhrWidgetSession(),e=t?this.serviceExecutor:this.sessionProxyHttpRequestExecutor;return new Sf(this.wovnContext,this.projectToken,this.data.pageData,this.clientLocation,this.widget,t,e)}},{key:"api",get:function(){return new Pl(this.wovnContext,this.serviceExecutor)}},{key:"dynamicLoading",get:function(){return new Nl(this.wovnContext,this.serviceExecutor,this.projectToken,this.lang,this.data)}},{key:"report",get:function(){var t=new nc(this.serviceExecutor,If,this.projectToken,this.url,this.data,this.clientLocation,this.uuidCookie,this.wovnContext.eeHost,Oo.FormUrlEncoded,!1),e=this.data.domainOptions.canUseXhrWidgetSession(),n=new nc(e?this.serviceExecutor:this.sessionProxyHttpRequestExecutor,e?Nf:Df,this.projectToken,this.url,this.data,this.clientLocation,this.uuidCookie,this.wovnContext.cdnOriginHost,Oo.JsonAsText,e);return new tc(new ec(n,t),this.reportStatusMonitor)}},{key:"pageNotFound",get:function(){return new cc(this.wovnContext,this.serviceExecutor,this.projectToken,this.url,this.clientLocation)}},{key:"widgetData",get:function(){return new mc(this.wovnContext,this.serviceExecutor,this.projectToken,this.clientLocation,this.widget,this.browserLocation,this.performance)}},{key:"inSiteSearch",get:function(){return new Ec(this.wovnContext,this.serviceExecutor,this.projectToken)}},{key:"liveEditor",get:function(){return new Dc(this.wovnContext,this.serviceExecutor,this.projectToken,this.clientLocation,this.widget,this.liveEditorSettings)}},{key:"inPageSession",get:function(){return new Xc(this.sessionProxyHttpRequestExecutor,this.wovnContext)}},{key:"xhrWidgetSession",get:function(){return new of(this.serviceExecutor,this.wovnContext,this.projectToken,this.widget,this.browserLocation)}},{key:"authenticatedLiveEditorController",get:function(){var t=this.data.domainOptions.canUseXhrWidgetSession(),e=t?this.serviceExecutor:this.sessionProxyHttpRequestExecutor;return new Fc(this.wovnContext,e,this.data.domainOptions,this.data.pageData,this.snippetSettings.token,t,this.liveEditorSettings)}}])&&jf(t.prototype,e),n&&jf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Uf(t){return Uf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(t)}function Vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vf(Object(n),!0).forEach((function(e){Bf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Mf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ff(r.key),r)}}function Bf(t,e,n){return(e=Ff(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ff(t){var e=function(t,e){if("object"!=Uf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Uf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Uf(e)?e:e+""}var Wf=function(){return e=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Bf(this,"defaultQueryParams",{v:p.API_REQUEST_CACHE_KEY});this.cancellationTokenSource=e;this.traceId=n},n=[{key:"get",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(n===Oo.JsonAsText)return this.sendWithRequestBody(t,"GET",e,n,r,o);e=Hf(Hf({},this.defaultQueryParams),e);var i=this.addUrlParameters(t,e);return this.send(i,"GET",n,"",r,o)}},{key:"post",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return this.sendWithRequestBody(t,"POST",e,n,r,o)}},{key:"put",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return this.sendWithRequestBody(t,"PUT",e,n,r,o)}},{key:"sendWithRequestBody",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=Eo(n,r),u=this.addUrlParameters(t,this.defaultQueryParams);return this.send(u,e,r,a,o,i)}},{key:"addUrlParameters",value:function(t,e){var n=Eo(e,Oo.FormUrlEncoded),r=""!==E(t).search?"&":"?";return n?"".concat(t).concat(r).concat(n):t}},{key:"send",value:function(e,n,r,o){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;u=u||this.cancellationTokenSource.cancellationToken;return new t.Promise((function(t,s){var l;null!==(l=u)&&void 0!==l&&l.isCancelRequested&&s({body:"Request cancelled",headers:{}});var c=new XMLHttpRequest;c.withCredentials=a;c.onreadystatechange=function(){var e;null!==(e=u)&&void 0!==e&&e.isCancelRequested&&s({body:"Request cancelled",headers:{}});c.readyState===Z.DONE&&(200===this.status||304===this.status?t({body:c.responseText,headers:Co(c)}):s({body:c.responseText,status:this.status,headers:{}}))};p.CI_TEST&&console.log("WebServiceExecutor:",n,e);c.open(n,e,!0);c.timeout=6e4;c.ontimeout=function(){s({body:"Request timed out",headers:{}})};if(i.traceId){c.setRequestHeader("X-Request-Id",i.traceId);c.setRequestHeader("X-Wovn-Trace-Id",i.traceId)}c.setRequestHeader&&r!==Oo.MultipartFormData&&c.setRequestHeader("Content-Type",r);c.send(o)}))}}],n&&Mf(e.prototype,n),r&&Mf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function qf(t){return qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(t)}function zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gf(r.key),r)}}function Gf(t){var e=function(t,e){if("object"!=qf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qf(e)?e:e+""}var Jf=/[\n \t\u0020\u0009\u000C\u200B\u000D\u000A]+/g,$f=/[\n \t\u0020\u0009\u000C\u000D\u000A]+/g,Kf=/[ \t\u0020\u0009\u000C\u200B\u000D]+/g,Xf=/[ \t\u0020\u0009\u000C\u000D]+/g,Zf=/^[\s\u00A0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]+|[\s\u00A0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]+$/g,Yf=/^[\f\r\t\v\u0020\u2028\u2029\u00A0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]+|[\f\r\t\v\u0020\u2028\u2029\u00A0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]+$/g,Qf=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);n=this,o="",(r=Gf(r="wovnEmptyCharacter"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o;var n,r,o;this.domainOptions=e;this.normalizeTextCache={};this.normalizeTextCacheWithoutZeroWidthSpace={}},e=[{key:"isNormalizedEmpty",value:function(t){return this.normalizeText(t)===this.wovnEmptyCharacter}},{key:"normalizeText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==t)return null;if(this.normalizeTextCache[t]){var n=this.normalizeTextCache[t];e&&n===this.wovnEmptyCharacter?n="":e||""!==n||(n=this.wovnEmptyCharacter);return n}var r=this.trimText(t,this.domainOptions.hasFeature("newline_support_in_source_language")?Kf:Jf);!1===e&&0===r.length&&(r=this.wovnEmptyCharacter);this.normalizeTextCache[t]=r;return r}},{key:"normalizeTextWithoutZeroWidthSpace",value:function(t){if(null==t)return null;if(this.normalizeTextCacheWithoutZeroWidthSpace[t])return this.normalizeTextCacheWithoutZeroWidthSpace[t];var e=this.trimText(t,this.domainOptions.hasFeature("newline_support_in_source_language")?Xf:$f);this.normalizeTextCacheWithoutZeroWidthSpace[t]=e;return e}},{key:"removeNormalizedWhitespace",value:function(t){return null==t?t:this.trimText(t,this.domainOptions.hasFeature("newline_support_in_source_language")?Kf:Jf,"")}},{key:"trimText",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",r=this.domainOptions.hasFeature("newline_support_in_source_language"),o=t;J.mutatesTextNodeData()&&!r&&(o=o.replace(/([^\u0000-\u007F])\n([^\u0000-\u007F])/g,"$1$2"));var i=r&&/\S/.test(o)?Yf:Zf;return o.replace(e,n).replace(i,"")}}],e&&zf(t.prototype,e),n&&zf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function tp(t){return tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(t)}function ep(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,np(r.key),r)}}function np(t){var e=function(t,e){if("object"!=tp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tp(e)?e:e+""}function rp(t){return"__wovn__."+t}var op=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.storage=e},(e=[{key:"getValue",value:function(t,e){var n=rp(t),r=this.getItem(n);if(!r)return null;var o=null;try{o=JSON.parse(r)}catch(t){this.removeItem(n);return null}var i=o["creationTime"],a=o["value"];if(!i||!a){this.removeItem(n);return null}if(i<e||(new Date).getTime()<i){this.removeItem(n);return null}return[i,a]}},{key:"setValue",value:function(t,e,n){var r={creationTime:n,value:e};this.setItem(rp(t),X(r))}},{key:"removeValue",value:function(t){this.removeItem(rp(t))}},{key:"getItem",value:function(t){try{return this.storage.getItem(t)}catch(t){return null}}},{key:"setItem",value:function(t,e){try{this.storage.setItem(t,e)}catch(e){this.removeItem(t)}}},{key:"removeItem",value:function(t){try{this.storage.removeItem(t)}catch(t){}}},{key:"destroy",value:function(){this.storage.clear()}}])&&ep(t.prototype,e),n&&ep(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ip(t){return ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(t)}function ap(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,up(r.key),r)}}function up(t){var e=function(t,e){if("object"!=ip(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ip(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ip(e)?e:e+""}function sp(t,e,n){return e=cp(e),function(t,e){if(e&&("object"==ip(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lp()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function lp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lp=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cp(t)}function fp(t,e){return fp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fp(t,e)}var pp=function(t){function e(t,n,r,o,i,a){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(u=sp(this,e,[t,n,o,a])).isOpen=r;u.ignoreType=i;return u}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fp(t,e)}(e,t);return n=e,(r=[{key:"isText",get:function(){return!1}},{key:"src",get:function(){return this.label}},{key:"translationDataSrcKey",get:function(){return this.src}}])&&ap(n.prototype,r),o&&ap(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Ii);function dp(t){return!t.isText}function hp(t){return hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hp(t)}function yp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return gp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function gp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bp(r.key),r)}}function mp(t,e,n){return(e=bp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bp(t){var e=function(t,e){if("object"!=hp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hp(e)?e:e+""}var wp=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);mp(this,"created_at",null);mp(this,"published_dst","");mp(this,"is_page_translation",!1);mp(this,"is_html",!0);this.headPath=e;this.index=n;this._fragments=r}return e=t,(n=[{key:"fragments",get:function(){return this._fragments}},{key:"path",get:function(){if(this.headPath.match(/title$/))return this.headPath;var t="".concat(this.headPath,"/text()");return 1===this.index?t:"".concat(t,"[").concat(this.index,"]")}},{key:"add",value:function(t){0===this.fragments.length&&t.isClose||this.fragments.push(t)}},{key:"remove",value:function(t){this._fragments=this._fragments.filter((function(e){return-1===t.indexOf(e)}))}},{key:"src",get:function(){return this.unignoredFragments.map((function(t){return t.src})).join("")}},{key:"label",get:function(){return this.unignoredFragments.map((function(t){return t.label})).join("")}},{key:"normalizedSrc",get:function(){return this.unignoredFragments.map((function(t){return t.normalizedSrc})).join("")}},{key:"hasTranslatedFragments",get:function(){return this.translatedTextFragments.length>0}},{key:"isFullyTranslated",get:function(){var t=this.textFragments,e=this.translatedTextFragments;return e.length>0&&e.length===t.length}},{key:"translationDataSrcKey",get:function(){return this.unignoredFragments.map((function(t){return t.translationDataSrcKey})).join("")}},{key:"debugHtml",get:function(){return this.fragments.map((function(t){if(dp(t)&&t.isOpen){var e=function(t){for(var e="",n=0;n<t.attributes.length;n++){var r=t.attributes[n];e+="".concat(r.name,'="').concat(r.value,'" ')}return e.trim()}(t.node),n="<".concat(t.node.nodeName.toLowerCase());e&&(n+=" ".concat(e));return n+=">"}return t.src})).join("")}},{key:"textFragments",get:function(){return this.unignoredFragments.filter(qi)}},{key:"translatedTextFragments",get:function(){return this.textFragments.filter((function(t){return t.isTranslated}))}},{key:"unignoredFragments",get:function(){for(var t=[],e=0;e<this.fragments.length;++e){var n=this.fragments[e];if(tr(n.ignoreType)){t.push(n);for(++e;e<this.fragments.length;++e)if(!(n=this.fragments[e]).isText){t.push(n);break}}else t.push(n)}return t}},{key:"lastFragment",get:function(){return this.fragments[this.fragments.length-1]}},{key:"withoutUntranslatedFragments",value:function(){for(var e=[],n=0;n<this.fragments.length;n++){var r=this.fragments[n];if(qi(r)&&r.isTranslated)e.push(r);else if(dp(r))if(r.isOpen){var o=this.fragments[n+1],i=this.fragments[n+2];if(o&&qi(o)&&i&&dp(i)&&i.isClose){if(o.isTranslated){e.push(r);e.push(o);e.push(i)}n+=2}else e.push(r)}else e.push(r)}return new t(this.headPath,this.index,e)}},{key:"hasText",value:function(){var t,e=yp(this.fragments);try{for(e.s();!(t=e.n()).done;)if(t.value.isText)return!0}catch(t){e.e(t)}finally{e.f()}return!1}},{key:"buildNextStack",value:function(){return new t(this.headPath,this.index+1)}}])&&vp(e.prototype,n),r&&vp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Sp(t){return Sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(t)}function kp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tp(r.key),r)}}function Tp(t){var e=function(t,e){if("object"!=Sp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sp(e)?e:e+""}var Cp,Op,Ep,Pp=function(t){t["DOM_TRAVERSAL_INTERRUPTED"]="An error has occurred while the widget is accessing the DOM. Some values might remain untranslated.";return t}({}),_p=function(t){t["DOM_TRAVERSAL"]="Dom Traversal";t["LIVE_EDITOR"]="Live Editor";return t}({}),Ap=function(){return e=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.apiController=e;this.snippetSettings=n;this.shouldSendReport=t.REPORT_RATIO>Math.random()},(n=[{key:"error",value:function(e,n,r){if(!this.shouldSendReport)return t.Promise.resolve();var o="",i=n;if(r){i+=r.toString();o=r.stack}return this.apiController.reportError(e,i,this.snippetSettings.token,window.location.href,o).then((function(){}))}}])&&kp(e.prototype,n),r&&kp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();Cp=Ap,Ep=.2,(Op=Tp(Op="REPORT_RATIO"))in Cp?Object.defineProperty(Cp,Op,{value:Ep,enumerable:!0,configurable:!0,writable:!0}):Cp[Op]=Ep;function xp(t){return xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(t)}function jp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lp(r.key),r)}}function Lp(t){var e=function(t,e){if("object"!=xp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xp(e)?e:e+""}var Ip=function(){},Dp=function(){return function(t,e,n){return e&&jp(t.prototype,e),n&&jp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o,i,a,u,s,l,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textNormalizer=e;this.nodeTypeSolver=n;this.unifiedValueComments=r;this.domTraversalParsableNodeFilterProvider=o;this.onDemandTranslator=i;this.widgetErrorLogger=a;this.excludedContentScope=u;this.widgetInterface=s;this.checkCssBackgroundImageScope=l;this.skipNewlineNormalization=c}),[{key:"run",value:function(t,e){var n=function(t){for(var e=t,n="",r=0;e&&"#document"!==e.nodeName;){for(var o=e.previousSibling;o;){o.nodeName===e.nodeName&&r++;o=o.previousSibling}n="/"+e.nodeName.toLowerCase()+(r>0?"[".concat(r+1,"]"):"")+n;e=e.parentNode;r=0}return n}(t.parentNode);return this.startTraversal(t,e,n)}},{key:"startTraversal",value:function(t,e,n){var r=[],o=[],i={nodeName:"",hasAttribute:Ip},a=new wp(n,1),u=[],s=function(t,e,n){return(e=Lp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t.nodeName.toLowerCase(),_e(t)),l=this.safeTraversalLoop(i,[t],n,u,a,r,o,e,Yn.None,!1,s);l.hasText()&&u.push(l);return{tags:r.filter((function(t){return!er(t.ignoreType)})),texts:o,valuesStacks:u}}},{key:"safeTraversalLoop",value:function(t,e,n,r,o,i,a,u,s,l,c){try{o=this.traversalLoop(t,e,n,r,o,i,a,u,s,l,c)}catch(t){this.widgetErrorLogger.error(_p.DOM_TRAVERSAL,Pp.DOM_TRAVERSAL_INTERRUPTED,t)}return o}},{key:"traversalLoop",value:function(t,e,n,r,o,i,a,u,s,l,c){var f=this;if(s===Yn.All||u(t)===Yn.All)return o;if(this.widgetInterface.isWidgetElement(t))return o;var p,d=e.length;c=c||{};for(var h=0;h<d;++h){var y=e[h],g=u(y)|s,v=this.isNodeInCssBackgroundImageScope(y,l);this.onDemandTranslator.bindOdtClickEvent(y);var m=y.nodeName.toLowerCase(),b=null;if(c[m]>0){var w=c[m]+1;b=n+"/"+m+"["+w+"]";c[m]=w}else{b=n+"/"+m;c[m]=1}if(Aa(t,y)&&!this.domTraversalParsableNodeFilterProvider.isNodeFilteredOut(y)){var S=void 0;if(y.shadowRoot){y.setAttribute("data-wovn-shadow-host","");S="shadow-host"}else S=this.nodeTypeSolver.getType(m,y.className);switch(S){case Oa.IGNORE:break;case Oa.TAG:i.push(new Ja(b,y,g,v));break;case Oa.INLINE_IGNORED:o.add(this.createUVOpenTag(y,m,Yn.All));Ou(m)&&o.add(this.createUVCloseTag(y,m));break;case Oa.INLINE:i.push(new Ja(b,y,g,v));o.add(this.createUVOpenTag(y,m,g));o=this.safeTraversalLoop(y,y.childNodes,b,r,o,i,a,u,g,v,null);Ou(m)&&o.add(this.createUVCloseTag(y,m));break;case Oa.TEXT:if(0==this.textNormalizer.normalizeTextWithoutZeroWidthSpace(y.data).length&&!this.unifiedValueComments.hasOriginalSrcComment(y))break;if(!tr(g)){var k=this.concatContinuousTextNodes(e,h+1,[y]);h+=k.skipCount;if(k.nodes.length>0){a.push(k.nodes);var T=k.original.length>0?this.textNormalizer.normalizeText(k.original):k.original;o.add(new Wi(T,y,k.original,k.nodes,k.lookahead,k.skipCount,!0,this.textNormalizer,this.unifiedValueComments,g))}}break;case"shadow-host":case Oa.BLOCK:default:i.push(new Ja(b,y,g,v));o.hasText()&&r.push(o);var C=o.buildNextStack();o=new wp(b,1);var O=y.shadowRoot?[y.shadowRoot].concat(st.toArrayFromDomList(y.childNodes)):y.childNodes;(o=this.safeTraversalLoop(y,O,b,r,o,i,a,u,g,v,null)).hasText()&&r.push(o);o=C}}}if("iframe"===(p=t).nodeName.toLowerCase()&&E(p.src).host===window.location.host)try{var P=u(t)|s,_=this.isNodeInCssBackgroundImageScope(t,l),A=t.contentDocument;if(A){var x=st.toArrayFromDomList(A.childNodes).filter((function(t){return t.childNodes.length>0}))[0];if(x)return this.excludedContentScope.run(A,(function(){var e="".concat(n,"[@src='").concat(t.getAttribute("src"),"']");return f.safeTraversalLoop(x,x.childNodes,e,r,o,i,a,u,P,_,null)}))}}catch(t){}return o}},{key:"createUVOpenTag",value:function(t,e,n){var r=tr(n);return new pp(r?"<"+e+" wovn-ignore>":"<"+e+">",t,!0,!1,n,this.textNormalizer)}},{key:"createUVCloseTag",value:function(t,e){return new pp("</"+e+">",t,!1,!0,Yn.None,this.textNormalizer)}},{key:"concatContinuousTextNodes",value:function(t,e,n){for(var r="",o=[],i=[],a=0,u=0;u<n.length;++u){var s=n[u];r+=s.data;o.push(s)}for(var l=e;l<t.length;++l){var c=t[l],f=c.nodeName.toLowerCase();if("#text"==f){r+=c.data;o.push(c);i.push(c);++a}else{if("#comment"!=f)break;if(this.unifiedValueComments.hasOriginalSrcComment(c)){++a;break}++a}}return{original:r,nodes:o,lookahead:i,skipCount:a}}},{key:"isNodeInCssBackgroundImageScope",value:function(t,e){return!this.checkCssBackgroundImageScope||(e||ge(t)&&Ee(t,"wovn-bg-img"))}}])}();function Np(t){return Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(t)}function Rp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Up(r.key),r)}}function Up(t){var e=function(t,e){if("object"!=Np(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Np(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Np(e)?e:e+""}var Vp=function(){return function(t,e,n){return e&&Rp(t.prototype,e),n&&Rp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o,i,a,u,s,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textNormalizer=e;this.nodeTypeSolverFactory=n;this.unifiedValueComments=r;this.domTraversalParsableNodeFilterProvider=o;this.onDemandTranslator=i;this.widgetErrorLogger=a;this.excludedContentScope=u;this.widgetInterface=s;this.domainOptions=l}),[{key:"create",value:function(){var t=this.nodeTypeSolverFactory.create(),e=this.domainOptions.canTranslateCssBackgroundImages()&&this.domainOptions.getCssBackgroundImagesScope().length>0,n=this.domainOptions.hasFeature("newline_support_in_source_language");return new Dp(this.textNormalizer,t,this.unifiedValueComments,this.domTraversalParsableNodeFilterProvider,this.onDemandTranslator,this.widgetErrorLogger,this.excludedContentScope,this.widgetInterface,e,n)}}])}();function Hp(t){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hp(t)}function Mp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Bp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Bp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Fp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wp(r.key),r)}}function Wp(t){var e=function(t,e){if("object"!=Hp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hp(e)?e:e+""}var qp=function(){return function(t,e,n){return e&&Fp(t.prototype,e),n&&Fp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.hostAliases=e.map((function(t){return n.toRegex(t)}))}),[{key:"isMatch",value:function(t){var e=function(t){var e=C(t).match(/^([^\/:?#]+)/);return e&&e[1]?e[1].toLowerCase():null}(t);if(e){var n,r=Mp(this.hostAliases);try{for(r.s();!(n=r.n()).done;){if(n.value.test(e))return!0}}catch(t){r.e(t)}finally{r.f()}}return!1}},{key:"toRegex",value:function(t){return new RegExp(t.replace(/\.\*/,"[^\\.]*"))}}])}();function zp(t){return zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zp(t)}function Gp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Jp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Jp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kp(r.key),r)}}function Kp(t){var e=function(t,e){if("object"!=zp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zp(e)?e:e+""}var Xp=function(){return function(t,e,n){return e&&$p(t.prototype,e),n&&$p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.translationLookup=e;this.liveEditorApi=n}),[{key:"removeOrphanedComments",value:function(t){var e,n=function(t){function e(t){return t.nodeType===Node.COMMENT_NODE?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}e.acceptNode=e;var n=document.createTreeWalker(t,NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_ELEMENT,e,!1),r=[];t.nodeType===Node.COMMENT_NODE&&r.push(t);for(;n.nextNode();)r.push(n.currentNode);return r}(t),r=Gp(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;ra(o)&&((!o.nextSibling||Oe(o.nextSibling)&&!o.nextSibling.data)&&o.remove())}}catch(t){r.e(t)}finally{r.f()}}},{key:"removeCommentsFromModifiedTextNodes",value:function(t,e){var n=this;t.filter((function(t){return t.hasTranslatedFragments})).forEach((function(t){var r=t.withoutUntranslatedFragments(),o=n.findOriginalTranslationValueStack(e,r.translationDataSrcKey);if(o){var i=n.detectChangesInValueStack(r,o);if(i.length>0){n.liveEditorApi.lastModifiedSrcKey===r.translationDataSrcKey||n.revertChangedFragments(i,t)}}else if(1===r.textFragments.length){var a=r.textFragments[0],u=n.findOriginalTranslationValueStack(e,a.translationDataSrcKey);if(u){var s=n.detectChangesInValueStack(r,u);s.length>0&&n.revertChangedFragments(s,t)}else n.removeCommentFromFragment(a)}else{n.removeWovnAddedWhitespaceOrText(t);t.textFragments.forEach((function(t){return n.removeCommentFromFragment(t)}))}}))}},{key:"findOriginalTranslationValueStack",value:function(t,e){return this.translationLookup.findTranslation(e,t.fromLangCode)||this.translationLookup.findTranslation(e,t.toLangCode)}},{key:"detectChangesInValueStack",value:function(t,e){var n=this,r=e.textFragments,o=t.textFragments,i=r.length===o.length&&0===r.filter((function(t){return n.containsZeroWidthSpace(t)})).length;if(i){return o.filter((function(t,e){return!n.isSameAsOriginal(t,r[e])}))}return[]}},{key:"revertChangedFragments",value:function(t,e){var n=this;this.removeWovnAddedWhitespaceOrText(e);t.forEach((function(t){return n.removeCommentFromFragment(t)}))}},{key:"containsZeroWidthSpace",value:function(t){return-1!==t.label.indexOf("")}},{key:"isSameAsOriginal",value:function(t,e){return t.normalizedSrc===e.normalizedSrc||t.normalizedSrc===fa.unescape(e.normalizedSrc)}},{key:"removeCommentFromFragment",value:function(t){t.removeComment()}},{key:"removeWovnAddedWhitespaceOrText",value:function(t){var e=t.translatedTextFragments.filter((function(t){return(e=t.original,new RegExp("".concat(r,"\\s*").concat(r)).test(e))||""===t.translationDataSrcKey;var e}));e.forEach((function(t){return t.removeNode()}));t.remove(e)}}])}();function Zp(t){var e={};for(var n in t)try{var r=decodeURIComponent(n).split("-lang=");e[r[0].toLowerCase()+"-lang="+r[1]]=t[n]}catch(r){e[n]=t[n]}return e}function Yp(t){return Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(t)}function Qp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function td(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qp(Object(n),!0).forEach((function(e){ed(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ed(t,e,n){return(e=rd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rd(r.key),r)}}function rd(t){var e=function(t,e){if("object"!=Yp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yp(e)?e:e+""}var od=function(){return function(t,e,n){return e&&nd(t.prototype,e),n&&nd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"sanitize",value:function(t){return td(td({},t),{},{html_text_vals:this.sanitizeHtmlTextVals(t.html_text_vals),page_text_vals:this.sanitizeHtmlTextVals(t.page_text_vals),link_translations:Zp(t.link_translations)})}},{key:"sanitizeHtmlTextVals",value:function(t){var e=this,n={};for(var r in t){n[r]={};var o=t[r];for(var i in o){var a=o[i].map((function(t){return e.sanitizeUnifiedValueTranslation(t)}));n[r][i]=a}}return n}},{key:"sanitizeUnifiedValueTranslation",value:function(t){var e=this,n=[t.data].map((function(t){return e.removeSpacesAroundOptionElements(t)})).map((function(t){return e.removeContentOfWovnIgnoreTags(t)}))[0];return td(td({},t),{},{data:n})}},{key:"removeSpacesAroundOptionElements",value:function(t){var e=t.trim(),n=e.indexOf("<option>"),r=e.indexOf("</option>");return 0===n&&r>n?function(t){var e="<[^/>]+>",n=t,r=new RegExp("(".concat(e,")[^<]+?(").concat(e,")"),"g"),o=new RegExp("(".concat("<\\/[^>]+>",")[^<]+?(").concat("<[^>]+>",")"),"g");n=c(n,r,"$1$2");return c(n,o,"$1$2")}(e):t}},{key:"removeContentOfWovnIgnoreTags",value:function(t){return t.replace(/(<\w+\s+wovn-ignore(?:=['"][^'"]*['"])?\s*>)[^>]*(<[^>]+>)/g,"$1$2")}}])}();function id(t){return id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(t)}function ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ud(r.key),r)}}function ud(t){var e=function(t,e){if("object"!=id(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=id(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==id(e)?e:e+""}var sd=function(){return function(t,e,n){return e&&ad(t.prototype,e),n&&ad(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.customDomainLanguages=e;this.langComponent=n}),[{key:"getLanguage",value:function(t){return this.getLanguageFromUrl(E(t))}},{key:"getLanguageFromUrl",value:function(t){var e=this.customDomainLanguages.getCustomDomainLanguageByUrl(t);return e?e.language:null}},{key:"removeLanguage",value:function(t,e){return this.removeLanguageFromUrl(E(t),e).href}},{key:"removeLanguageFromUrl",value:function(t,e){var n=this.langComponent.getDefaultCodeIfExists(),r=this.customDomainLanguages.getCustomDomainLanguageByLang(e);if(r&&r.language!=n){var o=this.customDomainLanguages.getCustomDomainLanguageByLang(n);if(o)return this.changeToNewCustomDomainLanguage(t,r,o)}return t}},{key:"addLanguage",value:function(t,e){var n=E(t),r=this.customDomainLanguages.getCustomDomainLanguageByUrl(n),o=this.customDomainLanguages.getCustomDomainLanguageByLang(e);if(r&&o&&r.language!=o.language){return this.changeToNewCustomDomainLanguage(n,r,o).href}return n.href}},{key:"changeToNewCustomDomainLanguage",value:function(t,e,n){var r=t.host.replace(e.domain,n.domain),o=new RegExp("^".concat(f(e.path,"/"),"(/|$)")),i=t.pathname.replace(o,f(n.path,"/")+"$1"),a=t.search?"".concat(t.search):"",u=t.hash;return E("".concat(t.protocol,"//").concat(r).concat(i).concat(a).concat(u))}}])}();function ld(t){return ld="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ld(t)}function cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fd(r.key),r)}}function fd(t){var e=function(t,e){if("object"!=ld(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ld(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ld(e)?e:e+""}var pd=function(){return function(t,e,n){return e&&cd(t.prototype,e),n&&cd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.customDomainLanguages=e}),[{key:"all",get:function(){return this.customDomainLanguages}},{key:"getCustomDomainLanguageByLang",value:function(t){return gt.find(this.customDomainLanguages,(function(e){return e.language==t}))}},{key:"getCustomDomainLanguageByUrl",value:function(t){var e=this.customDomainLanguages.slice().sort((function(t,e){return e.path.length-t.path.length}));return gt.find(e,(function(e){return e.isMatch(t)}))}}])}();function dd(t){return dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(t)}function hd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yd(r.key),r)}}function yd(t){var e=function(t,e){if("object"!=dd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dd(e)?e:e+""}var gd=function(){return function(t,e,n){return e&&hd(t.prototype,e),n&&hd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.domain=e;this.path=n;this.language=r;this.path=i(n,"/")?n:n+"/"}),[{key:"isMatch",value:function(t){return this.domain.toLowerCase()==t.hostname.toLowerCase()&&this.pathIsEqualOrSubsetOf(this.path,t.pathname)}},{key:"pathIsEqualOrSubsetOf",value:function(t,e){for(var n=t.split("/").filter((function(t){return t.length>0})),r=e.split("/").filter((function(t){return t.length>0})),o=0;o<n.length;o++)if(r[o]!==n[o])return!1;return!0}}])}();function vd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return md(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?md(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function md(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bd(t){return encodeURIComponent(t.trim())}function wd(t){return decodeURIComponent(t)}function Sd(t){return Sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(t)}function kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Td(r.key),r)}}function Td(t){var e=function(t,e){if("object"!=Sd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sd(e)?e:e+""}var Cd=function(){return function(t,e,n){return e&&kd(t.prototype,e),n&&kd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.doc=e;this.location=n;this.domainOptions=r;this.isSecureContext="https:"===n.protocol}),[{key:"getValue",value:function(t){var e=function(t){var e=t.split(";").map((function(t){return t.trim().split("=")})).filter((function(t){return 2===t.length})),n={};e.forEach((function(t){var e=vd(t,2),r=e[0],o=e[1];n[r]=o}));return n}(this.doc.cookie||"")[bd(t)];return e?wd(e):null}},{key:"setValue",value:function(t,e,n){if(!this.cookieDomain)throw new Error("Unable to set cookie");this.setCookie(t,e,n,this.cookieDomain)}},{key:"eraseValue",value:function(t){this.setValue(t,"",-1)}},{key:"formatExpirationDate",value:function(t){var e=new Date;e.setTime(e.getTime()+24*t*60*60*1e3);return"; expires="+e.toUTCString()}},{key:"setCookie",value:function(t,e,n,r){var o=bd(t)+"=";o+=e?bd(e):"";o+="; path=/";o+=n?this.formatExpirationDate(n):"";o+=r?"; domain="+r:"";this.isSecureContext&&!this.domainOptions.hasFeature("force_insecure_cookies")?o+="; Secure; SameSite=None":o+="; SameSite=Lax";this.doc.cookie=o}},{key:"cookieDomain",get:function(){if(void 0===this._cookieDomain)for(var t=this.location.hostname.split("."),e=t.length>1,n=this.domainOptions.hasFeature("widget_strict_cookie_domain")?t.length:e?2:1;n<=t.length;n++){var r=t.slice(-n).join(".");if(this.canStoreCookie(r)){this._cookieDomain=r;break}}return this._cookieDomain}},{key:"canStoreCookie",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setCookie(br.VALIDATE.name,"ok",br.VALIDATE.expirationDays,t);var e="ok"===this.getValue(br.VALIDATE.name);this.setCookie(br.VALIDATE.name,"",-1,t);var n=!this.getValue(br.VALIDATE.name);return e&&n}}])}();function Od(t){return Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(t)}function Ed(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pd(r.key),r)}}function Pd(t){var e=function(t,e){if("object"!=Od(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Od(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Od(e)?e:e+""}var _d="__wovn__.CookieStore",Ad=function(){return function(t,e,n){return e&&Ed(t.prototype,e),n&&Ed(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.storage=e}),[{key:"getValue",value:function(t){var e=this.readAllCookies()[bd(t)];return e?wd(e):null}},{key:"setValue",value:function(t,e,n){var r=this.readAllCookies();r[bd(t)]=bd(e);this.writeAllCookies(r);if(this.getValue(t)!==e)throw new Error("Unable to set cookie")}},{key:"eraseValue",value:function(t){var e=this.readAllCookies();delete e[bd(t)];this.writeAllCookies(e)}},{key:"readAllCookies",value:function(){return JSON.parse(this.storage.getItem(_d)||"{}")}},{key:"writeAllCookies",value:function(t){this.storage.setItem(_d,X(t))}}])}();function xd(t){return xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xd(t)}function jd(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ld(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ld(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Ld(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dd(r.key),r)}}function Dd(t){var e=function(t,e){if("object"!=xd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xd(e)?e:e+""}var Nd=function(){return function(t,e,n){return e&&Id(t.prototype,e),n&&Id(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.containers=e}),[{key:"getValue",value:function(t){var e,n=jd(this.containers);try{for(n.s();!(e=n.n()).done;){var r=e.value.getValue(t);if(r)return r}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"setValue",value:function(t,e,n){var r,o=jd(this.containers);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return i.setValue(t,e,n)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}}},{key:"eraseValue",value:function(t){var e,n=jd(this.containers);try{for(n.s();!(e=n.n()).done;){var r=e.value;try{return r.eraseValue(t)}catch(t){}}}catch(t){n.e(t)}finally{n.f()}}}])}();function Rd(t){return Rd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(t)}function Ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vd(r.key),r)}}function Vd(t){var e=function(t,e){if("object"!=Rd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rd(e)?e:e+""}var Hd=function(){return function(t,e,n){return e&&Ud(t.prototype,e),n&&Ud(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Vd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"length",0)}),[{key:"clear",value:function(){}},{key:"getItem",value:function(t){return null}},{key:"key",value:function(t){return null}},{key:"removeItem",value:function(t){}},{key:"setItem",value:function(t,e){}}])}();function Md(){try{if(window.localStorage)return window.localStorage}catch(t){return new Hd}return new Hd}function Bd(){try{if(window.sessionStorage)return window.sessionStorage}catch(t){return new Hd}return new Hd}function Fd(t){return Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(t)}function Wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qd(r.key),r)}}function qd(t){var e=function(t,e){if("object"!=Fd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fd(e)?e:e+""}var zd=br.WOVN_UUID,Gd=function(){return function(t,e,n){return e&&Wd(t.prototype,e),n&&Wd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e}),[{key:"cookie",get:function(){var t=this.cookieStore.get(zd);if(t)return t;this.cookieStore.set(zd,this.createUniqueId());return this.cookieStore.get(zd)}},{key:"erase",value:function(){this.cookieStore.erase(zd)}},{key:"createUniqueId",value:function(){return Math.random().toString(36).substr(2,9)}}])}();function Jd(t){return Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jd(t)}function $d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kd(r.key),r)}}function Kd(t){var e=function(t,e){if("object"!=Jd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jd(e)?e:e+""}var Xd=function(){return function(t,e,n){return e&&$d(t.prototype,e),n&&$d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o,i,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e;this.pageDataLoader=n;this.domainOptionsLoader=r;this.widgetSessionManager=o;this.widgetPreview=i;this.liveEditorSettings=a;this.debugSettings=u}),[{key:"loadInitialPageAndDomainData",value:function(){var e=this;return this.widgetPreview.getSignature()||this.liveEditorSettings.isEnabled?this.widgetSessionManager.startAndAuthenticate().then((function(){return e.loadDomainOptions()})).then((function(){return e.loadPageData()})):this.debugSettings.loadDataSequentially?this.loadDomainOptions().then((function(){return e.loadPageData()})):t.Promise.all([this.loadDomainOptions(),this.loadPageData()]).then((function(){}))}},{key:"loadPageData",value:function(){var t=this;return this.pageDataLoader.loadPageData().then((function(e){return t.data.pageData.set(e)}))}},{key:"loadDomainOptions",value:function(){var t=this;return this.domainOptionsLoader.loadDomainOptions().then((function(e){return t.data.domainOptions.setOptions(e)}))}}])}();function Zd(t){return Zd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(t)}function Yd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qd(r.key),r)}}function Qd(t){var e=function(t,e){if("object"!=Zd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zd(e)?e:e+""}var th="wovn_preview_signature=([^&]+)",eh=new RegExp(th),nh="wovn_preview_signature",rh=function(){return function(t,e,n){return e&&Yd(t.prototype,e),n&&Yd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Qd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"signature",null);this.sessionStorage=e;this.location=n;this.snippetSettings=r;this.history=o}),[{key:"isEnabled",get:function(){return!!this.getSignature()}},{key:"loadSignatureFromUrl",value:function(){var t=this.location.search.match(eh);if(t){var e=t[1];this.signature=e;this.sessionStorage.setValue(nh,e,Date.now())}}},{key:"removeSignatureFromUrl",value:function(){Ra(this.snippetSettings.urlPattern)||this.removeSignatureFromUrlInternal()}},{key:"removeSignatureFromUrlInternal",value:function(){var t=new RegExp("&?".concat(th));if(this.location.search.match(t)){var e=this.location.pathname+this.location.search.replace(t,"").replace(/^\?&/,"?").replace(/^\?$/,"")+this.location.hash;this.history.replaceState(this.history.state,"",e)}}},{key:"getSignature",value:function(){var t;return this.signature||(this.signature=null===(t=this.sessionStorage.getValue(nh,0))||void 0===t?void 0:t[1])||null}},{key:"exit",value:function(){this.removeSignatureFromUrlInternal();this.sessionStorage.removeValue(nh)}}])}();function oh(t){return oh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oh(t)}function ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uh(r.key),r)}}function ah(t,e,n){return(e=uh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uh(t){var e=function(t,e){if("object"!=oh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oh(e)?e:e+""}var sh=function(){return function(t,e,n){return e&&ih(t.prototype,e),n&&ih(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o,i,a,u,s,l,c,f){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);ah(this,"EXCLUDED_CLASS","wovn-excluded");ah(this,"INCLUDED_CLASS","wovn-included");ah(this,"DIAGNOSTICS_STYLE_CLASS","wovn-diagnostics");this.data=e;this.api=n;this.widget=r;this.wovnContext=o;this.supervisedContent=i;this.reportHelper=a;this._cookieStore=u;this.lang=s;this.langCookie=l;this.snippetSettings=c;this.pageMetadataManager=f}),[{key:"cookieStore",get:function(){return this._cookieStore}},{key:"getDefaultLang",value:function(){return this.lang.getDefaultCodeIfExists()}},{key:"getSelectedLangCookie",value:function(){return this.langCookie.get()}},{key:"isBackend",value:function(){return this.snippetSettings.isBackend}},{key:"getProjectToken",value:function(){return this.snippetSettings.token}},{key:"showIgnoredTags",value:function(){var t=this;this.insertStyleSheetIfNeeded();var e=[];e=e.concat(Te("[wovn-ignore], [data-wovn-ignore], [wovn-ignore-content], [data-wovn-ignore-content]"));this.data.getExcludedContent().forEach((function(t){e=e.concat(Te(t.selector))}));e.forEach((function(e){e.classList.add(t.EXCLUDED_CLASS)}))}},{key:"showEnabledTags",value:function(){var t=this;this.insertStyleSheetIfNeeded();this.supervisedContent.getSupervisedNodes().forEach((function(e){e.classList.add(t.INCLUDED_CLASS)}))}},{key:"customReport",value:function(e){return this.api.isApiReady()?this.reportHelper.immediateReportVals(Fl.ManualCustom,e):t.Promise.resolve()}},{key:"getNormalizedPageUrl",value:function(){return this.widget.getLocation()}},{key:"pageReportedAtLeastOnce",value:function(){return this.api.isApiReady()&&this.reportHelper.getReportSuccessCount()>0}},{key:"getLastReportedValues",value:function(){return this.api.isApiReady()&&this.reportHelper.getLastReportedValues()}},{key:"getTranslatePageLink",value:function(){var t=this.wovnContext.wovnHost,e=this.data.domainOptions.getDomainId(),n=this.data.pageData.getPageId();return"".concat(t,"projects#/").concat(e,"/web/translate/").concat(n)}},{key:"addLiveEditorTranslation",value:function(t,e,n,r,o){this.translationManager.addLiveEditorTranslation(t,e,n,r,o);this.api.triggerAudit()}},{key:"updateLiveEditorTranslations",value:function(t){this.translationManager.updateLiveEditorTranslations(t);this.api.triggerAudit()}},{key:"addPageMetadata",value:function(t,e){this.pageMetadataManager.add(t,e)}},{key:"translationManager",get:function(){return this.widget.c("TranslationManager")}},{key:"insertStyleSheetIfNeeded",value:function(){if(Te("style.".concat(this.DIAGNOSTICS_STYLE_CLASS)).length<=0){var t=document.createElement("style");t.classList.add(this.DIAGNOSTICS_STYLE_CLASS);t.innerHTML="\n      .".concat(this.EXCLUDED_CLASS," { background-color: rgb(255,255,0) !important; color: rgb(0,0,0) !important; outline: 4px solid rgb(160,160,0) !important; }\n      .").concat(this.INCLUDED_CLASS," { background-color: rgb(0,255,255) !important; color: rgb(0,0,0) !important; outline: 4px solid rgb(0,160,160) !important; }\n      .").concat(this.EXCLUDED_CLASS,".").concat(this.INCLUDED_CLASS,",\n      .").concat(this.EXCLUDED_CLASS," .").concat(this.INCLUDED_CLASS,",\n      .").concat(this.INCLUDED_CLASS," .").concat(this.EXCLUDED_CLASS,"\n      { background-color: rgb(255,0,255) !important; color: rgb(0,0,0) !important; outline: 4px solid rgb(160,0,160) !important; }\n      ");document.body.appendChild(t)}}}])}();function lh(t){return lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(t)}function ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fh(r.key),r)}}function fh(t){var e=function(t,e){if("object"!=lh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lh(e)?e:e+""}var ph=function(){return function(t,e,n){return e&&ch(t.prototype,e),n&&ch(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.dataLoader=n;this.cache=r}),[{key:"loadPageData",value:function(){var e=this,n=this.widget.getEncodedLocation(),r=this.cache.get(n);return r?t.Promise.resolve(r):this.dataLoader.loadPageData().then((function(t){e.cache.insert(n,t);return t}))}}])}();function dh(t){return dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(t)}function hh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yh(r.key),r)}}function yh(t){var e=function(t,e){if("object"!=dh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dh(e)?e:e+""}var gh=function(){return function(t,e,n){return e&&hh(t.prototype,e),n&&hh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.liveEditorSettings=e;this.widgetPreview=n;this.widgetSessionManager=r;this.normalPageDataLoader=o;this.previewPageDataLoader=i;this.liveEditPageDataLoader=a}),[{key:"loadPageData",value:function(){var t=this,e=this.widgetSessionManager.isLoggedIn;return this.liveEditorSettings.isEnabledV1&&e?this.liveEditPageDataLoader.loadPageData():this.widgetPreview.getSignature()&&e?this.previewPageDataLoader.loadPageData()["catch"]((function(){return t.normalPageDataLoader.loadPageData()})):this.normalPageDataLoader.loadPageData()}}])}();function vh(t){return vh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(t)}function mh(t){return function(t){if(Array.isArray(t))return bh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bh(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bh(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sh(r.key),r)}}function Sh(t){var e=function(t,e){if("object"!=vh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vh(e)?e:e+""}var kh=function(){return function(t,e,n){return e&&wh(t.prototype,e),n&&wh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widgetDataController=e;this.domainOptionsSanitizer=n;this.widgetPreview=r;this.widgetSessionManager=o;this.location=i}),[{key:"loadDomainOptions",value:function(){var t=this,e=this.widgetPreview.getSignature();return(e&&this.widgetSessionManager.isLoggedIn?this.widgetDataController.previewDomainOptions(e):this.widgetDataController.domainOptions()).then((function(e){return t.addCountryCodeToDomainOptions(e)})).then((function(e){return t.addCurrentHostToHostAliases(e)})).then((function(t){return t.body})).then((function(e){return t.domainOptionsSanitizer.sanitize(e)}))}},{key:"addCountryCodeToDomainOptions",value:function(t){var e=t.headers,n=e["Country-Code"]||e["country-code"];n&&(t.body.countryCode=n);return t}},{key:"addCurrentHostToHostAliases",value:function(t){var e=t.body["host_aliases"]||[];if(Object.keys(t.body).length>0){var n=this.hostToRegexStr(this.location.host);gt.includes(e,n)||(e=[].concat(mh(e),[n]));t.body["host_aliases"]=e}return t}},{key:"hostToRegexStr",value:function(t){return"^".concat(t.replace(/\./g,"\\."),"$")}}])}();function Th(t){return Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(t)}function Ch(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oh(r.key),r)}}function Oh(t){var e=function(t,e){if("object"!=Th(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Th(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Th(e)?e:e+""}var Eh=function(){return function(t,e,n){return e&&Ch(t.prototype,e),n&&Ch(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Oh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"cache",[]);this.cacheSize=e}),[{key:"clear",value:function(){this.cache=[]}},{key:"insert",value:function(t,e){this.cache.unshift({key:t,data:e});this.cache.length>this.cacheSize&&this.cache.pop()}},{key:"get",value:function(t){var e=gt.find(this.cache,(function(e){return e.key==t}));return e?e.data:null}}])}();function Ph(t){return Ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(t)}function _h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ah(r.key),r)}}function Ah(t){var e=function(t,e){if("object"!=Ph(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ph(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ph(e)?e:e+""}var xh=function(){return function(t,e,n){return e&&_h(t.prototype,e),n&&_h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.liveEditorController=e}),[{key:"loadPageData",value:function(){return this.liveEditorController.liveEditorSavedJsonData().then((function(t){return t.body}))["catch"]((function(e){return t.Promise.reject(e)}))}}])}();function jh(t){return jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(t)}function Lh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ih(r.key),r)}}function Ih(t){var e=function(t,e){if("object"!=jh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jh(e)?e:e+""}var Dh=function(){return function(t,e,n){return e&&Lh(t.prototype,e),n&&Lh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.snippetSettings=e;this.staticLanguages=n}),[{key:"sanitizedLangAliases",value:function(t){for(var e=[],n=0,r=Object.keys(t.langCodeAliases);n<r.length;n++){var o=r[n],i=t.langCodeAliases[o],a=this.staticLanguages.find(o);""!==i&&null!=a&&e.push({originalLanguage:a,langCodeAlias:i})}return e}},{key:"langAliases",get:function(){return this._langAliases||(this._langAliases=this.sanitizedLangAliases(this.snippetSettings))}},{key:"findAlias",value:function(t){if(!t)return null;t=t.toLowerCase();return gt.find(this.langAliases,(function(e){return e.originalLanguage.code.toLowerCase()===t}))}},{key:"findFromAlias",value:function(t){if(!t)return null;t=t.toLowerCase();return gt.find(this.langAliases,(function(e){return e.langCodeAlias.toLowerCase()===t}))}}])}();function Nh(t){return Nh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nh(t)}function Rh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uh(r.key),r)}}function Uh(t){var e=function(t,e){if("object"!=Nh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nh(e)?e:e+""}var Vh=function(){return function(t,e,n){return e&&Rh(t.prototype,e),n&&Rh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.languageInfo=e;this.alias=n}),[{key:"displayLanguage",get:function(){return this.alias?this.alias.langCodeAlias:this.languageInfo.code}}])}();function Hh(t){return Hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(t)}function Mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bh(r.key),r)}}function Bh(t){var e=function(t,e){if("object"!=Hh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hh(e)?e:e+""}var Fh=function(){return function(t,e,n){return e&&Mh(t.prototype,e),n&&Mh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.staticLanguages=e;this.languageAliases=n}),[{key:"find",value:function(t){if(!t)return null;t=t.toLowerCase();var e=this.staticLanguages.find(t),n=this.languageAliases.findAlias(t)||this.languageAliases.findFromAlias(t);return n?new Vh(n.originalLanguage,n):e?new Vh(e,n):null}}])}();function Wh(t){return Wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(t)}function qh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zh(r.key),r)}}function zh(t){var e=function(t,e){if("object"!=Wh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wh(e)?e:e+""}var Gh=JSON.parse('{"ar":{"name":"","tag":{"language":"ar"},"code":"ar","en":"Arabic","use_word_boundary":true,"script_direction":"rtl","unit_type":"word","candidates":["ar"]},"eu":{"name":"Euskara","tag":{"language":"eu"},"code":"eu","en":"Basque","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["eu"]},"bn":{"name":" ","tag":{"language":"bn"},"code":"bn","en":"Bengali","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["bn"]},"bg":{"name":"","tag":{"language":"bg"},"code":"bg","en":"Bulgarian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["bg"]},"my":{"name":"","tag":{"language":"my"},"code":"my","en":"Burmese","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["my"]},"ca":{"name":"Catal","tag":{"language":"ca"},"code":"ca","en":"Catalan","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ca"]},"zh-CHS":{"name":"","tag":{"language":"zh"},"code":"zh-CHS","en":"Chinese (Simplified)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-Hans","zh-CHS","zh"]},"zh-CN":{"name":"","tag":{"language":"zh","region":"CN"},"code":"zh-CN","en":"Chinese (Simplified, China)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-CN","zh","zh-CHS"]},"zh-CHT":{"name":"","tag":{"language":"zh","script":"Hant"},"code":"zh-CHT","en":"Chinese (Traditional)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-CHT","zh-Hant"]},"zh-Hant-HK":{"name":"","tag":{"language":"zh","region":"HK","script":"Hant"},"code":"zh-Hant-HK","en":"Chinese (Traditional, Hong Kong)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-Hant-HK","zh-HK","zh-Hant","zh-CHT"]},"zh-Hant-TW":{"name":"","tag":{"language":"zh","region":"TW","script":"Hant"},"code":"zh-Hant-TW","en":"Chinese (Traditional, Taiwan)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-Hant-TW","zh-TW","zh-Hant","zh-CHT"]},"da":{"name":"Dansk","tag":{"language":"da"},"code":"da","en":"Danish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["da"]},"nl":{"name":"Nederlands","tag":{"language":"nl"},"code":"nl","en":"Dutch","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["nl"]},"en":{"name":"English","tag":{"language":"en"},"code":"en","en":"English","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en"]},"en-AU":{"name":"English (Australia)","tag":{"language":"en","region":"AU"},"code":"en-AU","en":"English (Australia)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-AU","en"]},"en-CA":{"name":"English (Canada)","tag":{"language":"en","region":"CA"},"code":"en-CA","en":"English (Canada)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-CA","en"]},"en-IN":{"name":"English (India)","tag":{"language":"en","region":"IN"},"code":"en-IN","en":"English (India)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-IN","en"]},"en-NZ":{"name":"English (New Zealand)","tag":{"language":"en","region":"NZ"},"code":"en-NZ","en":"English (New Zealand)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-NZ","en"]},"en-SG":{"name":"English (Singapore)","tag":{"language":"en","region":"SG"},"code":"en-SG","en":"English (Singapore)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-SG","en"]},"en-ZA":{"name":"English (South Africa)","tag":{"language":"en","region":"ZA"},"code":"en-ZA","en":"English (South Africa)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-ZA","en"]},"en-GB":{"name":"English (United Kingdom)","tag":{"language":"en","region":"GB"},"code":"en-GB","en":"English (United Kingdom)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-GB","en"]},"en-US":{"name":"English (United States)","tag":{"language":"en","region":"US"},"code":"en-US","en":"English (United States)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-US","en"]},"fi":{"name":"Suomi","tag":{"language":"fi"},"code":"fi","en":"Finnish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fi"]},"fr":{"name":"Franais","tag":{"language":"fr"},"code":"fr","en":"French","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fr"]},"fr-CA":{"name":"Franais (Canada)","tag":{"language":"fr","region":"CA"},"code":"fr-CA","en":"French (Canada)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fr-CA","fr"]},"fr-FR":{"name":"Franais (France)","tag":{"language":"fr","region":"FR"},"code":"fr-FR","en":"French (France)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fr-FR","fr"]},"fr-CH":{"name":"Franais (Suisse)","tag":{"language":"fr","region":"CH"},"code":"fr-CH","en":"French (Switzerland)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fr-CH","fr"]},"gl":{"name":"Galego","tag":{"language":"gl"},"code":"gl","en":"Galician","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["gl"]},"de":{"name":"Deutsch","tag":{"language":"de"},"code":"de","en":"German","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de"]},"de-AT":{"name":"Deutsch (sterreich)","tag":{"language":"de","region":"AT"},"code":"de-AT","en":"German (Austria)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de-AT","de"]},"de-DE":{"name":"Deutsch (Deutschland)","tag":{"language":"de","region":"DE"},"code":"de-DE","en":"German (Germany)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de-DE","de"]},"de-LI":{"name":"Deutsch (Liechtenstein)","tag":{"language":"de","region":"LI"},"code":"de-LI","en":"German (Liechtenstein)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de-LI","de"]},"de-CH":{"name":"Deutsch (Schweiz)","tag":{"language":"de","region":"CH"},"code":"de-CH","en":"German (Switzerland)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de-CH","de"]},"el":{"name":"","tag":{"language":"el"},"code":"el","en":"Greek","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["el"]},"he":{"name":"","tag":{"language":"he"},"code":"he","en":"Hebrew","use_word_boundary":true,"script_direction":"rtl","unit_type":"word","candidates":["iw","he"]},"hi":{"name":"","tag":{"language":"hi"},"code":"hi","en":"Hindi","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["hi"]},"hu":{"name":"Magyar","tag":{"language":"hu"},"code":"hu","en":"Hungarian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["hu"]},"id":{"name":"Bahasa Indonesia","tag":{"language":"id"},"code":"id","en":"Indonesian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["id"]},"it":{"name":"Italiano","tag":{"language":"it"},"code":"it","en":"Italian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["it"]},"it-IT":{"name":"Italiano (Italia)","tag":{"language":"it","region":"IT"},"code":"it-IT","en":"Italian (Italy)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["it-IT","it"]},"it-CH":{"name":"Italiano (Svizzera)","tag":{"language":"it","region":"CH"},"code":"it-CH","en":"Italian (Switzerland)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["it-CH","it"]},"ja":{"name":"","tag":{"language":"ja"},"code":"ja","en":"Japanese","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["ja"]},"km":{"name":"","tag":{"language":"km"},"code":"km","en":"Khmer","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["km"]},"ko":{"name":"","tag":{"language":"ko"},"code":"ko","en":"Korean","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["ko"]},"lv":{"name":"Latvieu","tag":{"language":"lv"},"code":"lv","en":"Latvian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["lv"]},"ms":{"name":"Bahasa Melayu","tag":{"language":"ms"},"code":"ms","en":"Malay","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ms"]},"mn":{"name":"","tag":{"language":"mn"},"code":"mn","en":"Mongolian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["mn"]},"ne":{"name":" ","tag":{"language":"ne"},"code":"ne","en":"Nepali","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ne"]},"no":{"name":"Norsk","tag":{"language":"no"},"code":"no","en":"Norwegian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["no"]},"fa":{"name":"_","tag":{"language":"fa"},"code":"fa","en":"Persian","use_word_boundary":true,"script_direction":"rtl","unit_type":"word","candidates":["fa"]},"pl":{"name":"Polski","tag":{"language":"pl"},"code":"pl","en":"Polish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["pl"]},"pt":{"name":"Portugus","tag":{"language":"pt"},"code":"pt","en":"Portuguese","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["pt"]},"pt-BR":{"name":"Portugus (Brasil)","tag":{"language":"pt","region":"BR"},"code":"pt-BR","en":"Portuguese (Brazil)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["pt-BR","pt"]},"pt-PT":{"name":"Portugus (Portugal)","tag":{"language":"pt","region":"PT"},"code":"pt-PT","en":"Portuguese (Portugal)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["pt-PT","pt"]},"ru":{"name":"","tag":{"language":"ru"},"code":"ru","en":"Russian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ru"]},"si":{"name":"","tag":{"language":"si"},"code":"si","en":"Sinhala","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["si"]},"es":{"name":"Espaol","tag":{"language":"es"},"code":"es","en":"Spanish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es"]},"es-AR":{"name":"Espaol (Argentina)","tag":{"language":"es","region":"AR"},"code":"es-AR","en":"Spanish (Argentina)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-AR","es"]},"es-CL":{"name":"Espaol (Chile)","tag":{"language":"es","region":"CL"},"code":"es-CL","en":"Spanish (Chile)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-CL","es"]},"es-CO":{"name":"Espaol (Colombia)","tag":{"language":"es","region":"CO"},"code":"es-CO","en":"Spanish (Colombia)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-CO","es"]},"es-CR":{"name":"Espaol (Costa Rica)","tag":{"language":"es","region":"CR"},"code":"es-CR","en":"Spanish (Costa Rica)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-CR","es"]},"es-HN":{"name":"Espaol (Honduras)","tag":{"language":"es","region":"HN"},"code":"es-HN","en":"Spanish (Honduras)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-HN","es"]},"es-419":{"name":"Espaol (Latinoamrica)","tag":{"language":"es","region":"419"},"code":"es-419","en":"Spanish (Latin America)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-419","es"]},"es-MX":{"name":"Espaol (Mxico)","tag":{"language":"es","region":"MX"},"code":"es-MX","en":"Spanish (Mexico)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-MX","es"]},"es-PE":{"name":"Espaol (Per)","tag":{"language":"es","region":"PE"},"code":"es-PE","en":"Spanish (Peru)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-PE","es"]},"es-ES":{"name":"Espaol (Espaa)","tag":{"language":"es","region":"ES"},"code":"es-ES","en":"Spanish (Spain)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-ES","es"]},"es-US":{"name":"Espaol (Estados Unidos)","tag":{"language":"es","region":"US"},"code":"es-US","en":"Spanish (United States)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-US","es"]},"es-UY":{"name":"Espaol (Uruguay)","tag":{"language":"es","region":"UY"},"code":"es-UY","en":"Spanish (Uruguay)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-UY","es"]},"es-VE":{"name":"Espaol (Venezuela)","tag":{"language":"es","region":"VE"},"code":"es-VE","en":"Spanish (Venezuela)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-VE","es"]},"sw":{"name":"Kiswahili","tag":{"language":"sw"},"code":"sw","en":"Swahili","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["sw"]},"sv":{"name":"Svensk","tag":{"language":"sv"},"code":"sv","en":"Swedish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["sv"]},"tl":{"name":"Tagalog","tag":{"language":"tl"},"code":"tl","en":"Tagalog","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["tl"]},"ta":{"name":"","tag":{"language":"ta"},"code":"ta","en":"Tamil","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ta"]},"th":{"name":"","tag":{"language":"th"},"code":"th","en":"Thai","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["th"]},"tr":{"name":"Trke","tag":{"language":"tr"},"code":"tr","en":"Turkish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["tr"]},"uk":{"name":"","tag":{"language":"uk"},"code":"uk","en":"Ukrainian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["uk"]},"ur":{"name":"","tag":{"language":"ur"},"code":"ur","en":"Urdu","use_word_boundary":true,"script_direction":"rtl","unit_type":"word","candidates":["ur"]},"uz":{"name":"Ozbekcha","tag":{"language":"uz"},"code":"uz","en":"Uzbek","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["uz"]},"vi":{"name":"Ting Vit","tag":{"language":"vi"},"code":"vi","en":"Vietnamese","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["vi"]}}'),Jh=function(){return function(t,e,n){return e&&qh(t.prototype,e),n&&qh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.all=st.values(e)}),[{key:"find",value:function(t){return gt.find(this.all,(function(e){return function(t,e){return(e=e.toLowerCase())===t.name.toLowerCase()||e===t.code.toLowerCase()||e===t.en.toLowerCase()}(e,t)}))}}])}(),$h=new Jh(Gh);var Kh=function(t){t["MODAL_CLOSED"]="wovnMachineTranslatedModalClosed";return t}({});function Xh(t){return Xh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(t)}function Zh(t){return function(t){if(Array.isArray(t))return ty(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Qh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||Qh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qh(t,e){if(t){if("string"==typeof t)return ty(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ty(t,e):void 0}}function ty(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ey(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ry(r.key),r)}}function ny(t,e,n){return(e=ry(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ry(t){var e=function(t,e){if("object"!=Xh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xh(e)?e:e+""}function oy(t,e,n){var r=document.createElement("link"),o=t.isVersioned?"".concat(t.cdnCacheHost,"widget/").concat(e,"/css/").concat(n,"?v=").concat(p.BUILD_HASH):"".concat(t.jHost,"css/").concat(n,"?v=").concat(p.BUILD_HASH);r.href=o;r.rel="stylesheet";(document.head||document.body).appendChild(r)}var iy=function(){return function(t,e,n){return e&&ey(t.prototype,e),n&&ey(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o,i,a,u,s,l,c,f,p,d,h,y,g,v,m,b,w,S,k,T,C,O,E,P,_){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);ny(this,"hasInitialized",!1);ny(this,"machineTranslatedModal",null);ny(this,"langChangedEventCount",0);this.widget=e;this.data=n;this.lang=r;this.tagCustomization=o;this.performanceMonitor=i;this.apiStatus=a;this.wovnWaitAuditListener=u;this.auditTrigger=s;this.singlePageApp=l;this.externalComponentLoader=c;this.widgetSessionManager=f;this.wapInstaller=p;this.liveEditorInstaller=d;this.url=h;this.dataLoader=y;this.widgetPreview=g;this.pageDataCache=v;this.liveEditorSettings=m;this.widgetInterface=b;this.swapIntercom=w;this.cookieStore=S;this.wovnContext=k;this.snippetSettings=T;this.debugSettings=C;this.reportHelper=O;this.domAuditor=E;this.onDemandTranslator=P;this.pageMetadataManager=_}),[{key:"start",value:function(t){var e=this;this.hasInitialized=!1;Iu();this.pageDataCache.clear();this.auditTrigger.setAuditor((function(t,n){return e.domAuditor.audit(t,n)}));this.insertWidgetStylesheet();this.widgetPreview.loadSignatureFromUrl();this.dataLoader.loadInitialPageAndDomainData().then((function(){return e.onInitialPageDataLoaded()}))["finally"]((function(){e.data.domainOptions.hasFeature("widget_kill_switch")||e.singlePageApp.listen((function(){return e.reload()}));t&&t()}))}},{key:"onInitialPageDataLoaded",value:function(){var t=this;if(!this.data.domainOptions.hasFeature("widget_kill_switch")){this.cookieStore.initializeCookiePolicy();this.widgetPreview.removeSignatureFromUrl();this.data.domainOptions.hasFeature("immediate_widget")||this.reportHelper.mustEnsureOneReport()?st.onDomReady((function(){return t.onDocumentLoaded()})):st.onLoadingComplete((function(){return t.onDocumentLoaded()}));this.data.domainOptions.hasFeature("force_insecure_cookies")&&this.cookieStore.forceConvertAllToInsecure()}}},{key:"insertWidgetStylesheet",value:function(){oy(this.wovnContext,this.snippetSettings.token,"widget")}},{key:"onDocumentLoaded",value:function(){this.hasInitialized||this.initialize()}},{key:"initialize",value:function(){var t=this;this.wapInstaller.installIfNeeded();window.Turbolinks&&st.onEvent(window.document,"turbolinks:load",(function(){return t.widgetInterface.build()}));st.onEvent(window.document,Ht.LANG_CHANGED,(function(e){return t.onLangChanged(e)}));this.performanceMonitor.mark(Br.FirstSwapStart);this.data.domainOptions.hasFeature("final_fv_project")&&this.lang.getDocLang()!==this.lang.getDefaultCodeIfExists()&&this.reportHelper.haltReporting();this.insertHreflangLinks();(!this.data.domainOptions.hasFeature("widget_manual_start")||this.debugSettings.forceStart||this.snippetSettings.isCrawlerScrapingEnabled)&&this.startSwapping();this.apiStatus.makeReady();0===this.langChangedEventCount&&this.tagCustomization.load();this.data.domainOptions.useMachineTranslatedModal()&&this.externalComponentLoader.loadExternalComponents(["MachineTranslatedModal"]).then((function(e){var n=Yh(e,1)[0];t.machineTranslatedModal=n;t.machineTranslatedModal.start(!1)}));this.performanceMonitor.mark(Br.FirstSwapEnd);this.widgetSessionManager.startAndAuthenticate().then((function(e){e?t.checkLiveEditorAndPreview():t.liveEditorSettings.isEnabled&&t.liveEditorSettings.removeSettingsFromBrowserUrlState()}));this.widgetInterface.listenForDynamicallyAddedCustomWidget();this.swapIntercom.start();this.hasInitialized=!0}},{key:"checkLiveEditorAndPreview",value:function(){var t=this;this.liveEditorSettings.isEnabled?this.loadLiveEditor():this.widgetPreview.isEnabled?this.widgetInterface.addPreviewModeButton():this.widgetSessionManager.startAndAuthenticate().then((function(e){e&&t.widgetInterface.addSessionTools(t)}))}},{key:"startSwapping",value:function(){this.widgetInterface.build();this.wovnWaitAuditListener.listen();this.lang.setDocLang();this.pageMetadataManager.executePageMetadataScripts();this.auditTrigger.start()}},{key:"stopWidget",value:function(){this.domAuditor.stop();this.auditTrigger.stop();this.lang.ignoreBackendLang();this.pageMetadataManager.clear();this.data.pageData.clearPageData()}},{key:"onLangChanged",value:function(t){var e,n=this,r=++this.langChangedEventCount;this.onDemandTranslator.clearOdtResults();this.machineTranslatedModal&&this.machineTranslatedModal.start(t.langChangeReason===Mt.WidgetLangSwitch);var o=this.widget.c("ParcelForwarding");o&&o.updateBannerLanguage();this.tagCustomization.load();null!==(e=this.machineTranslatedModal)&&void 0!==e&&e.isOpen()?_t(Kh.MODAL_CLOSED,(function(){r===n.langChangedEventCount&&n.url.changeUrlIfNeeded(t.newLangCode)})):this.url.changeUrlIfNeeded(t.newLangCode)}},{key:"reload",value:function(){var t=this;this.stopWidget();return this.dataLoader.loadPageData().then((function(){t.hasInitialized||t.initialize();t.lang.clearDocLang();var e=t.lang.getDocLang();t.url.changeUrlIfNeeded(e);t.widget.c("TranslationManager").clear();t.tagCustomization.load();t.pageMetadataManager.executePageMetadataScripts();t.auditTrigger.restart()}))["catch"]((function(){t.widget.cancellationToken.isCancelRequested||t.domAuditor.supervisedSwapVals(t.lang.getDefaultCodeIfExists())}))["finally"]((function(){t.widget.cancellationToken.isCancelRequested||t.widgetInterface.reload()}))}},{key:"destroy",value:function(){this.stopWidget()}},{key:"insertHreflangLinks",value:function(){var t=this.data.domainOptions.getLangPath();if(!this.widget.isBackend()&&"query"===t){var e=this.lang.getDefaultCodeIfExists(),n=[].concat(Zh(this.data.pageData.getPublishedLangs()),[e]),r=document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0]:null;if(r)for(var o=0;o<n.length;o++)if(n[o]){var i=this.url.getUrl(n[o],document.location.href),a=document.createElement("link");a.rel="alternate";a.hreflang=this.lang.iso6391Normalization(n[o]);a.href=i;r.appendChild(a)}}}},{key:"loadLiveEditor",value:function(){this.liveEditorInstaller.installIfNeeded()}}])}();function ay(t){return ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ay(t)}function uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sy(r.key),r)}}function sy(t){var e=function(t,e){if("object"!=ay(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ay(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ay(e)?e:e+""}var ly=function(){return function(t,e,n){return e&&uy(t.prototype,e),n&&uy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textNormalizer=e;this.unifiedValueComments=n}),[{key:"addEmptyTextNodes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.fragments;if(n.length>0)for(var r=n.length-1;r>=-1;--r){var o=-1===r?null:n[r],i=!o||!o.isText,a=r===n.length-1?null:n[r+1],u=!a||!a.isText;if(i&&u){var s=e?document.createTextNode(""):null;e&&(a?a.node.parentNode.insertBefore(s,a.node):o.node.parentNode.appendChild(s));t.fragments.splice(r+1,0,new Wi("",s,"",[s],[],0,!1,this.textNormalizer,this.unifiedValueComments,Yn.None))}}return t}}])}();function cy(t){return cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cy(t)}function fy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,py(r.key),r)}}function py(t){var e=function(t,e){if("object"!=cy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cy(e)?e:e+""}var dy=function(){return function(t,e,n){return e&&fy(t.prototype,e),n&&fy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.pageDataSanitizer=e;this.widgetDataController=n}),[{key:"loadPageData",value:function(){var t=this;return this.fetchPageData().then((function(e){return t.pageDataSanitizer.sanitize(e)}))}},{key:"fetchPageData",value:function(){return this.widgetDataController.pageData().then((function(t){return t.body}))}}])}();function hy(t){return hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hy(t)}function yy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gy(r.key),r)}}function gy(t){var e=function(t,e){if("object"!=hy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hy(e)?e:e+""}var vy=function(){return function(t,e,n){return e&&yy(t.prototype,e),n&&yy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.dataLoader=e;this.performanceMonitor=n}),[{key:"loadInitialPageAndDomainData",value:function(){var t=this;this.performanceMonitor.mark(Br.DataLoadStart);return this.dataLoader.loadInitialPageAndDomainData().then((function(){return t.performanceMonitor.mark(Br.DataLoadEnd)}))}},{key:"loadPageData",value:function(){var t=this;this.performanceMonitor.mark(Br.PageDataLoadStart);return this.dataLoader.loadPageData().then((function(){return t.performanceMonitor.mark(Br.PageDataLoadEnd)}))}}])}();function my(t){return my="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(t)}function by(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wy(r.key),r)}}function wy(t){var e=function(t,e){if("object"!=my(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=my(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==my(e)?e:e+""}var Sy=function(){return function(t,e,n){return e&&by(t.prototype,e),n&&by(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=wy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"nextReloadRequestId",0);this.pageDataLoader=e}),[{key:"loadPageData",value:function(){var e=this,n=this.nextReloadRequestId++;return this.pageDataLoader.loadPageData().then((function(r){return e.nextReloadRequestId-1!==n?t.Promise.reject("request was cancelled"):r}))}}])}();function ky(t){return ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(t)}function Ty(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cy(r.key),r)}}function Cy(t){var e=function(t,e){if("object"!=ky(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ky(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ky(e)?e:e+""}function Oy(t,e,n){return e=Py(e),function(t,e){if(e&&("object"==ky(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ey()?Reflect.construct(e,n||[],Py(t).constructor):e.apply(t,n))}function Ey(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ey=function(){return!!t})()}function Py(t){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Py(t)}function _y(t,e){return _y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_y(t,e)}var Ay=function(t){function e(t,n,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(i=Oy(this,e,[t])).widgetPreview=n;i.location=r;i.translatePageController=o;return i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_y(t,e)}(e,t);return function(t,e,n){return e&&Ty(t.prototype,e),n&&Ty(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"buildHtmlElement",value:function(){var t=this,e=document.createElement("span");e.className="wovn-additional-button wovn-preview-mode-button";e.id="wovn-preview-mode-button";e.setAttribute("wovn","");e.setAttribute("wovn-ignore","");if(this.widgetPreview.isEnabled){e.onclick=function(){t.widgetPreview.exit();t.location.reload()};me(e,"wovn-preview-mode-button--active");e.innerText="Exit Preview"}else{e.onclick=function(){try{e.innerText="Loading";var n=t.location.search||"";return t.translatePageController.getPreviewSignature().then((function(t){var r="wovn_preview_signature=".concat(t.body["signature"]);n=""===n?"?".concat(r):"".concat(n,"&").concat(r);window.open("about:blank","_blank").location=n;e.innerText="Preview Mode"}))}catch(t){console.error(t);window.alert("A server error occurred, please retry momentarily.")}};e.innerText="Preview Mode"}return e}}])}(re);function xy(t){return xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(t)}function jy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ly(r.key),r)}}function Ly(t){var e=function(t,e){if("object"!=xy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xy(e)?e:e+""}function Iy(t,e,n){return e=Ny(e),function(t,e){if(e&&("object"==xy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dy()?Reflect.construct(e,n||[],Ny(t).constructor):e.apply(t,n))}function Dy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Dy=function(){return!!t})()}function Ny(t){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ny(t)}function Ry(t,e){return Ry=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ry(t,e)}var Uy=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return Iy(this,e,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ry(t,e)}(e,t);return function(t,e,n){return e&&jy(t.prototype,e),n&&jy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"buildHtmlElement",value:function(){var t=document.createElement("div");t.id="wovn-preview-mode-border";return t}}])}(re);function Vy(t){return Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(t)}function Hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,My(r.key),r)}}function My(t){var e=function(t,e){if("object"!=Vy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vy(e)?e:e+""}function By(t,e,n){return e=Wy(e),function(t,e){if(e&&("object"==Vy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fy()?Reflect.construct(e,n||[],Wy(t).constructor):e.apply(t,n))}function Fy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fy=function(){return!!t})()}function Wy(t){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wy(t)}function qy(t,e){return qy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qy(t,e)}var zy=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=By(this,e)).widgetPreview=t;r.serverControllerFactory=n;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qy(t,e)}(e,t);return function(t,e,n){return e&&Hy(t.prototype,e),n&&Hy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"build",value:function(){return[new Ay(this.buildDomInsertStrategy(),this.widgetPreview,window.location,this.serverControllerFactory.translatePage),new Uy(this.buildDomInsertStrategy())]}}])}(Ne),Gy=zy,Jy=/^(\w+)(-?|$)/i;function $y(t){return $y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$y(t)}function Ky(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ky(Object(n),!0).forEach((function(e){Zy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ky(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Zy(t,e,n){return(e=Qy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qy(r.key),r)}}function Qy(t){var e=function(t,e){if("object"!=$y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$y(e)?e:e+""}var tg=function(){return function(t,e,n){return e&&Yy(t.prototype,e),n&&Yy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e;this.navigator=n}),[{key:"getLanguage",value:function(){var t=this,e=this.sortedProjectLanguages,n=this.nativeBrowserLanguages().map((function(n){return t.findSupportedProjectLanguage(e,n)})),r=n.filter((function(t){return null!=t}))[0];return r?Xy(Xy({},r),{},{isFirstUserPreference:0===n.indexOf(r)}):null}},{key:"findSupportedProjectLanguage",value:function(t,e){var n=this.fallbackLanguageCode(e);return this.findProjectLanguage(t,e)||n&&this.findProjectLanguage(t,n)||this.findProjectLanguageWithSameGenericLanguage(t,e)}},{key:"sortedProjectLanguages",get:function(){return this.data.getTranslatableLangsAsLangInfo().slice().sort((function(t,e){return e.code.length-t.code.length}))}},{key:"findProjectLanguage",value:function(t,e){return this.findProjectLanguageExactMatch(t,e)||this.findProjectLanguageByCandidates(t,e)}},{key:"findProjectLanguageExactMatch",value:function(t,e){return gt.find(t,(function(t){return function(t,e){return e.toLowerCase()===t.code.toLowerCase()}(t,e)}))}},{key:"findProjectLanguageByCandidates",value:function(t,e){return gt.find(t,(function(t){return(t.candidates||[]).some((function(t){return t.toLowerCase()===e.toLowerCase()}))}))}},{key:"findProjectLanguageWithSameGenericLanguage",value:function(t,e){var n,r,o=(n=e,(r=Jy.exec(n))&&r[1]);return o?this.findProjectLanguage(t,o):null}},{key:"nativeBrowserLanguages",value:function(){if(this.navigator.languages&&this.navigator.languages.length>0)return this.navigator.languages;var t=this.navigator.language||this.navigator["userLanguage"]||this.navigator["browserLanguage"];return t?[t]:[]}},{key:"fallbackLanguageCode",value:function(t){if(o(t=t.toLowerCase(),"zh-hant"))return"zh-CHT";if(o(t,"zh-hans"))return"zh-CHS";switch(t.toLowerCase()){case"zh-tw":case"zh-hk":return"zh-CHT";case"zh-cn":case"zh-sg":case"zh":return"zh-CHS";case"iw":return"he";default:return null}}}])}();function eg(t){return eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(t)}function ng(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rg(r.key),r)}}function rg(t){var e=function(t,e){if("object"!=eg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eg(e)?e:e+""}var og=function(){return function(t,e,n){return e&&ng(t.prototype,e),n&&ng(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.nodeTypeTable=e;this.customBlockClassRegex=n.length>0?Se(n):null}),[{key:"getType",value:function(t,e){return this.isCustomBlockClass(e)?Oa.BLOCK:this.nodeTypeTable[t]||Oa.BLOCK}},{key:"isCustomBlockClass",value:function(t){return t&&this.customBlockClassRegex&&this.customBlockClassRegex.test(t)}}])}();function ig(t){return ig="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(t)}function ag(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ug(r.key),r)}}function ug(t){var e=function(t,e){if("object"!=ig(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ig(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ig(e)?e:e+""}var sg=function(){return function(t,e,n){return e&&ag(t.prototype,e),n&&ag(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widgetData=e}),[{key:"create",value:function(){var t=this.buildNodeTypeTable();return new og(t,this.widgetData.domainOptions.getCustomBlockClasses())}},{key:"buildNodeTypeTable",value:function(){var t=this,e=this.widgetData.domainOptions.getCustomBlockTags(),n={"#comment":Oa.IGNORE,"#text":Oa.TEXT};Eu.skipElements.forEach((function(t){n[t]=Oa.IGNORE}));Eu.skipElementsWithoutAttributes.forEach((function(t){n[t]=Oa.TAG}));Eu.emptyElements.forEach((function(r){t.isCustomBlockTag(r,e)||(n[r]=Oa.INLINE)}));Eu.inlineElements.forEach((function(r){t.isCustomBlockTag(r,e)||(n[r]=Oa.INLINE)}));Eu.inlineIgnoredElements.forEach((function(t){n[t]=Oa.INLINE_IGNORED}));this.widgetData.domainOptions.hasFeature("option_tag_as_block")&&delete n["option"];return n}},{key:"isCustomBlockTag",value:function(t,e){return gt.includes(e,t)}}])}();function lg(t){return lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(t)}function cg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fg(r.key),r)}}function fg(t){var e=function(t,e){if("object"!=lg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lg(e)?e:e+""}var pg=function(){return function(t,e,n){return e&&cg(t.prototype,e),n&&cg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widgetInit=e;this.lang=n;this.shopifyLanguageConverter=r}),[{key:"start",value:function(t){var e=this;window.addEventListener("wovnLangChanged",(function(){return e.setShopifyCartLocale(e.shopifyLanguageConverter)}));this.widgetInit.start(t)}},{key:"startSwapping",value:function(){this.widgetInit.startSwapping()}},{key:"reload",value:function(){this.widgetInit.reload()}},{key:"setShopifyCartLocale",value:function(t){var e=$h.find(this.lang.getDocLang());if(e){var n=t.getShopifyCompatibleLangCode(e);if(n)for(var r=document.querySelectorAll("form[action^='/cart']"),o=0;o<r.length;++o){var i=new(Gn())(r[o].getAttribute("action"),!0);i.query.locale=n;r[o].setAttribute("action",i.toString().replace(i.origin,""))}}}}])}();function dg(t){return dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dg(t)}function hg(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return yg(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function yg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vg(r.key),r)}}function vg(t){var e=function(t,e){if("object"!=dg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dg(e)?e:e+""}var mg=function(){return function(t,e,n){return e&&gg(t.prototype,e),n&&gg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=vg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"shopifyLangCodes",["pt-BR","da","nl","en","fi","fr","de","hi","it","ja","ko","nb","zh-CN","es","sv","th","zh-TW"])}),[{key:"getShopifyCompatibleLangCode",value:function(t){var e=t.code;if("zh-CHT"===e)return"zh-TW";if("zh-CHS"===e)return"zh-CN";if("no"===e)return"nb";var n,r=hg(this.shopifyLangCodes);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(e===o||gt.includes(t.candidates,o))return o}}catch(t){r.e(t)}finally{r.f()}return null}}])}();function bg(t){return bg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(t)}function wg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wg(Object(n),!0).forEach((function(e){kg(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kg(t,e,n){return(e=Cg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cg(r.key),r)}}function Cg(t){var e=function(t,e){if("object"!=bg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bg(e)?e:e+""}var Og=function(){return function(t,e,n){return e&&Tg(t.prototype,e),n&&Tg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),[{key:"sanitize",value:function(t){return Sg(Sg({},t),{},{link_translations:Zp(t.link_translations)})}}])}();function Eg(t){return Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(t)}function Pg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_g(r.key),r)}}function _g(t){var e=function(t,e){if("object"!=Eg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Eg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Eg(e)?e:e+""}var Ag=function(){return function(t,e,n){return e&&Pg(t.prototype,e),n&&Pg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textNormalizer=e;this.unifiedValueComments=n}),[{key:"createValuesStackFromText",value:function(t){return new wp("",1,[this.createDummyUVText(t)])}},{key:"createValuesStackFromHtml",value:function(t){var e=t.split(/(<\/?[0-9a-zA-Z\-]+.*?>)/);if(1==e.length&&""==e[0])return this.createValuesStackFromText(e[0]);for(var n=[],r=0;r<e.length;++r){var o=e[r];if(""!=o)if(this.isOpenTag(o)){var i=o.toLowerCase(),a=Yn.None;-1!==i.indexOf("wovn-ignore-content")&&(a|=Yn.TagContent);-1!==i.indexOf("wovn-ignore-attrs")&&(a|=Yn.Attributes);i.match(/wovn-ignore[^-]/)&&(a|=Yn.All);n.push(new pp(i,null,!0,!1,a,this.textNormalizer))}else if(this.isCloseTag(o)){var u=o.toLowerCase();n.push(new pp(u,null,!1,!0,Yn.None,this.textNormalizer))}else n.push(this.createDummyUVText(o))}return new wp("",1,n)}},{key:"isOpenTag",value:function(t){return"<"==t[0]&&"/"!=t[1]&&">"==t[t.length-1]}},{key:"isCloseTag",value:function(t){return"<"==t[0]&&"/"==t[1]&&">"==t[t.length-1]}},{key:"createDummyUVText",value:function(t){return new Wi(t,null,t,null,null,0,!0,this.textNormalizer,this.unifiedValueComments,Yn.None)}}])}();function xg(t){return xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(t)}function jg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lg(r.key),r)}}function Lg(t){var e=function(t,e){if("object"!=xg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xg(e)?e:e+""}var Ig=function(){return function(t,e,n){return e&&jg(t.prototype,e),n&&jg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e;this.wovnElementFilter=n;this._isSupervisedPage=null}),[{key:"getSupervisedNodes",value:function(){var t=this.data.getIncludedContent().map((function(t){return t.selector})),e=Te(["[wovn-enable]","[data-wovn-enable]"].concat(t).join(", "));return function(t){var e=[];t.forEach((function(n){t.forEach((function(t){n!==t&&n.contains(t)&&e.push(t)}))}));return t.filter((function(t){return!gt.includes(e,t)}))}(this.wovnElementFilter.filterOutWovnElements(e))}},{key:"isSupervisedPage",value:function(){null===this._isSupervisedPage&&(this._isSupervisedPage=this.data.domainOptions.hasSupervisedDomainFeature()||Ee(document.documentElement,"wovn-supervised"));return this._isSupervisedPage}}])}();function Dg(t){return Dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(t)}function Ng(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rg(r.key),r)}}function Rg(t){var e=function(t,e){if("object"!=Dg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Dg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dg(e)?e:e+""}var Ug=function(){return function(t,e,n){return e&&Ng(t.prototype,e),n&&Ng(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.urlFormatterFactory=n;this.linkTranslationsRepository=r}),[{key:"findTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"href",r=this.isPreviouslyTranslated(t);try{var o=r?t.getAttribute("data-wovn-link-src-href"):t.getAttribute(n),i=this.urlFormatterFactory.createFromUrl(o).getNormalizedPageUrl(this.widget.isBackend(),this.widget.getBackendUrlPattern()),a=E(i);return this.linkTranslationsRepository.lookupTranslation(a,e)}catch(t){return null}}},{key:"isPreviouslyTranslated",value:function(t){return!!t.getAttribute("data-wovn-link-src-href")}},{key:"applyTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"href";if(e.isDisabled){t.setAttribute(n,"javascript:void(0)");t.setAttribute("disabled","disabled")}else{t.getAttribute(n)!==e.translatedHref&&t.setAttribute(n,e.translatedHref);t.removeAttribute("disabled")}t.setAttribute("data-wovn-link-src-href",e.srcAbsoluteHref)}},{key:"removeTranslation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"href",n=t.getAttribute("data-wovn-link-src-href");if(n){t.setAttribute(e,n);t.removeAttribute("data-wovn-link-src-href");t.removeAttribute("disabled")}}}])}();function Vg(t){return Vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(t)}function Hg(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Mg(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Mg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Bg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fg(r.key),r)}}function Fg(t){var e=function(t,e){if("object"!=Vg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vg(e)?e:e+""}var Wg=function(){return function(t,e,n){return e&&Bg(t.prototype,e),n&&Bg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widgetData=e;this.hostAliasMatcher=n}),[{key:"lookupTranslation",value:function(t,e){var n=this.normalizeAbsoluteHref(t.href);return this.absoluteUrlLookup(t,n,e)||this.internalDomainAbsolutePathLookup(t,n,e)}},{key:"normalizeAbsoluteHref",value:function(t){try{return decodeURIComponent(t)}catch(e){return t}}},{key:"internalDomainAbsolutePathLookup",value:function(t,e,n){if(this.hostAliasMatcher.isMatch(e)){var r=(function(t){var e=C(t),n=S(t),r=T(e),o=function(t){var e=t.match(/(\#[^?]*)/);return e&&e[1]?e[1]:null}(e),i=n;r&&(i=(null!==i?i:"")+r);o&&(i=(null!==i?i:"")+o);return i}(e)+"-lang=").toLowerCase()+n,o=this.widgetData.getLinkTranslations()[r];if(o)return this.createLinkTranslationResult(t,o,n)}return null}},{key:"absoluteUrlLookup",value:function(t,e,n){var r,o="http:"===t.protocol||"https:"===t.protocol,i=Hg(this.getTranslationKeyCandidates(e,t,o,t.protocol));try{for(i.s();!(r=i.n()).done;){var a=(r.value+"-lang=").toLowerCase()+n,u=this.widgetData.getLinkTranslations()[a];if(u)return this.createLinkTranslationResult(t,u,n,o)}}catch(t){i.e(t)}finally{i.f()}}},{key:"getTranslationKeyCandidates",value:function(t,e,n,r){var o=[t];if(!n)return o;var i=e.pathname,a=E(e.href);"/"==i[i.length-1]?a.pathname=i.slice(0,i.length-1):a.pathname=i+"/";o.push(this.extractUrlNormalized(a));for(var u=[],s=0,l=o;s<l.length;s++){var c=l[s];u.push(c);u.push(w(c,"http:"===r?"https":"http"));u.push(w(c,""))}return u}},{key:"extractUrlNormalized",value:function(t){var e=t.protocol+"//"+t.host+t.pathname+t.search+t.hash;return this.normalizeAbsoluteHref(e)}},{key:"createLinkTranslationResult",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o="disabled"===e;return{srcAbsoluteHref:t.href,isDisabled:o,translatedHref:o?"":r?this.createTranslatedHref(t,e):e,targetLang:n}}},{key:"createTranslatedHref",value:function(t,e){if(A(e))return e;var n=t.href,r=t.pathname+t.search+t.hash;return n.replace(r,e)}}])}();function qg(t){return qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(t)}function zg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gg(r.key),r)}}function Gg(t){var e=function(t,e){if("object"!=qg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qg(e)?e:e+""}var Jg=function(){return function(t,e,n){return e&&zg(t.prototype,e),n&&zg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.workingOnPromise=!1;this.isStopped=!1;this.queue=[]}),[{key:"enqueue",value:function(e){var n=this;return new t.Promise((function(t,r){if(!n.isStopped){n.queue.push({promiseFunc:e,resolve:t,reject:r});n.dequeue()}}))}},{key:"dequeue",value:function(){var t=this;if(this.workingOnPromise)return!1;var e=this.queue.shift();if(!e)return!1;try{this.workingOnPromise=!0;e.promiseFunc().then((function(){t.workingOnPromise=!1;e.resolve();t.dequeue()}))["catch"]((function(n){t.workingOnPromise=!1;e.reject(n);t.dequeue()}))}catch(t){this.workingOnPromise=!1;e.reject(t);this.dequeue()}return!0}},{key:"clear",value:function(){this.queue=[]}},{key:"length",value:function(){return this.queue.length}},{key:"stop",value:function(){this.isStopped=!0}},{key:"restart",value:function(){this.isStopped=!1}}])}();function $g(t){return $g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(t)}function Kg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Xg(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xg(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rv(r.key),r)}}function Yg(t,e,n){return e=tv(e),function(t,e){if(e&&("object"==$g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qg()?Reflect.construct(e,n||[],tv(t).constructor):e.apply(t,n))}function Qg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qg=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tv(t)}function ev(t,e){return ev=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ev(t,e)}function nv(t,e,n){return(e=rv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rv(t){var e=function(t,e){if("object"!=$g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$g(e)?e:e+""}var ov=function(e){function n(t,e,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);nv(a=Yg(this,n,[e]),"statusUpdateRenderDelay",1e3);nv(a,"buttonTemplates",{loading:{html:"Sending report...",className:"wovn-report-values-button__status--loading"},success:{html:"Report sent".concat(ye),className:"wovn-report-values-button__status--success"},error:{html:"Error. Try again ".concat(he),className:"wovn-report-values-button__status--error"}});a.internalApi=t;a.externalComponentLoader=r;a.autoTriggerReportCookie=o;a.reportStatusMonitor=i;a.queuedPromises=new Jg;a.subscribedReport=function(t){return a.onReportStatusUpdated(t)};a.hasAutoTriggerReportCookie()&&a.reportStatusMonitor.subscribe(a.subscribedReport);return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ev(t,e)}(n,e);return function(t,e,n){return e&&Zg(t.prototype,e),n&&Zg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(n,[{key:"buildHtmlElement",value:function(){var t=this;this.buttonElement=document.createElement("div");var e=document.createElement("span");e.classList.add("wovn-report-values-button__label");e.innerText="Custom Report";this.actionButtonElement=document.createElement("span");this.actionButtonElement.classList.add("wovn-report-values-button__status");this.resetButtonLabel();this.buttonElement.className=this.hasAutoTriggerReportCookie()?"wovn-additional-button wovn-report-values-button wovn-report-values-button--auto":"wovn-additional-button wovn-report-values-button wovn-report-values-button--manual";this.buttonElement.setAttribute("wovn","");this.buttonElement.setAttribute("wovn-ignore","");this.buttonElement.appendChild(e);this.buttonElement.appendChild(this.actionButtonElement);this.buttonElement.onclick=function(){t.externalComponentLoader.loadExternalComponents(["WidgetVue"]).then((function(e){Kg(e,1)[0].start(t)}))};return this.buttonElement}},{key:"setToAutomatic",value:function(){var t=this;this.queuedPromises.clear();this.queuedPromises.restart();this.reportStatusMonitor.subscribe(this.subscribedReport);this.queueStatusUpdateRender((function(){t.resetButtonStatus();t.actionButtonElement.innerHTML="Automatic";t.buttonElement.classList.remove("wovn-report-values-button--manual");t.buttonElement.classList.add("wovn-report-values-button--auto")}))}},{key:"setToManual",value:function(){var t=this;this.queuedPromises.clear();this.reportStatusMonitor.unsubscribe(this.subscribedReport);this.queueStatusUpdateRender((function(){t.resetButtonStatus();t.buttonElement.classList.remove("wovn-report-values-button--auto");t.buttonElement.classList.add("wovn-report-values-button--manual");t.actionButtonElement.innerHTML="Manual";t.queuedPromises.stop()}))}},{key:"triggerReport",value:function(t){var e=this;this.queuedPromises.restart();this.reportStatusMonitor.subscribe(this.subscribedReport);return this.internalApi.customReport(t)["finally"]((function(){e.reportStatusMonitor.unsubscribe(e.subscribedReport)}))}},{key:"onReportStatusUpdated",value:function(t){var e=this;switch(t){case Ml.Idle:this.queueStatusUpdateRender((function(){e.resetButtonLabel();e.resetButtonStatus()}));break;case Ml.Sending:this.queueStatusUpdateRender((function(){return e.showLoadingStatus()}));break;case Ml.Success:this.queueStatusUpdateRender((function(){return e.showSuccessStatus()}));break;case Ml.Failed:this.queueStatusUpdateRender((function(){return e.showFailedStatus()}))}}},{key:"queueStatusUpdateRender",value:function(e){var n=this;this.queuedPromises.enqueue((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new t.Promise((function(t){return setTimeout(t,e)}))}(n.statusUpdateRenderDelay).then((function(){return e()}))}))}},{key:"resetButtonLabel",value:function(){this.actionButtonElement.innerHTML=this.hasAutoTriggerReportCookie()?"Automatic":"Manual"}},{key:"resetButtonStatus",value:function(){this.actionButtonElement.classList.remove(this.buttonTemplates.loading.className);this.actionButtonElement.classList.remove(this.buttonTemplates.success.className);this.actionButtonElement.classList.remove(this.buttonTemplates.error.className)}},{key:"showLoadingStatus",value:function(){this.actionButtonElement.classList.add(this.buttonTemplates.loading.className);this.actionButtonElement.innerHTML=this.buttonTemplates.loading.html}},{key:"showSuccessStatus",value:function(){this.actionButtonElement.classList.add(this.buttonTemplates.success.className);this.actionButtonElement.innerHTML=this.buttonTemplates.success.html}},{key:"showFailedStatus",value:function(){this.actionButtonElement.classList.add(this.buttonTemplates.error.className);this.actionButtonElement.innerHTML=this.buttonTemplates.error.html}},{key:"hasAutoTriggerReportCookie",value:function(){return!!this.autoTriggerReportCookie.get()}}])}(re);function iv(t){return iv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(t)}function av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uv(r.key),r)}}function uv(t){var e=function(t,e){if("object"!=iv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=iv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iv(e)?e:e+""}function sv(t,e,n){return e=cv(e),function(t,e){if(e&&("object"==iv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,lv()?Reflect.construct(e,n||[],cv(t).constructor):e.apply(t,n))}function lv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lv=function(){return!!t})()}function cv(t){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},cv(t)}function fv(t,e){return fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fv(t,e)}var pv=function(t){function e(t,n,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(i=sv(this,e)).internalApi=t;i.externalComponentLoader=n;i.autoTriggerReportCookie=r;i.reportStatusMonitor=o;return i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fv(t,e)}(e,t);return function(t,e,n){return e&&av(t.prototype,e),n&&av(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"build",value:function(){return[new ov(this.internalApi,this.buildDomInsertStrategy(),this.externalComponentLoader,this.autoTriggerReportCookie,this.reportStatusMonitor)]}}])}(Ne);function dv(t){return dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(t)}function hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yv(r.key),r)}}function yv(t){var e=function(t,e){if("object"!=dv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dv(e)?e:e+""}var gv=function(){return function(t,e,n){return e&&hv(t.prototype,e),n&&hv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=yv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"nodeFilters",[])}),[{key:"addFilter",value:function(t){this.nodeFilters.push(t)}},{key:"isNodeFilteredOut",value:function(t){return this.nodeFilters.some((function(e){return e(t)}))}}])}();function vv(t){return vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(t)}function mv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bv(r.key),r)}}function bv(t){var e=function(t,e){if("object"!=vv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vv(e)?e:e+""}var wv=function(){return function(t,e,n){return e&&mv(t.prototype,e),n&&mv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.sessionProxy=e}),[{key:"get",value:function(e,n,r){var o=this;return new t.Promise((function(t,i){o.sessionProxy.sendRequest("GET",e,n,r,(function(e,n,r){return t({body:e,headers:r})}),(function(t,e,n){return i({body:t,status:e,headers:n})}))}))}},{key:"post",value:function(e,n,r){var o=this;return new t.Promise((function(t,i){o.sessionProxy.sendRequest("POST",e,n,r,(function(e,n,r){return t({body:e,headers:r})}),(function(t,e,n){return i({body:t,status:e,headers:n})}))}))}},{key:"put",value:function(e,n,r){var o=this;return new t.Promise((function(t,i){o.sessionProxy.sendRequest("PUT",e,n,r,(function(e,n,r){return t({body:e,headers:r})}),(function(t,e,n){return i({body:t,status:e,headers:n})}))}))}}])}();function Sv(t){return Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(t)}function kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tv(r.key),r)}}function Tv(t){var e=function(t,e){if("object"!=Sv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sv(e)?e:e+""}var Cv=function(){return function(t,e,n){return e&&kv(t.prototype,e),n&&kv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Tv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"rootElementProviders",[])}),[{key:"registerWovnElement",value:function(t){this.rootElementProviders.push(t)}},{key:"filterOutWovnElements",value:function(t){var e=this,n=this.getRootElements();return t.filter((function(t){return!e.isInsideWovnElementInternal(t,n)}))}},{key:"isInsideWovnElement",value:function(t){return 0===this.filterOutWovnElements([t]).length}},{key:"isInsideWovnElementInternal",value:function(t,e){return e.some((function(e){return e.contains(t)}))}},{key:"getAllWovnElementsSelector",value:function(){return gt.flatMap(this.getRootElements(),(function(t){var e=[];t.id&&e.push("#".concat(t.id));if(t.className){var n=st.toArrayFromDomList(t.classList),r=gt.reduce(n,(function(t,e){return"".concat(t,".").concat(e)}),"");e.push(r)}return e})).join(", ")}},{key:"getRootElements",value:function(){return gt.flatMap(this.rootElementProviders,(function(t){return t()})).filter((function(t){return null!==t}))}}])}();function Ov(t){return Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(t)}function Ev(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pv(r.key),r)}}function Pv(t){var e=function(t,e){if("object"!=Ov(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ov(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ov(e)?e:e+""}var _v=br.AUTO_TRIGGER_REPORT,Av=function(){return function(t,e,n){return e&&Ev(t.prototype,e),n&&Ev(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e}),[{key:"set",value:function(t){var e=t.toString();this.cookieStore.set(_v,e)}},{key:"get",value:function(){return"true"===this.cookieStore.get(_v)}},{key:"erase",value:function(){this.cookieStore.erase(_v)}},{key:"destroy",value:function(){this.erase()}}])}();function xv(t,e,n){return function(t,e){var n=function(t){return function(e){return gt.includes(t,e)||gt.includes(t,fa.unescape(e))}}(e);return t.filter((function(t){return!n(t["src"])}))}(t,e.filterLanguages(n).allTextTranslations())}function jv(t,e){return!!(t&e)}function Lv(t){return Lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lv(t)}function Iv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nv(r.key),r)}}function Dv(t,e,n){return(e=Nv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nv(t){var e=function(t,e){if("object"!=Lv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lv(e)?e:e+""}var Rv=function(t){t[t["None"]=0]="None";t[t["Text"]=1]="Text";t[t["Links"]=2]="Links";t[t["All"]=3]="All";return t}(Rv||{}),Uv=function(){function e(t,n,r,o,i,a,u,s,l,c,f,p,d,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);Dv(this,"reportLotResult",void 0);Dv(this,"reportCount",0);Dv(this,"reportTimerResetCount",0);Dv(this,"_hasReportedOnce",!1);Dv(this,"scrapeNumber",0);Dv(this,"_reportSuccessCount",0);Dv(this,"shouldHaltReporting",!1);Dv(this,"_lastReportedValues",null);Dv(this,"hasNewMissedSrc",!1);Dv(this,"links",{});this.data=t;this.debugSettings=n;this.lang=r;this.autoTriggerReportCookie=o;this.snippetSettings=i;this.agent=a;this.utils=u;this.webServices=s;this.supervisedContent=l;this.liveEditorSettings=c;this.wovnContext=f;this.url=p;this.reportingEnabledCookie=d;this.pageMetadataManager=h;this.reset();this.shouldHaltReporting=this.agent.mutatesTextNodeData()}return function(t,e,n){return e&&Iv(t.prototype,e),n&&Iv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getLastReportedValues",value:function(){return this._lastReportedValues}},{key:"getReportCandidates",value:function(){return this.srcs}},{key:"triggerReportIfNecessary",value:function(){var t=this.needsReport(this.hasNewSrc(),this.getHasNewMissedSrc(),this.getReportSource());if(t.shouldReport){this.triggerReport(t);this._hasReportedOnce=!0}}},{key:"incrementReportCount",value:function(){this.reportCount+=1}},{key:"resetReportCount",value:function(){this.reportCount=0;clearTimeout(this.reportTimer)}},{key:"getReportCount",value:function(){return this.reportCount}},{key:"incrementReportTimerResetCount",value:function(){this.reportTimerResetCount+=1}},{key:"resetReportTimerResetCount",value:function(){this.reportTimerResetCount=0}},{key:"setReportTime",value:function(t){this._reportTime=t}},{key:"reportTime",get:function(){return this._reportTime||(this._reportTime=this.calculateReportTime())}},{key:"calculateReportTime",value:function(){return!this.wovnContext.isProductionLike()||this.getReportSource()==Fl.AutomaticCustom||this.url.hasFlag("instantReport")||this.mustEnsureOneReport()?1e3:5e3}},{key:"reset",value:function(){this.srcs={};this.newSrcs={};this.hasNewMissedSrc=!1;clearTimeout(this.reportTimer);this.reportTimer=void 0;this.resetReportTimerResetCount();this.resetReportCount();this._reportSuccessCount=0}},{key:"markHasNewMissedSrcIfFirstSeen",value:function(t){this.srcs.hasOwnProperty(t)||(this.hasNewMissedSrc=!0)}},{key:"removeNewSrcs",value:function(){for(var t in this.newSrcs)this.srcs.hasOwnProperty(t)&&delete this.srcs[t];this.newSrcs={};this.hasNewMissedSrc=!1}},{key:"addLink",value:function(t){t in this.links||(this.links[t]=!1)}},{key:"addSrc",value:function(t,n,r,o){var i=this.lang.getDefaultCodeIfExists();if((!function(t){var e=t.replace(/iframe\[[^\]]*\]/g,"");return"custom-image"==e||/img(\[\d+\])?$/.test(e)||/\[@(background-image|image|srcset|src)\]$/.test(e)}(n)||!ou(t)&&j(t,location))&&(this.lang.getActualLang()===i||this.data.domainOptions.hasFeature("report_from_all_languages"))){var a=this.createDataObject(t,n,r,o);this.hasSrcEntry(t)||this.hasNewSrcEntry(t)&&!e.needsUpdate(this.getNewSrc(t))||this.setNewSrc(t,a);this.hasSrcEntry(t)&&!e.needsUpdate(this.getSrc(t))||this.setSrc(t,a)}}},{key:"triggerReport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=null!=e?e:this.reportTime;return this.resetReportTimer(e,t,n)}},{key:"haltReporting",value:function(){this.shouldHaltReporting=!0}},{key:"onAuditComplete",value:function(){this.scrapeNumber+=1}},{key:"getReportSuccessCount",value:function(){return this._reportSuccessCount}},{key:"getReportSource",value:function(){return this.autoTriggerReportCookie.get()?Fl.AutomaticCustom:Fl.Audit}},{key:"needsReport",value:function(t,e,n){var r={shouldReport:!1,reportSource:n,reportableValueCategory:Rv.All};if(this.shouldForceReport()){r.shouldReport=!0;return r}if(n===Fl.Audit){if(!this.data.isReportingEnabled(this.reportingEnabledCookie)){r.shouldReport=!1;return r}if(!this.isSelectedForReport()){r.shouldReport=!1;return r}this.hasMissingLangs()&&(r.shouldReport=!0);if(this.reportCount>=10||this.reportTimerResetCount>=10){r.shouldReport=!1;return r}}var o,i,a=t&&e;a||(r.reportableValueCategory=(o=r.reportableValueCategory,i=Rv.Text,o&~i));r.shouldReport=this.data.domainOptions.isReportLinksEnabled()&&this.hasNewLinks()||a;return r}},{key:"hasNewLinks",value:function(){for(var t=0,e=Object.keys(this.links);t<e.length;t++){var n=e[t];if(!this.links[n])return!0}return!1}},{key:"setAllLinksAsReported",value:function(){for(var t=0,e=Object.keys(this.links);t<e.length;t++){var n=e[t];this.links[n]=!0}}},{key:"createDataObject",value:function(t,e,n,r){var o={src:t,xpath:e,unified:Boolean(n),exists:!0,scrape_number:this.scrapeNumber};r&&(o["original_html"]=r);return o}},{key:"mustEnsureOneReport",value:function(){return!!this.data.domainOptions.hasFeature("fast_report_new_pages")&&(this.lang.missingAutoTranslateLangs()||this.lang.missingAutoPublishLangs())}},{key:"postSrcs",value:function(e,n){var r=this;if(0==e.length&&0==Object.keys(this.links).length)return t.Promise.resolve();if(!this.utils.isValidURI(location.href))return t.Promise.resolve();var o=this.webServices.report,i=this.supervisedContent.isSupervisedPage(),a=this.mustEnsureOneReport(),u=this.canReportText(n.reportableValueCategory)?e:[],s=this.canReportLinks(n.reportableValueCategory)?Object.keys(this.links).filter((function(t){return!r.links[t]})).filter((function(t){return!O(t)})):[],l=this.pageMetadataManager.get();return o.reportValues(u,s,a,this.getReportCount(),i,n.reportSource,l).then((function(){r._reportSuccessCount++;r.snippetSettings.isCrawlerScrapingEnabled&&(r._lastReportedValues=e);r.setAllLinksAsReported()}))}},{key:"canReportText",value:function(t){return jv(t,Rv.Text)}},{key:"canReportLinks",value:function(t){return jv(t,Rv.Links)}},{key:"immediateReportVals",value:function(t,e){return this.reportValsInternal({shouldReport:!0,reportableValueCategory:Rv.All,reportSource:t},e)}},{key:"reportValsInternal",value:function(e,n){if(this.debugSettings.haltReporting||this.liveEditorSettings.isEnabledV1||this.shouldHaltReporting)return t.Promise.resolve();this.incrementReportCount();return this.postSrcs(n,e)}},{key:"buildSrcValues",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.mergeNewSrcs();var e=this.getReportValueList();t&&(e=xv(e,this.data.pageData.getTranslationData(),this.data.pageData.getPublishedLangs()));return e}},{key:"resetReportTimer",value:function(e,n,r){var o=this;if(!this.isReportable())return t.Promise.resolve();this.incrementReportTimerResetCount();clearTimeout(this.reportTimer);return new t.Promise((function(t,i){o.mergeNewSrcs();o.reportTimer=setTimeout((function(){o.resetReportTimerResetCount();o.reportValsInternal(n,o.buildSrcValues(r)).then(t,i)}),e)}))}},{key:"shouldForceReport",value:function(){return!this._hasReportedOnce&&!(!this.debugSettings.forceReporting&&!this.snippetSettings.isCrawlerScrapingEnabled)}},{key:"isSelectedForReport",value:function(){if(void 0===this.reportLotResult){var t=this.data.domainOptions.reportLotRatio();this.reportLotResult=t>Math.random()}return this.reportLotResult}},{key:"hasMissingLangs",value:function(){return!this._hasReportedOnce&&!(!this.lang.missingAutoTranslateLangs()&&!this.lang.missingAutoPublishLangs())}},{key:"hasNewSrcEntry",value:function(t){return this.newSrcs.hasOwnProperty(t)}},{key:"hasNewSrc",value:function(){for(var t in this.newSrcs)if(this.newSrcs.hasOwnProperty(t))return!0;return!1}},{key:"getNewSrc",value:function(t){return this.newSrcs[t]}},{key:"setNewSrc",value:function(t,e){this.newSrcs[t]=e}},{key:"hasSrcEntry",value:function(t){return this.srcs.hasOwnProperty(t)}},{key:"setSrc",value:function(t,e){this.srcs[t]=e}},{key:"getSrc",value:function(t){return this.srcs[t]}},{key:"getHasNewMissedSrc",value:function(){return this.hasNewMissedSrc}},{key:"getReportValueList",value:function(){var t=this;return Object.keys(this.srcs).map((function(e){return t.srcs[e]}))}},{key:"mergeNewSrcs",value:function(){for(var t in this.newSrcs)if(this.newSrcs.hasOwnProperty(t)){var e=this.srcs[t];this.srcs.hasOwnProperty(t)&&!/meta/.test(e.xpath)||(this.srcs[t]=this.newSrcs[t])}this.newSrcs={};this.hasNewMissedSrc=!1}},{key:"isReportable",value:function(){var t=this.lang.getDocLang();if(!t)return!1;if(this.liveEditorSettings.isEnabled)return!1;var e=this.lang.getDefaultCodeIfExists(),n=this.snippetSettings.isBackend&&t!==e;return this.data.domainOptions.hasFeature("report_from_all_languages")||!n}}],[{key:"needsUpdate",value:function(t){return/meta/.test(t.xpath)}}])}();function Vv(t){return Vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(t)}function Hv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mv(r.key),r)}}function Mv(t){var e=function(t,e){if("object"!=Vv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vv(e)?e:e+""}var Bv=br.WAP_ENABLED,Fv=br.LEGACY_OPTED_OUT_WAP,Wv=function(){return function(t,e,n){return e&&Hv(t.prototype,e),n&&Hv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e}),[{key:"set",value:function(t){var e=t.toString();this.cookieStore.set(Bv,e)}},{key:"get",value:function(){this.migrateOldCookie();var t=this.cookieStore.get(Bv);return null==t?null:"true"===t}},{key:"erase",value:function(){this.cookieStore.erase(Bv)}},{key:"destroy",value:function(){this.erase()}},{key:"migrateOldCookie",value:function(){var t=this.cookieStore.get(Fv);if(t){this.cookieStore.erase(Fv);this.set("0"===t)}}}])}();function qv(t){return qv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(t)}function zv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gv(r.key),r)}}function Gv(t){var e=function(t,e){if("object"!=qv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qv(e)?e:e+""}var Jv=br.REPORTING_ENABLED,$v=br.LEGACY_OPTED_OUT_REPORTING,Kv=function(){return function(t,e,n){return e&&zv(t.prototype,e),n&&zv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e}),[{key:"set",value:function(t){var e=t.toString();this.cookieStore.set(Jv,e)}},{key:"get",value:function(){this.migrateOldCookie();var t=this.cookieStore.get(Jv);return null==t?null:"true"===t}},{key:"erase",value:function(){this.cookieStore.erase(Jv)}},{key:"destroy",value:function(){this.erase()}},{key:"migrateOldCookie",value:function(){var t=this.cookieStore.get($v);if(t){this.cookieStore.erase($v);this.set("0"===t)}}}])}();function Xv(t){return Xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(t)}function Zv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yv(r.key),r)}}function Yv(t){var e=function(t,e){if("object"!=Xv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xv(e)?e:e+""}var Qv=br.DYNAMIC_LOADING_ENABLED,tm=br.LEGACY_OPTED_OUT_DYNAMIC_LOADING,em=function(){return function(t,e,n){return e&&Zv(t.prototype,e),n&&Zv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e}),[{key:"set",value:function(t){var e=t.toString();this.cookieStore.set(Qv,e)}},{key:"get",value:function(){this.migrateOldCookie();var t=this.cookieStore.get(Qv);return null==t?null:"true"===t}},{key:"erase",value:function(){this.cookieStore.erase(Qv)}},{key:"destroy",value:function(){this.erase()}},{key:"migrateOldCookie",value:function(){var t=this.cookieStore.get(tm);if(t){this.cookieStore.erase(tm);this.set("0"===t)}}}])}();function nm(t){return nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(t)}function rm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,om(r.key),r)}}function om(t){var e=function(t,e){if("object"!=nm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nm(e)?e:e+""}var im=function(){return function(t,e,n){return e&&rm(t.prototype,e),n&&rm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.pageDataSanitizer=e;this.widgetPreview=n;this.widgetDataController=r}),[{key:"loadPageData",value:function(){var t=this;return this.widgetDataController.previewData(this.widgetPreview.getSignature()).then((function(e){return t.pageDataSanitizer.sanitize(e.body)}))}}])}();function am(t){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(t)}function um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sm(r.key),r)}}function sm(t){var e=function(t,e){if("object"!=am(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=am(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==am(e)?e:e+""}var lm=function(){return function(t,e,n){return e&&um(t.prototype,e),n&&um(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=sm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"pageData",null)}),[{key:"set",value:function(t){this.pageData=t}},{key:"clearPageData",value:function(){this.pageData=null}},{key:"getConvertedLangs",value:function(){return this.get()["convert_langs"]||[]}},{key:"getValuesInfo",value:function(){return this.get()["values_info"]||{}}},{key:"getLinkTranslations",value:function(){return this.get()["link_translations"]||{}}},{key:"get",value:function(){return this.pageData||{}}},{key:"getLang",value:function(){return this.get()["language"]}},{key:"getPageCss",value:function(){return this.get()["page_css"]}},{key:"getPageCssHash",value:function(){return this.get()["page_css_hash"]}},{key:"getPageJs",value:function(){return this.get()["page_js"]}},{key:"getPageId",value:function(){return this.get()["id"]}},{key:"getManualPublishedDate",value:function(){var t=this.get()["manual_published_time"];return t?new Date(1e3*t):null}},{key:"getTranslationData",value:function(){var t=this.getTextValues(),e=this.getImageValues(),n=this.getHTMLTextValues(),r=this.getPageTextValues(),o=this.getManualPublishedDate();return new gu(t,e,n,r,{creationTime:Date.now(),manualPublishedDate:o})}},{key:"getTextValues",value:function(){return this.get()["text_vals"]||{}}},{key:"getHTMLTextValues",value:function(){return this.get()["html_text_vals"]||{}}},{key:"getPageTextValues",value:function(){return this.get()["page_text_vals"]||{}}},{key:"getImageValues",value:function(){return this.get()["img_vals"]||{}}},{key:"getRemovedTextValues",value:function(){return this.get()["removed_text_vals"]||[]}},{key:"getRemovedTextValuesHash",value:function(){return this.get()["removed_text_vals_hash"]||{}}},{key:"getUntranslatedValues",value:function(){return this.get()["untranslated_values"]||{}}},{key:"getPublishedLangs",value:function(){return this.get()["published_langs"]||[]}},{key:"isPublished",value:function(t){return-1!==this.getPublishedLangs().indexOf(t)}},{key:"hasPublishedLang",value:function(){return this.getPublishedLangs().length>0}},{key:"isExceedMachineTranslationLimit",value:function(){return!!this.get()["is_exceed_machine_translation_limit"]}},{key:"getPropertyValues",value:function(){return this.get()["prop_vals"]||{}}},{key:"getDomainLanguageMax",value:function(){return this.get()["language_max"]}},{key:"getDomainPublishedPagesMax",value:function(){return this.get()["published_pages_max"]}},{key:"getDomainPublishedPagesNum",value:function(){return this.get()["published_pages_num"]}},{key:"getSourceLangs",value:function(){return this.get()["source_langs"]||[]}},{key:"getPageReportingEnabled",value:function(){var t=this.get()["dynamic_values"];return null!=t?t:null}},{key:"getPageExcludedContentRules",value:function(){return this.get()["excluded_content_rules"]||[]}},{key:"getPageExcludedContent",value:function(){return(this.get()["excluded_content"]||[]).map((function(t){return Qn(t)}))}},{key:"getPageIncludedContent",value:function(){return this.get()["included_content"]||[]}},{key:"availableTargetLangs",value:function(){var t=this.getLang();return $h.all.filter((function(e){return e.code!==t}),this)}}])}();function cm(t){return cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(t)}function fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dm(r.key),r)}}function pm(t,e,n){return(e=dm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dm(t){var e=function(t,e){if("object"!=cm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cm(e)?e:e+""}var hm=function(){return function(t,e,n){return e&&fm(t.prototype,e),n&&fm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);pm(this,"parsedTextVals",{});pm(this,"parsedHtmlTextVals",{});pm(this,"parsedPageTextVals",{});this.valuesStackGenerator=e;n.subscribeToChanges((function(t){return r.parseTranslationData(t)}))}),[{key:"isEmpty",get:function(){return 0==Object.keys(this.parsedTextVals).length&&0==Object.keys(this.parsedHtmlTextVals).length&&0==Object.keys(this.parsedPageTextVals).length}},{key:"parseTranslationData",value:function(t){var e=this;this.parsedTextVals=this.mapServerTranslationHash(t.textVals,(function(t){var n=e.valuesStackGenerator.createValuesStackFromText(t);n.is_html=!1;n.is_page_translation=!1;return n}));this.parsedHtmlTextVals=this.mapServerTranslationHash(t.htmlTextVals,(function(t){var n=e.valuesStackGenerator.createValuesStackFromHtml(t);n.is_html=!0;n.is_page_translation=!1;return n}));this.parsedPageTextVals=this.mapServerTranslationHash(t.pageTextVals,(function(t){var n=e.valuesStackGenerator.createValuesStackFromHtml(t);n.is_html=!0;n.is_page_translation=!0;return n}))}},{key:"findTranslation",value:function(t,e){var n=function(t,e){return e[t]||{}};return n(e,this.parsedPageTextVals)[t]||n(e,this.parsedHtmlTextVals)[t]||n(e,this.parsedTextVals)[t]}},{key:"hasTranslation",value:function(t,e){return void 0!==this.findTranslation(t,e)}},{key:"mapServerTranslationHash",value:function(t,e){var n={};for(var r in t){var o=t[r];for(var i in o){n[i]=n[i]||{};var a=o[i][0],u=e(a.data||"");u.created_at=a.created_at;u.published_dst=a.published_dst;n[i][r]=u}}return n}}])}();function ym(t){return ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(t)}function gm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return vm(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function mm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wm(r.key),r)}}function bm(t,e,n){return(e=wm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wm(t){var e=function(t,e){if("object"!=ym(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ym(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ym(e)?e:e+""}var Sm=function(){return function(t,e,n){return e&&mm(t.prototype,e),n&&mm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);bm(this,"externalImages",{});bm(this,"internalImages",{});this.hostAliasMatcher=e;n.subscribeToChanges((function(t){return r.parseTranslationData(t)}))}),[{key:"isEmpty",get:function(){return 0==Object.keys(this.externalImages).length&&0==Object.keys(this.internalImages).length}},{key:"parseTranslationData",value:function(t){var e=gm(this.buildImageTranslationMap(t.imgVals),2),n=e[0],r=e[1];this.externalImages=n;this.internalImages=r}},{key:"find",value:function(t,e){return this.findInternal(t,e)||this.findInternal(m(t),e)}},{key:"findInternal",value:function(t,e){var n=this.externalImages[t];if(n)return n[e]||null;if(!this.hostAliasMatcher.isMatch(t))return null;var r=k(t),o=this.internalImages[r];return o&&o[e]||null}},{key:"buildImageTranslationMap",value:function(t){var e={},n={};for(var r in t)if(this.hostAliasMatcher.isMatch(r)){n[k(r)]=this.convertTranslations(t[r],r)}else e[r]=this.convertTranslations(t[r],r);return[e,n]}},{key:"convertTranslations",value:function(t,e){var n={};for(var r in t)n[r]={backend_src:e,dst_url:t[r][0].data,created_at:t[r][0].created_at};return n}}])}();function km(t){return km="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(t)}function Tm(t,e,n){return(e=Pm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cm(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Om(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Om(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Om(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Em(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pm(r.key),r)}}function Pm(t){var e=function(t,e){if("object"!=km(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=km(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==km(e)?e:e+""}var _m=function(){return function(t,e,n){return e&&Em(t.prototype,e),n&&Em(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e}),[{key:"run",value:function(t,e){var n=this.markUserIgnoredElements(t),r=this.data.domainOptions.canTranslateCssBackgroundImages(),o=[];r&&(o=this.markBackgroundImageElements(t));var i=null;try{i=e()}finally{this.unmarkUserIgnoredElements(n);r&&this.unmarkBackgroundImageElements(o)}return i}},{key:"markUserIgnoredElements",value:function(t){var e=this.data.getExcludedContent(),n=this.queryExcludedSelectors(e,t);return this.addWovnIgnores(n)}},{key:"markBackgroundImageElements",value:function(t){var e,n=this.data.domainOptions.getCssBackgroundImagesScope(),r=[],o=Cm(gt.flatMap(n,(function(e){return Te(e,t)})));try{for(o.s();!(e=o.n()).done;){var i=e.value;if(!Ee(i,"wovn-bg-img")){i.setAttribute("wovn-bg-img","");r.push(i)}}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"queryExcludedSelectors",value:function(t,e){var n=gt.flatMap(t.filter((function(t){return t.target==Yn.TagContent})),(function(t){return Te(t.selector,e)})),r=gt.flatMap(t.filter((function(t){return t.target==Yn.Attributes})),(function(t){return Te(t.selector,e)})),o=gt.flatMap(t.filter((function(t){return t.target==Yn.All})),(function(t){return Te(t.selector,e)}));return Tm(Tm(Tm(Tm({},Yn.TagContent,n),Yn.Attributes,r),Yn.All,o),Yn.None,[])}},{key:"addWovnIgnores",value:function(t){var e=Tm(Tm(Tm(Tm({},Yn.TagContent,[]),Yn.Attributes,[]),Yn.All,[]),Yn.None,[]);for(var n in t)for(var r=t[n],o=parseInt(n)===Yn.All?"wovn-ignore":parseInt(n)===Yn.TagContent?"wovn-ignore-content":"wovn-ignore-attrs",i=0;i<r.length;i++)if(!Ee(r[i],"wovn-ignore")&&!Ee(r[i],o)){r[i].setAttribute(o,"");e[n].push(r[i])}return e}},{key:"unmarkUserIgnoredElements",value:function(t){for(var e in t){Pe(t[e],parseInt(e)===Yn.All?"wovn-ignore":parseInt(e)===Yn.TagContent?"wovn-ignore-content":"wovn-ignore-attrs")}}},{key:"unmarkBackgroundImageElements",value:function(t){Pe(t,"wovn-bg-img")}}])}();function Am(t){return Am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(t)}function xm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jm(r.key),r)}}function jm(t){var e=function(t,e){if("object"!=Am(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Am(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Am(e)?e:e+""}var Lm=function(){return function(t,e,n){return e&&xm(t.prototype,e),n&&xm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.data=n;this.instantTranslationController=r;this.apiStatus=o}),[{key:"ruleBaseTranslation",value:function(t,e,n){return this.ruleBaseTranslationReady()?this.ruleBaseTranslationComponent.translate(t,e,n):null}},{key:"ruleBaseTranslationComponent",get:function(){return this.widget.c("RuleBaseTranslation")}},{key:"instantTranslate",value:function(t,e,n,r){this.instantTranslationController.translate(e,t).then((function(t){return n(t.body,t.headers)}),r)}},{key:"ruleBaseTranslationReady",value:function(){if(!this.apiStatus.isApiReady())return!1;var t=null!=this.ruleBaseTranslationComponent,e=this.data.pageData.hasPublishedLang();return t&&e}}])}();function Im(t){return Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(t)}function Dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nm(r.key),r)}}function Nm(t){var e=function(t,e){if("object"!=Im(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Im(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Im(e)?e:e+""}var Rm=function(){return function(t,e,n){return e&&Dm(t.prototype,e),n&&Dm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Nm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"onTranslationsUpdatedListeners",[]);this.translationDataStorage=e;this.setEmptyState()}),[{key:"setEmptyState",value:function(){this.localStorageTranslations=new gu;this.serverTranslations=new gu;this.instantTranslations=new gu;this.dynamicLoadingTranslations=new gu;this.liveEditorTranslations=new gu}},{key:"allTranslations",get:function(){return[this.localStorageTranslations,this.serverTranslations,this.instantTranslations,this.dynamicLoadingTranslations,this.liveEditorTranslations]}},{key:"persistableTranslations",get:function(){var t=this;return this.allTranslations.filter((function(e){return e!==t.liveEditorTranslations}))}},{key:"clear",value:function(){this.setEmptyState();this.notifySubscribers()}},{key:"subscribeToChanges",value:function(t){this.onTranslationsUpdatedListeners.push(t)}},{key:"getTranslations",value:function(){return gt.reduce(this.allTranslations,(function(t,e){return t.merge(e)}))}},{key:"setInitialState",value:function(t,e,n){this.localStorageTranslations=this.localStorageTranslations.merge(t);this.serverTranslations=this.serverTranslations.merge(e);this.dynamicLoadingTranslations=this.dynamicLoadingTranslations.merge(n);this.instantTranslations=new gu;this.liveEditorTranslations=new gu;this.save();this.notifySubscribers()}},{key:"addInstantTranslation",value:function(t,e,n){su(this.instantTranslations.htmlTextVals,t,e,n);this.save();this.notifySubscribers()}},{key:"addLiveEditorTranslation",value:function(t,e,n,r,o){su(this.liveEditorTranslations.getTranslationHash(r),t,e,n,o);this.notifySubscribers()}},{key:"removeSourceKey",value:function(t){this.allTranslations.map((function(e){return e.removeSourceKey(t)}));this.save();this.notifySubscribers()}},{key:"removeTranslation",value:function(t,e,n){this.allTranslations.forEach((function(r){!function(t,e,n){var r=t[e];r&&delete r[n]}(r.getTranslationHash(n),t,e)}));this.save();this.notifySubscribers()}},{key:"updateLiveEditorTranslations",value:function(t){this.liveEditorTranslations=this.liveEditorTranslations.merge(t);this.notifySubscribers()}},{key:"updateDynamicLoadingTranslations",value:function(t){this.dynamicLoadingTranslations=this.dynamicLoadingTranslations.merge(t);this.save();this.notifySubscribers()}},{key:"save",value:function(){var t=this.persistableTranslations.reduce((function(t,e){return t.merge(e)}));this.translationDataStorage.save(t)}},{key:"notifySubscribers",value:function(){var t=this.getTranslations();this.onTranslationsUpdatedListeners.forEach((function(e){return e(t)}))}}])}();function Um(t){return Um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(t)}function Vm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Hm(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Mm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bm(r.key),r)}}function Bm(t){var e=function(t,e){if("object"!=Um(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Um(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Um(e)?e:e+""}var Fm="TranslationStore",Wm=function(){return function(t,e,n){return e&&Mm(t.prototype,e),n&&Mm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.wovnStorage=e;this.pageData=n;this.domainOptions=r}),[{key:"save",value:function(t){var e={text_vals:t.textVals,html_text_vals:t.htmlTextVals,img_vals:t.imgVals};this.wovnStorage.setValue(Fm,e,Date.now())}},{key:"load",value:function(){var t=this.loadFromStorage();if(null==t||t.isEmpty)return null;if(this.domainOptions.hasFeature("no_automatic_redirection")){var e=this.pageData.getPublishedLangs();return t.filterLanguages(e)}return t}},{key:"loadFromStorage",value:function(){var t,e=Date.now()-36e5,n=this.pageData.getManualPublishedDate(),r=(null===(t=this.pageData.getManualPublishedDate())||void 0===t?void 0:t.getTime())||e;r<e&&(r=e);var o=this.wovnStorage.getValue(Fm,r);if(!o)return null;var i=Vm(o,2),a=i[0],u=i[1];return new gu(u["text_vals"]||{},u["img_vals"]||{},u["html_text_vals"]||{},{},{creationTime:a,manualPublishedDate:n})}},{key:"delete",value:function(){this.wovnStorage.removeValue(Fm)}}])}();function qm(t){return qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(t)}function zm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zm(Object(n),!0).forEach((function(e){$m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Km(r.key),r)}}function $m(t,e,n){return(e=Km(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Km(t){var e=function(t,e){if("object"!=qm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qm(e)?e:e+""}var Xm=function(){return function(t,e,n){return e&&Jm(t.prototype,e),n&&Jm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,o,i,a,u,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);$m(this,"_lastModifiedSrcKey",null);this.api=e;this.widget=n;this.lang=r;this.data=o;this.wovnContext=i;this.snippetSettings=a;this.liveEditorSettings=u;this.serverControllerFactory=s}),[{key:"authenticatedWebServiceController",get:function(){return this.serverControllerFactory.authenticatedLiveEditorController}},{key:"removeSettingsFromUrl",value:function(t){return this.liveEditorSettings.removeSettingsFromUrl(t)}},{key:"quitLiveEditor",value:function(){var t=this.removeSettingsFromUrl(location.href);window.location.replace(t)}},{key:"insertStylesheet",value:function(){oy(this.wovnContext,this.snippetSettings.token,"le")}},{key:"getDefaultCode",value:function(){return this.lang.getDefaultCodeIfExists()}},{key:"lastModifiedSrcKey",get:function(){return this._lastModifiedSrcKey}},{key:"getAllowedAddLanguagesList",value:function(){var t=this.data.domainOptions.hasFeature("region_code"),e=this.getAllTargetLanguages(),n=this.data.pageData.availableTargetLangs().filter((function(t){return!e.includes(t.code)}));return t?n:n.filter((function(t){return!t.tag.region}))}},{key:"getNodeValueId",value:function(){return this.liveEditorSettings.nodeValueId}},{key:"getTargetLanguageCode",value:function(){return this.liveEditorSettings.targetLangCode}},{key:"getAllTargetLanguages",value:function(){return this.data.domainOptions.getDomainLangs()}},{key:"changeLang",value:function(t){return this.lang.setDocLangAllowUnpublished(t)}},{key:"getCurrentLang",value:function(){return this.lang.getDocLang()}},{key:"getDomainId",value:function(){return this.data.domainOptions.getDomainId()}},{key:"getDomainToken",value:function(){return this.snippetSettings.token}},{key:"getPageId",value:function(){return this.data.pageData.getPageId()}},{key:"addTranslation",value:function(t,e,n,r){this.translationManager.addLiveEditorTranslation(t,e,n,r);this._lastModifiedSrcKey=t;this.refreshWidget()}},{key:"clearTranslation",value:function(t,e,n){this.translationManager.removeTranslation(t,e,n);n!==uu.Image&&n!==uu.PageSpecificHtml&&this.translationManager.addLiveEditorTranslation(t,t,e,n);this._lastModifiedSrcKey=t;this.refreshWidget()}},{key:"removeSourceKey",value:function(t){this.translationManager.removeSourceKey(t);this._lastModifiedSrcKey=t;this.refreshWidget()}},{key:"updateTranslations",value:function(t){this.translationManager.updateLiveEditorTranslations(t);this.refreshWidget()}},{key:"refreshWidget",value:function(){this.api.triggerAudit()}},{key:"getTranslationInfo",value:function(t){var e,n=this.domAuditor.getMostRecentTraversalResult(),r=this.getAllTargetLanguages();"PICTURE"===(null===(e=t.parentElement)||void 0===e?void 0:e.tagName)&&(t=t.parentElement);var o=Ce(t)?t:t.parentElement;return n?{images:this.findTranslatedImages(o,n,r),attributes:this.findTranslatedAttributes(o,n,r),textValues:this.findTopLevelUnifiedValues(t,n,r)}:null}},{key:"getTextTranslationInfo",value:function(t){var e=this.domAuditor.getMostRecentTraversalResult(),n=this.getAllTargetLanguages();return e?this.findTopLevelUnifiedValues(t,e,n):[]}},{key:"getValuesInfo",value:function(t){return this.data.pageData.getValuesInfo()[t]}},{key:"findTranslatedImages",value:function(t,e,n){var r=this;return e.images.filter((function(e){return e.element===t||t.contains(e.element)})).map((function(t){return r.createImageTranslationInfo(t,t.element,n)}))}},{key:"findTranslatedAttributes",value:function(t,e,n){var r=this;return e.attributes.filter((function(e){return e.element===t})).map((function(t){return r.createAttributeTranslationInfo(t,t.element,n)}))}},{key:"findTopLevelUnifiedValues",value:function(t,e,n){var r=this,o=function(t){return e.valuesStacks.filter((function(e){return e.fragments.some((function(e){return e.node===t}))}))[0]},i=[],a=o(t);if(a)i.push(this.createTextTranslationInfo(a,n));else if(Ce(t)){var u=st.toArrayFromDomList(t.childNodes).filter(Oe).map((function(t){var e=o(t);return e?r.createTextTranslationInfo(e,n):null})).filter((function(t){return null!=t}));u.length>0&&(i=i.concat(u))}return gt.distinctBy(i,(function(t){return t.sourceKey}))}},{key:"createTextTranslationInfo",value:function(t,e){var n=this;return Gm(Gm({},this.createCommonTranslationInfo(t.translationDataSrcKey,t.path,(function(){return n.enumerateTextTranslations(t.translationDataSrcKey,e)}))),{},{unifiedValue:t})}},{key:"createAttributeTranslationInfo",value:function(t,e,n){var r=this;return Gm(Gm({},this.createCommonTranslationInfo(t.sourceKey,t.xpath,(function(){return r.enumerateTextTranslations(t.sourceKey,n)}))),{},{element:e,attributeName:t.attributeName})}},{key:"createImageTranslationInfo",value:function(t,e,n){var r=this,o=function(){return r.enumerateImageTranslations(t.sourceKey,n)},i=o();return{sourceKey:i.backend_src||t.sourceKey,xpath:t.xpath,translations:i.tranlationsByLanguage,element:e,attributeName:t.attributeName,refreshTranslations:function(){this.translations=o().tranlationsByLanguage}}}},{key:"createCommonTranslationInfo",value:function(t,e,n){return{sourceKey:t,xpath:e,translations:n(),refreshTranslations:function(){this.translations=n()}}}},{key:"enumerateImageTranslations",value:function(t,e){var n,r=this,o=e.map((function(e){return{lang:e,translation:r.imageTranslationLookup.find(t,e)}}));return{backend_src:null===(n=o[0])||void 0===n||null===(n=n.translation)||void 0===n?void 0:n.backend_src,tranlationsByLanguage:gt.toObject(o,(function(t){return t.lang}),(function(t){var e;return null===(e=t.translation)||void 0===e?void 0:e.dst_url}))}}},{key:"enumerateTextTranslations",value:function(t,e){var n=this,r=e.map((function(e){return{lang:e,translation:n.unifiedValueTranslationLookup.findTranslation(t,e)}}));return gt.toObject(r,(function(t){return t.lang}),(function(t){var e;return null===(e=t.translation)||void 0===e?void 0:e.label}))}},{key:"getPublishedLangs",value:function(){return this.data.pageData.getPublishedLangs()}},{key:"getAllTranslationsOnPage",value:function(){var t=this,e=this.domAuditor.getMostRecentTraversalResult(),n=this.getAllTargetLanguages(),r={attributes:[],images:[],textValues:[]};if(e){r.attributes=e.attributes.map((function(e){return t.createAttributeTranslationInfo(e,e.element,n)}));r.images=e.images.map((function(e){return t.createImageTranslationInfo(e,e.element,n)}));r.textValues=e.valuesStacks.map((function(e){return t.createTextTranslationInfo(e,n)}))}return r}},{key:"hasFeature",value:function(t){return this.data.domainOptions.hasFeature(t)}},{key:"getHost",value:function(){return this.wovnContext.wovnHost}},{key:"buildPropertyValue",value:function(t,e){for(var n=this.srcChildTextContentExtractor.extract(t),r=[],o=t.parentNode,i=0;i<2;i++){r.push({tag_name:o.nodeName,position:_e(o),classes:st.toArrayFromDomList(o.classList),element_id:o.id});if(!(o=o.parentElement))break}var a={language:this.getCurrentLang(),shared:!1,selectors:r,style:e.style};return{src_tag_name:t.tagName,src_property:{childTextContent:n},dst:a}}},{key:"updatePropertyValueIndex",value:function(t,e){var n=this.buildPropertyValue(e,t),r=this.getCurrentLang();this.propertyValueTranslationRepository.updatePropertyValueIndex(r,e,n);return n}},{key:"getFontSizeTargetElement",value:function(t){var e,n="#text"===t.nodeName?t.parentElement:t;return null!==(e=this.getTranslationInfo(t).textValues)&&void 0!==e&&e.length?n:null}},{key:"updateFontSize",value:function(t,e){var n=this.getFontSizeTargetElement(e);if(n&&t!==n.style.fontSize){var r={style:{fontSize:t}};Is(r,n);var o=this.updatePropertyValueIndex(r,n);this.propertyValueTranslationRepository.setChangedPropertyValues(n,o)}}},{key:"revertFontSize",value:function(t){var e,n=this.getFontSizeTargetElement(t);if(n){var r={style:{fontSize:null}},o=this.buildPropertyValue(n,r);this.propertyValueTranslationRepository.setChangedPropertyValues(n,o);var i=js(n);if(void 0!==(null==i||null===(e=i.style)||void 0===e?void 0:e.fontSize)){Is(r={style:{fontSize:i.style.fontSize}},n);this.updatePropertyValueIndex(r,n)}}}},{key:"updateSavedPropertyValues",value:function(t){this.propertyValueTranslationRepository.updateSavedPropertyValues(t)}},{key:"getChangedPropertyValues",value:function(){return this.propertyValueTranslationRepository.getChangedPropertyValues()}},{key:"resetChangedPropertyValues",value:function(){this.propertyValueTranslationRepository.resetChangedPropertyValues()}},{key:"domAuditor",get:function(){return this.widget.c("DomAuditor")}},{key:"unifiedValueTranslationLookup",get:function(){return this.widget.c("UnifiedValueTranslationLookup")}},{key:"imageTranslationLookup",get:function(){return this.widget.c("ImageTranslationLookup")}},{key:"translationManager",get:function(){return this.widget.c("TranslationManager")}},{key:"propertyValueTranslationRepository",get:function(){return this.widget.c("PropertyValueTranslationRepository")}},{key:"srcChildTextContentExtractor",get:function(){return this.widget.c("SrcChildTextContentExtractor")}}])}();function Zm(t){return Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(t)}function Ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qm(r.key),r)}}function Qm(t){var e=function(t,e){if("object"!=Zm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Zm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Zm(e)?e:e+""}var tb=function(){return function(t,e,n){return e&&Ym(t.prototype,e),n&&Ym(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Qm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"_isEnabled",!1)}),[{key:"isEnabled",get:function(){return this._isEnabled}},{key:"toggleTranslationFeedbackMode",value:function(){this._isEnabled=!this._isEnabled}}])}();function eb(t){return eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(t)}function nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rb(r.key),r)}}function rb(t){var e=function(t,e){if("object"!=eb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eb(e)?e:e+""}var ob=function(){return function(t,e,n){return e&&nb(t.prototype,e),n&&nb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.inner=e;this.performanceMonitor=n}),[{key:"loadDomainOptions",value:function(){var t=this;this.performanceMonitor.mark(Br.DomainOptionsLoadStart);return this.inner.loadDomainOptions().then((function(e){t.performanceMonitor.mark(Br.DomainOptionsLoadEnd);return e}))}}])}();function ib(t){return ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ib(t)}function ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ub(r.key),r)}}function ub(t){var e=function(t,e){if("object"!=ib(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ib(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ib(e)?e:e+""}var sb="wovn-page-metadata-getter",lb=function(){return function(t,e,n){return e&&ab(t.prototype,e),n&&ab(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=ub(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"pageMetadataList",{});this.data=e}),[{key:"add",value:function(t,e){if(e&&!(e.toString().length<=0)&&t&&this.isSupportedMetadataName(t)){this.pageMetadataList[t]||(this.pageMetadataList[t]=[]);this.pageMetadataList[t].push(e.toString().trim())}}},{key:"clear",value:function(){this.pageMetadataList={};this.removePageMetadataScripts()}},{key:"get",value:function(){var t=this,e={};Object.keys(this.pageMetadataList).forEach((function(n){e[n]=gt.distinctBy(t.pageMetadataList[n],(function(t){return t}))}));return e}},{key:"isSupportedMetadataName",value:function(t){return this.data.domainOptions.getPageMetaDefinitions().some((function(e){return e.name===t}))}},{key:"executePageMetadataScripts",value:function(){var t=this.data.domainOptions.getPageMetaDefinitions();t.length<=0||this.addScript(this.generateSourceCode(t))}},{key:"removePageMetadataScripts",value:function(){document.querySelectorAll("script[".concat(sb,"]")).forEach((function(t){return t.remove()}))}},{key:"addScript",value:function(t){if(!document.querySelector("script[".concat(sb,"]"))){var e=document.createElement("script");e.innerHTML=t;e.setAttribute(sb,"true");document.head.appendChild(e);return e}}},{key:"generateSourceCode",value:function(t){var e=t.map((function(t){return"try {\n      WOVN.io.internal.addPageMetadata('".concat(t.name,"', (function() { ").concat(t.javascript," })());\n    } catch (e) {};")})).join("\n");return"(function() {\n      ".concat(e,"\n    })();")}}])}();function cb(t,e,n,r,o,i,a,u,s,l){0;o["CustomDomainUrlHandler"]=function(){var t=function(t){t=t||{};var e=Object.keys(t).map((function(e){var n=t[e],r=new(Gn())("http://".concat(e));return new gd(r.hostname,r.pathname,n)}));return new pd(e)}(a.customDomainLangs);return new sd(t,B)};o["HistoryApiListener"]={captureHistoryStateChanges:Iu};o["Utils"]=st;o["Agent"]=J;o["NodeContainer"]=Yt;o["WovnContext"]=i;o["SnippetSettings"]=a;var c=new lm;o["PageData"]=c;var f=new ar(n);o["DomainOptions"]=f;var p=new hr(c,f);o["Data"]=p;var d=function(t,e,n){var r=new Cd(e,n,t),o=new Ad(Md()),i=new Nd([r,o]);return new wr(i,t)}(f,e,n);0;o["Cookie"]=d;var h=new Er(d);o["LangCookie"]=h;var y=new Gd(d),g=new Av(d),v=new Kv(d),m=new Wv(d),b=new em(d);o["AutoTriggerReportCookie"]=g;var w=new Wf(t,a.traceId),S=new Qf(f);o["TextNormalizer"]=S;var k=new od,T=new Dh(a,$h),C=new Fh($h,T),O=new op(Bd()),E=new rh(O,n,a,r),P=new as,_=new qo(t,i,a);o["ExternalComponentLoader"]=_;var A=new io(l,f);o["LiveEditorSettings"]=A;var x=new ts(A);o["ApiStatus"]=x;var j=new oi(_,A),L=new Ln(e.documentElement,j,s,P);o["AuditTrigger"]=L;var I=new Ro(a,i);o["SessionProxy"]=I;var D=new Fr(d,s);o["PerformanceMonitor"]=D;var N=new Vu(t,a,C,s,p,A,n,r);o["Url"]=N;var R=new vo(N,a,t);o["UrlFormatter"]=R;var U=new To(R),V=new sg(p),H=new Wu(t,N);o["SPA"]=H;var M=new tg(p,window.navigator),B=new Bt(h,a,C,T,M,p,f,t,x);o["Lang"]=B;var F=new qn(p),W=new Xo(i,f,m);o["WapInstaller"]=W;var q=new wv(I),z=new Bl,G=new Rf(p,a.token,i,w,N,u,t,y,B,a,A,q,z,n,window.performance);o["ServerControllerFactory"]=G;var $=new Ap(G.api,a);o["WidgetErrorLogger"]=$;var K=new Rr(G.pageNotFound);o["PageChecker"]=K;var X=new xr(G.inSiteSearch),Z=new Mo(p,G,I);o["WidgetSessionManager"]=Z;var Y=new Eh,Q=new dy(k,G.widgetData),tt=new xh(G.liveEditor),et=new im(k,E,G.widgetData),nt=new gh(A,E,Z,Q,et,tt),rt=new Sy(nt),ot=new ph(t,rt,Y),it=new ob(new kh(G.widgetData,new Og,E,Z,n),D),at=new vy(new Xd(p,ot,it,Z,E,A,s),D),ut=new _s;o["CustomDomAccessor"]=ut;var lt=new Cv;o["WovnElementFilter"]=lt;var ct=new Ig(p,lt);o["SupervisedContent"]=ct;var ft=new lb(p);o["PageMetadataManager"]=ft;var pt=new Uv(p,s,B,g,a,J,st,G,ct,A,i,N,v,ft);o["ReportHelper"]=pt;var dt=new $u(t,p,S,X,L,B,d,C,x);o["Api"]=dt;var ht=new Lm(t,p,G.instantTranslation,x),yt=new sh(p,dt,t,i,ct,pt,d,B,h,a,ft),gt=new Xm(dt,t,B,p,i,a,A,G);fb(t,dt,ht,yt,gt);var vt=new We(B,A,Z),mt=new tb;o["TranslationFeedbackState"]=mt;var bt=new bn(mt,_),wt=new pv(yt,_,g,z),St=new Gy(E,G),kt=new ws(p,B,J,D,_,K,N,A,vt,bt,St,M,wt,lt,yt,E);o["Interface"]=kt;var Tt=new _m(p);o["ExcludedContentScope"]=Tt;var Ct=new yi(t,L,pt,D,kt,b,f,ct,Tt);o["DomAuditor"]=Ct;var Ot=new Oi(t,B),Et=new Ca(f,G.onDemandTranslation,t),Pt=new ci(e.documentElement,L,P),_t=new iy(t,p,B,F,D,x,Pt,L,H,_,Z,W,j,N,at,E,Y,A,kt,Ot,d,i,a,s,pt,Ct,Et,ft),At=a.isShopify?new pg(_t,B,new mg):_t;o["WidgetInit"]=At;var xt=new gv;o["DomTraversalParsableNodeFilterProvider"]=xt;o["ValuesStackBalancer"]=function(){return new ly(S,t.c("UnifiedValueComments"))};o["ValuesStackGenerator"]=function(){return new Ag(S,t.c("UnifiedValueComments"))};o["UnifiedValueComments"]=function(){return f.hasFeature("all_text_translation_into_text_vals")?new oa:new na};o["DomTraversalFactory"]=function(){return new Vp(S,V,t.c("UnifiedValueComments"),xt,Et,$,Tt,kt,f)};o["UnifiedValueTranslationLookup"]=function(){return new hm(t.c("ValuesStackGenerator"),t.c("TranslationManager"))};o["ImageTranslationLookup"]=function(){return new Sm(t.c("HostAliasMatcher"),t.c("TranslationManager"))};o["UnifiedValue"]=function(){var e=new ru(f),n=t.c("TranslationManager"),r=t.c("UnifiedValueTranslationLookup"),o=new Xp(r,gt);return new Lu(t,p,U,e,S,G.instantTranslation,a,t.c("ValuesStackBalancer"),t.c("DomTraversalFactory"),t.c("UnifiedValueComments"),t.c("ValuesStackGenerator"),pt,B,o,R,t.c("TranslationDataStorage"),N,A,r,t.c("ImageTranslationLookup"),n,t.c("DynamicLoadingManager"),u)};o["Storage"]=function(){if(f.hasFeature("disable_storage_for_translation_data")){Bd().removeItem("__wovn__.TranslationStore");Md().removeItem("__wovn__.TranslationStore");return new op(new Hd)}Md().removeItem("__wovn__.TranslationStore");return O};o["TranslationDataStorage"]=function(){return new Wm(t.c("Storage"),c,f)};o["TranslationManager"]=function(){return new Rm(t.c("TranslationDataStorage"))};o["DomTraversal"]=function(){return t.c("DomTraversalFactory").create()};o["HostAliasMatcher"]=function(){return new qp(f.getHostAliases())};o["DynamicLoadingManager"]=function(){return new Cs(G.dynamicLoading,p,Pt,t.c("TranslationManager"),A)};o["LinkTranslationsManager"]=function(){var e=new Wg(p,t.c("HostAliasMatcher"));return new Ug(t,R,e)};o["SrcChildTextContentExtractor"]=function(){return new qs(ut,t.c("UnifiedValueComments"))};o["PropertyValueTranslationRepository"]=function(){return new ol(c.getPropertyValues(),new Xs(ut,t.c("SrcChildTextContentExtractor"),S))};o["PropertyValueSwapper"]=function(){return new Vs(t.c("PropertyValueTranslationRepository"))}}function fb(t,e,n,r,o){var i,a,u=this,s=window;s.WOVN={io:(i=e,a=n,{changeLang:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.changeLang.apply(i,e)},getCurrentLang:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getCurrentLang.apply(i,e)},getWovnUrl:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getWovnUrl.apply(i,e)},swap:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.swap.apply(i,e)},manualStart:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.manualStart.apply(i,e)},optInCookies:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.optInCookies.apply(i,e)},optOut:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.optOut.apply(i,e)},getSourceText:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getSourceText.apply(i,e)},getSourceAttribute:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getSourceAttribute.apply(i,e)},getTextTranslation:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getTextTranslation.apply(i,e)},overrideDomainOptions:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.overrideDomainOptions.apply(i,e)},translateTexts:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.translateTexts.apply(i,e)},isPublished:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.isPublished.apply(i,e)},search:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.search.apply(i,e)},isApiReady:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.isApiReady.apply(i,e)},triggerAudit:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.triggerAudit.apply(i,e)},version:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.version.apply(i,e)},stop:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.stop.apply(i,e)},restart:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.restart.apply(i,e)},ruleBaseTranslation:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.ruleBaseTranslation.apply(a,e)},instantTranslate:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.instantTranslate.apply(a,e)},ruleBaseTranslationReady:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.ruleBaseTranslationReady.apply(a,e)}})};s.WOVN.io._private={widget:t,isApiReady:function(){return u.apiStatus.isApiReady()}};s.WOVN.io.internal=r;s.WOVN.io.liveEditor=o;s.Wovnio=s.WOVN.io;document.WOVNIO.api=s.WOVN.io}function pb(t){return pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pb(t)}function db(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hb(r.key),r)}}function hb(t){var e=function(t,e){if("object"!=pb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pb(e)?e:e+""}var yb=function(){return function(t,e,n){return e&&db(t.prototype,e),n&&db(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.protocol="http:";this.host=n;this.path=this.computePath(e);this.query=e.search;this.hash=e.hash}),[{key:"computePath",value:function(t){var e=new RegExp("^.*?/www(/.*)$","i"),n=t.pathname.match(e);if(n&&n[1])return n[1];throw new Error("Location Error: Could not parse Cordova resource path")}}])}();function gb(t){return gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(t)}function vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mb(r.key),r)}}function mb(t){var e=function(t,e){if("object"!=gb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gb(e)?e:e+""}var bb=function(){return function(t,e,n){return e&&vb(t.prototype,e),n&&vb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.protocol="http:";this.host=n;this.path=this.computePath(e,r);this.query=e.search;this.hash=e.hash}),[{key:"computePath",value:function(t,e){var n=new RegExp("((?:/[^/]+){0,".concat(e-1,"}/[^/]+)$"),"i"),r=t.pathname.match(n);if(r&&r[1])return r[1];throw new Error("Location Error: Could not parse local HTML resource path")}}])}();function wb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Sb(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kb(t){return kb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kb(t)}function Tb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ob(r.key),r)}}function Cb(t,e,n){return e&&Tb(t.prototype,e),n&&Tb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ob(t){var e=function(t,e){if("object"!=kb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kb(e)?e:e+""}var Eb=Cb((function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.host=n;this.href=e+"//"+n+r+o+i;this.hostWithoutLangCode=this.host;this.hrefWithoutLangCode=this.href}));function Pb(t,e){var n=e.getAttribute("data-domain-override");if(n){var r=function(t,e){var n=wb(e.split("="),2),r=n[0],o=n[1];if(!r||!o)throw new Error("Invalid format for data-domain-override attribute in Wovn script tag");var i=r.toLowerCase();if("cordova"==i)return new yb(t,o);if(i.startsWith("path_suffix_")){var a=parseInt(r.split("path_suffix_")[1]);if(Number.isNaN(a)||a<1)throw new Error("Location Error: Invalid segment count in override type");return new bb(t,o,a)}throw new Error("Unrecognized domain override type: "+r)}(t,n);return new Eb(r.protocol,r.host,r.path,r.query,r.hash)}return null}function _b(t){return _b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_b(t)}function Ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jb(r.key),r)}}function xb(t,e,n){return e&&Ab(t.prototype,e),n&&Ab(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jb(t){var e=function(t,e){if("object"!=_b(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_b(e)?e:e+""}var Lb=xb((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=jb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"isCancelRequested",!1)}));function Ib(t){return Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(t)}function Db(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rb(r.key),r)}}function Nb(t,e,n){return(e=Rb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rb(t){var e=function(t,e){if("object"!=Ib(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ib(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ib(e)?e:e+""}var Ub=function(){return function(t,e,n){return e&&Db(t.prototype,e),n&&Db(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Nb(this,"cancellationToken",new Lb);Nb(this,"installedComponents",{});this.components=e;this.snippetSettings=n}),[{key:"exposeComponentApi",value:function(){var t=this;document.WOVNIO={registerComponent:function(e,n,r){if(!t.components[e]||!r){t.components[e]=n;delete t.installedComponents[e];var o=document.createEvent("Event"),i=e+"Loaded";o.initEvent(i,!0,!0);document.dispatchEvent(o)}},components:this.components,api:null}}},{key:"isBackend",value:function(){return this.snippetSettings.isBackend}},{key:"getComponent",value:function(t){var e=this.installedComponents[t];if(e)return e;if(this.components[t]){this.installComponent(t);return this.installedComponents[t]}return null}},{key:"installComponent",value:function(t){if(!this.installedComponents[t]&&void 0!==this.components[t])if("function"==typeof this.components[t]){var e=this.components[t];this.installedComponents[t]=e(this)}else this.installedComponents[t]=this.components[t]}},{key:"c",value:function(t){return this.getComponent(t)}},{key:"isComponentLoaded",value:function(t){return this.installedComponents.hasOwnProperty(t)||this.components.hasOwnProperty(t)}},{key:"destroyComponent",value:function(t){if(this.installedComponents[t]&&"function"==typeof this.installedComponents[t].destroy){this.installedComponents[t].destroy();delete this.installedComponents[t]}}},{key:"destroy",value:function(){this.cancellationToken.isCancelRequested=!0;for(var t in this.installedComponents)this.installedComponents.hasOwnProperty(t)&&this.destroyComponent(t);for(var e in this.components){var n=this.components[e];"object"===Ib(n)&&"function"==typeof n.destroy&&n.destroy()}}},{key:"reinstallComponent",value:function(t){this.destroyComponent(t);this.installComponent(t)}},{key:"getBackendDefaultLang",value:function(){return this.snippetSettings.defaultLang}},{key:"getBackendUrlPattern",value:function(){return null==this.snippetSettings.urlPattern?null:this.snippetSettings.urlPattern==Na.CustomDomain?"custom_domain":Na[this.snippetSettings.urlPattern].toLowerCase()}},{key:"getEncodedLocation",value:function(t){return encodeURIComponent(this.getLocation(t))}},{key:"getLocation",value:function(t){t||(t=location);if("string"!=typeof t){var e=h().toASCII(t.host);t=t.protocol+"//"+e+t.pathname+t.search+t.hash}return this.c("UrlFormatter").createFromUrl(t).getNormalizedPageUrl(this.isBackend(),this.getBackendUrlPattern())}},{key:"widgetGetOriginalUrl",value:function(){var t=this.c("UrlFormatter"),e=this.c("Url"),n=t.create(location.protocol,location.host,location.pathname,location.search,location.hash).getOriginalUrl();if(this.isBackend()){var r=this.getBackendDefaultLang();n=e.getUrl(r,n)}return e.getEncodedLocation(n)}}])}();var Vb="data-wovnio",Hb="data-wovnio-type";function Mb(t){return new Va(t.getAttribute(Vb),t.getAttribute(Hb))}function Bb(t){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(t)}function Fb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wb(r.key),r)}}function Wb(t){var e=function(t,e){if("object"!=Bb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bb(e)?e:e+""}var qb=function(){return function(t,e,n){return e&&Fb(t.prototype,e),n&&Fb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.shopifyController=e}),[{key:"getToken",value:function(e){var n=this.getShopName(e);return n?this.shopifyController.token(n).then((function(t){return t.body["token"]}))["catch"]((function(t){throw new Error(t.body)})):t.Promise.reject(new Error("Shop name not found in snippet source"))}},{key:"getShopName",value:function(t){return t.query["shop"]}}])}();function zb(t){return zb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zb(t)}function Gb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jb(r.key),r)}}function Jb(t){var e=function(t,e){if("object"!=zb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zb(e)?e:e+""}function $b(t,e,n){return e=Xb(e),function(t,e){if(e&&("object"==zb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Kb()?Reflect.construct(e,n||[],Xb(t).constructor):e.apply(t,n))}function Kb(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Kb=function(){return!!t})()}function Xb(t){return Xb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xb(t)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Zb(t,e)}var Yb=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=$b(this,e,[n])).wovnContext=t;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}(e,t);return function(t,e,n){return e&&Gb(t.prototype,e),n&&Gb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"token",value:function(t){var e={shop:t};return this.getAndParseJson(this.wovnContext.cdnOriginHost,"/shopify/token",e,Oo.FormUrlEncoded)}}])}(fl);function Qb(e,n,r){var o={},i=n.href,a=new Kr(n);if(a.disableWidget)return t.Promise.resolve();var u=qu(e.documentElement);if(!u)return t.Promise.reject("WovnWidgetError - Snippet not found");if(null!=r&&r.getItem){var s=r.getItem("wovn-snippet-src-override");if(s&&!u.hasAttribute("wovn-src-override")){var l=e.createElement("script");l.async=!0;l.setAttribute("wovn-src-override",u.src);l.setAttribute("data-wovnio",u.getAttribute("data-wovnio"));l.src="https://wovnwidgettmp.s3.us-west-2.amazonaws.com/"+s;u.parentNode.insertBefore(l,u);return t.Promise.resolve()}}var c=H(u),f=new qb(new Yb(c,new Wf({cancellationToken:new Lb})));return function(e,n){if(e.hasAttribute(Vb))return t.Promise.resolve(Mb(e));var r=new(Gn())(e.src,!0),o=r.query["token"];if(o){e.setAttribute(Vb,"key=".concat(o));return t.Promise.resolve(Mb(e))}return n.getToken(r).then((function(t){e.setAttribute(Vb,"key=".concat(t,"&shopify=true"));return Mb(e)}))}(u,f).then((function(t){if(a.useCreeper&&!t.isCreeper)throw new Error("Wovn Creeper Active - Aborting non-creeper widget (token: "+t.token+")");if(!(J.isCrawler()||J.isWovnCrawler()&&!t.isCrawlerScrapingEnabled)){var r=function(t,e,n,r,o,i,a){var u=H(r),s=Pb(a,r),l=new Ub(t,o);l.exposeComponentApi();cb(l,i,a,history,t,u,o,s,e,n);l.tag={html:r,getAttribute:function(t){t="string"==typeof t?t:"";if(r.hasAttribute?r.hasAttribute(t):void 0!==r[t])return r.getAttribute(t);var e=new RegExp(t+"=([^&]*)","i"),n=(r.getAttribute("data-wovnio")||"").match(e);return n?"false"!==n[1]&&n[1]:""}};return l}(o,a,i,u,t,e,n);return tw(r).then((function(){}))}window.WOVN=null;window.Wovnio=null;e.WOVNIO=null}))}function tw(e){return new t.Promise((function(t){var n=document.getElementsByTagName("html")[0];if(n&&Ee(n,"wovn-ignore"))t(e);else{e.c("WidgetInit").start((function(){return t(e)}))}}))}0;if(window._wovnIsQUnitTest){null}else document.WOVNIO||Qb(document,location,localStorage)}()}();